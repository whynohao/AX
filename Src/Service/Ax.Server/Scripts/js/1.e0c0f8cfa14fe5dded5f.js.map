{"version":3,"sources":["webpack:///Scripts/js/1.e0c0f8cfa14fe5dded5f.js","webpack:///./src/components/content/layout.vue","webpack:///./src/components/items/console-items.js?e5fc","webpack:///./src/components/items/nav-header-items.js?74df","webpack:///./src/assets/js/cps/CpsCommon.js","webpack:///./src/assets/js/cps/CpsMainPanel.js","webpack:///./src/assets/js/cps/CpsControlsAttr.js","webpack:///./src/assets/js/cps/CpsPolylineAttr.js","webpack:///./src/assets/js/cps/CpsEventPanel.js","webpack:///./src/assets/js/cps/CpsSystemControls.js","webpack:///./~/_core-js@2.5.0@core-js/library/modules/_object-pie.js","webpack:///./~/_core-js@2.5.0@core-js/library/modules/_wks-define.js","webpack:///./~/_core-js@2.5.0@core-js/library/modules/_wks-ext.js","webpack:///./src/assets/js/cps/CpsProgramControls.js","webpack:///./~/_core-js@2.5.0@core-js/library/modules/_object-gopn.js","webpack:///./~/_core-js@2.5.0@core-js/library/modules/_object-gops.js","webpack:///layout.vue","webpack:///./src/assets/js/cps/CpsConfigureMain.js","webpack:///./src/assets/js/ext/cps-configure.js","webpack:///./src/assets/js/ext/document.js","webpack:///./src/assets/js/ext/menu-config.js","webpack:///./src/assets/js/ext/message-control.js","webpack:///./src/assets/js/ext/oa-home-control.js","webpack:///./src/assets/js/ext/workbench.js","webpack:///./src/assets/js/toastr/toastr.js","webpack:///./~/_babel-runtime@6.26.0@babel-runtime/core-js/symbol.js","webpack:///./~/_babel-runtime@6.26.0@babel-runtime/core-js/symbol/iterator.js","webpack:///./~/_babel-runtime@6.26.0@babel-runtime/helpers/typeof.js","webpack:///./~/_core-js@2.5.0@core-js/library/fn/symbol/index.js","webpack:///./~/_core-js@2.5.0@core-js/library/fn/symbol/iterator.js","webpack:///./~/_core-js@2.5.0@core-js/library/modules/_enum-keys.js","webpack:///./~/_core-js@2.5.0@core-js/library/modules/_keyof.js","webpack:///./~/_core-js@2.5.0@core-js/library/modules/_object-gopd.js","webpack:///./~/_core-js@2.5.0@core-js/library/modules/_object-gopn-ext.js","webpack:///./~/_core-js@2.5.0@core-js/library/modules/es6.symbol.js","webpack:///./~/_core-js@2.5.0@core-js/library/modules/es7.symbol.async-iterator.js","webpack:///./~/_core-js@2.5.0@core-js/library/modules/es7.symbol.observable.js","webpack:///./src/components/content/layout.vue?0a65","webpack:///./src/components/content/layout.vue?fbdc","webpack:///./src/components/content/layout.vue?d444"],"names":["webpackJsonp","160","module","exports","__webpack_require__","Component","243","__webpack_exports__","Object","defineProperty","value","d","ConsoleItems","ConsoleItemKey","OA_HOME","MESSAGES","SUPPLATFORM","PUBLISH","PROGID","MENUITEM","enabled","index","244","EnumNavHeader","NavHeaderItems","NavHeaderItemUtility","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set___default","n","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck___default","this","workbench","business","report","kpi","board","document","menuConfig","cpsModel","defaultHeaderItem","key","text","contrainer","a","map","item","599","CpsCommonFunc","CpsCommonVar","CpsCommonConst","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_createClass___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_2__CpsPolylineAttr__","mainPanelId","canvasId","controlsId","cpsControlsId","sysControlsId","drawSVGId","comTechRouteType","comMaterial","comWorkshopSection","comWorkProcess","comWorkstationConfig","comMaterialType","comTechRoute","comProduceLine","comWorkstation","materialTypeSize","materialSize","workstationConfigSize","workProcessSize","techRouteTypeSize","workshopSectionSize","renderTo","controlLineModels","drawSvgWidth","drawSvgHeight","attrFormPanels","controlsAttrPanel","polylineAttrPanel","munePanel","descToolTip","masterVcl","useToolTip","useVectorLine","redrawVectorLine","vectorLineIndex","positionRectPoints","redrawCpsControl","cpsControlPoint","selControlId","selVectorLineId","selCpsControl","selSvgPolyline","isSelCpsControl","produceControlLineId","callback","Ext","Ajax","request","url","jsonData","method","async","timeout","success","response","list","JSON","decode","responseText","failure","Msg","alert","$","css","controlConfigId","factoryModuleType","ControlConfigId","FactoryModuleType","element","elementType","pointsAttr","lineId","attr","controlStartType","parseInt","points","split","x1","y1","x2","length","y2","x","y","controlId","Math","round","replace","w","h","width","height","r","elementPoints","getElementPoints","i","find","cx","cy","data-lineid","data-controlid","controlType","isStartPoint","controlEndType","abs","floor","model","checkErrorStr","StartControlId","EndControlId","startProduceLine","indexOf","endProduceLine","startWorkshopSection","endWorkshopSection","startWorkProcess","endWorkProcess","startWorkstation","endWorkstation","push","kind","msg","LineId","oneWayVectors","twoWayVectors","startTechRouteType","endTechRouteType","startTechRoute","endTechRoute","startWorkstationConfig","endWorkstationConfig","startMaterialType","endMaterialType","startMaterial","towWayVectors","ControlDetail","VectorLineDetail","controlArray","controlIds","inArray","ControlId","remove","deletePolylineByControlId","ControlName","RelId","polylineArray","polylineIds","errorArr","checkProduceLineModel","concat","display","getForm","reset","info","result","Messages","errMsg","MessageKind","Message","Ax","utils","LibMsg","show","removeControlSelStyle","Result","data","invorkBcf","currentPk","setDataSet","masterRow","dataSet","getTable","items","forms","loadRecord","background-color","border","len","$chars","maxPos","pwd","charAt","random","progId","canUse","handle","UserHandle","ret","CanUseFuncResult","filterStore","create","fields","proxy","type","reader","fieldLabel","labelAlign","labelWidth","margin","flex","queryMode","displayField","valueField","store","editable","compareStore","dateStore","600","CpsMainPanel","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default","__WEBPACK_IMPORTED_MODULE_2__CpsCommon__","__WEBPACK_IMPORTED_MODULE_3__CpsEventPanel__","__WEBPACK_IMPORTED_MODULE_4__CpsSystemControls__","__WEBPACK_IMPORTED_MODULE_5__CpsControlsAttr__","mainPanelDomId","controlsDomId","canvasDomId","html","getControlConfigureVue","cpsControlsDomId","sysControlsDomId","drawSVGDomId","svgVue","getSvgLayoutVue","empty","append","controlsVue","loadCanvasControlsVue","loadCanvasSvgVue","imgSize","ControlWidth","ControlHeight","XCoordinate","YCoordinate","ProgId","RelIcon","polyline","createElementNS","setAttribute","Coordinates","ControlStartType","ControlEndType","minWidth","minHeight","j","canvasEle","clientWidth","offsetWidth","scrollWidth","clientHeight","offsetHeight","scrollHeight","unbind","factoryModuleTypeStore","Name","Value","form","bodyPadding","defaults","anchor","cls","xtype","name","triggerAction","mode","buttons","scale","handler","up","findField","getValue","loadCpsConfigureView","isShowWsTip","sysEventPanel","getAt","setDisabled","factoryModuleTypeWin","close","title","closable","layout","vcl","clearElementBindEvent","window","clearInterval","taskNoTipInterval","getProduceControlLineList","loadCanvasVue","getCpsControlConfigureList","loadControlConfigVue","loadCpsConfigureEvent","initSizeDrawSvg","maxWidth","body","maxHeight","content","panel","ProduceControlLineName","titleAlign","constrain","draggable","resizable","set","TechRouteId","TechRouteName","TechRouteTypeId","TechRouteTypeName","IsParallelTechRoute","BizAttr","Version","MaterialId","MaterialName","MaterialSpec","UnitId","UnitName","suspendLayouts","curStore","suspendEvents","removeAll","undefined","WorkProcessDetail","newRow","addRow","RowId","RowNo","WorkShopSectionId","WorkShopSectionName","WorkProcessId","WorkProcessName","ProductDetail","WorkStationConfigId","WorkStationConfigName","WorkProcessNo","TransferWorkProcessNo","NeedGather","DoWorkProcess","ProductOuterDetail","product","subRow","ParentRowId","MaterialTypeId","MaterialTypeName","IsProduct","resumeEvents","ownGrid","getView","reconfigure","resumeLayouts","techRouteControlId","controlName","techRouteId","techRouteName","isCopy","materialId","lineModel","controlModel","getTechRouteData","techRouteModel","setControlRelIdName","resetTechRouteLayout","trModel","workProcessCount","WorkShopSectionDetail","WorkProcessNodeList","isVerticalLayout","hSpace","vSpace","standardSize","size","left","top","cpsControl","controlAttrArr","delAllTechRouteControlLines","resizeTechRouteControl","trtHeight","trtWidth","trtLeft","trtTop","trtIndex","techRouteTypeControlId","createCpsControl","createVectorLine","mLeft","mTop","mIndex","materialControlId","entryWorkProcessCount","workShopSectionModel","wsWidth","wsHeight","wsLeft","wsTop","wsIndex","workshopSectionId","WorkProcessNode","entryWorkProcess","WorkProcess","workProcessChild","WorkProcessChild","ewcHeight","ewcWidth","ewpLeft","ewpTop","createWorkProcessControls","startControlId","workProcess","wpLeft","wpTop","wpHeight","wpWidth","wpIndex","workProcessId","wcHeight","wcWidth","wcLeft","wcTop","wcIndex","workstationConfigId","k","productOuterDetail","wtHeight","wtWidth","wtLeft","wtTop","wtIndex","materialTypeId","ewHeight","ewWidth","ewLeft","ewTop","ewIndex","transferWorkProcess","controlAttr","relId","controlFilter","relName","OccurrenceTimes","cpsControlId","substring","clone","id","data-relid","position","getControlAttr","resizeDrawSvg","endControlId","pointIndex","startControl","endControl","startPointIndex","endPointIndex","startRectPoints","endRectPoints","startRectIndex","endRectIndex","startControlPoint","getPolylineStartOrEndPoint","endControlPoint","getPointsByStyle","createSvgPolyline","ProduceControlLineId","controlIdArr","workshopSectionIdArr","trVectorArray","workProcessIdArray","wsVectorArray","delWorkProcessRelLines","startWorkProcessIdArray","materialTypeIdArray","wpVectorArray","mtVectorArray","601","CpsControlsAttr","__WEBPACK_IMPORTED_MODULE_3__CpsMainPanel__","__WEBPACK_IMPORTED_MODULE_4__CpsPolylineAttr__","hidden","minValue","step","maxLength","maxLengthText","readOnly","allowBlank","blankText","enforceMaxLength","listeners","focus","component","eventObject","eOpts","originalValue","blur","setValue","control","setControlAttr","updatePolylineIdByControlId","originalControlId","change","field","newValue","oldValue","defaultType","boxLabel","inputValue","checked","allowDecimals","negativeText","moveCpsControl","setSizeDrawSvg","cHeight","updatePolylinePointsByControlId","cWidth","grow","elDrag","setValues","getCmp","ControlType","changeWidth","controlPoint","event","clientX","point","clientY","getCpsControlMinWidthOrHeight","enlarge","zoomWidth","zoomHeight","xCoordinate","yCoordinate","controlWidth","controlHeight","relIcon","ControlDescription","attrName","attrValue","existControl","splice","602","CpsPolylineAttr","__WEBPACK_IMPORTED_MODULE_4__CpsControlsAttr__","__WEBPACK_IMPORTED_MODULE_5__CpsEventPanel__","svgPolyline","curPoints","oraPoints","substr","updatePolylineByLineId","setPolylineOtherEvent","copySvgPolyline","rectX","rectY","leftX","rightX","lowerY","upperY","canvasOffsetX","canvasOffsetY","getPositionRectPoint","setPolylineAttrFormValues","coordinate","data-endid","data-endtype","lstIndex","data-startid","data-starttype","deletePolylineByLineId","getPolylineModel","toastr","error","coordinates","startVectors","endVectors","eleControl","pointArr","vectorLineArr","setPolylineDrawEvent","bind","showElementPoints","offset","scrollLeft","scrollTop","createPolyline","preventDefault","updatePolyline","changeCpsControlAttr","savePolyline","603","CpsEventPanel","__WEBPACK_IMPORTED_MODULE_5__CpsProgramControls__","__WEBPACK_IMPORTED_MODULE_6__CpsPolylineAttr__","__WEBPACK_IMPORTED_MODULE_7__CpsControlsAttr__","State","isShowTaskNoTip","setText","click","selFactoryModuleType","produceLineRelId","workStationId","workstations","workSectionId","produceLineId","controlDom","showBottomOrLeftTrg","isTopOrRight","svgNode","rectNode","px","polygonNode","ty","textValue","textNode","textNodeString","createTextNode","appendChild","tSpanNode","createSvgTSpan","tpy","tSpanNodeString","wsModel","getProduceLineOfWorkStation","WorkStationId","state","createSvg","createSvgRect","createSvgPolygon","textNode1","createSvgText","textNode2","TaskNo","textNode3","FinishCount","produceModuleInfo","produceModule","ProduceLineId","produceLine","WorkstationDetail","createWorkStationSvgTip","destroyWorkStationTips","setProduceLineOfWorkStationTips","columns","colspan","confirm","btn","reInitCpsConfigureView","checkProduceControlLineModels","prompt","saveProduceControlLineModels","showProduceControlLineModels","showAttrFormPanel","setVisible","setInterval","showProduceLineOfWorkStationInfo","originalEvent","button","hide","parent","removeClass","addClass","keyCode","which","ctrlKey","deleteControlByControlId","copyCpsControl","isPasteCpsControl","zoomCpsControl","down","right","dragControl","initSystemControlEvent","initCommonEvent","initProgramControlEvent","initPolylineEvent","605","CpsSystemControls","isDraggable","configVue","ConfigDetail","DisplayType","cos","ProgName","ControlConfigName","cursor","606","f","propertyIsEnumerable","607","global","core","LIBRARY","wksExt","$Symbol","Symbol","608","609","CpsProgramControls","filterChecked","filterCbo","dateCbo","record","pageSize","listLoadData","pageCount","filter","fieldName","listingQuery","Handle","TimeFilter","Filter","EntryParam","ENTRYPARAM","listData","GetBillListingResult","filterField","FilterField","loadData","listingLength","Data","ceil","displayText","canUseFunc","win","extId","randomString","parentId","PROGNAME","BILLTYPE","ISVISUAL","CONDITION","leaf","children","tabId","getFilterCob","compareCbo","getCompareCbo","compareTxt","getCompareTxt","getDateCbo","filterFun","LibQuickSelectBuilder","createSelectBar","filterPanel","listingData","listingLoadData","allPageCount","toolBarAction","getBillDataList","isSuccess","listingStore","Fields","gridPanel","autoScroll","Pks","Pk","selType","multiSelect","Columns","plugins","itemclick","self","e","execute","itemdblclick","renderer","metadata","rowIndex","LibToolBarBuilder","createBillListingAction","selConfirm","Action","iconCls","firstRecord","getSelectionModel","getSelection","pk","get","tab","align","tbar","createToolBar","isWindow","beforeshow","clearSelections","refresh","menuControlRelId","orderStore","getStore","rowCount","getCount","selectRange","techRouteProgId","techRouteControlName","billAction","BillActionEnum","Edit","AddNew","curPks","showProgramDataView","buildControlLayout","entryParam","LibVclSystemUtils","getVcl","BillTypeEnum","Master","view","getTpl","billType","DesktopApp","ActiveWindow","winId","funcView","progName","tpl","DisplayText","getCurrentStateText","curPk","ShowAuditState","getAuditStateText","constrainHeader","minimizable","maximizable","vclHandler","libEventType","LibEventTypeEnum","FormClosed","isEdit","beforeclose","FormClosing","Modif","FillTechRouteGridData","updateControlByControlId","initSvgControlEvent","floating","shadow","menuControlId","menuControl","showProgramDataListView","isShow","trackMouse","dismissDelay","anchorOffset","Width","svgOffset","update","showAt","setControlDragEvent","setSvgControlOtherEvent","setControlMoveEvent","getPersonalControl","controlOffsetX","controlOffsetY","setControlAttrFormValues","createControlMenu","AdditionalTechRouteData","Browse","createControlToolTip","610","$keys","hiddenKeys","getOwnPropertyNames","O","611","getOwnPropertySymbols","616","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default","__WEBPACK_IMPORTED_MODULE_1__store_mutation_types__","__WEBPACK_IMPORTED_MODULE_2__assets_js_ext_container_tab_panel__","__WEBPACK_IMPORTED_MODULE_3__assets_js_ext_workbench__","__WEBPACK_IMPORTED_MODULE_4__assets_js_ext_menu_config__","__WEBPACK_IMPORTED_MODULE_5__assets_js_ext_cps_configure__","__WEBPACK_IMPORTED_MODULE_6__assets_js_ext_document__","__WEBPACK_IMPORTED_MODULE_7__items_nav_header_items__","__WEBPACK_IMPORTED_MODULE_8__assets_js_ext_contentExt__","__WEBPACK_IMPORTED_MODULE_9__assets_js_signalR_signalR_js__","__WEBPACK_IMPORTED_MODULE_10__assets_js_toastr_toastr_js__","__WEBPACK_IMPORTED_MODULE_11_src_module_storage__","subscribe","isExt","computed","contrainers","getContrainers","headerItem","$store","mainHeader","selectedItem","beforeMount","subscribeChanged","mounted","init","beforeDestroy","methods","toastrInit","connectionInit","loadVueStore","onInit","headerItemChanged","setDefaultHeaderItem","_this","getHeaderItem","getDefaultHeaderItem","$nextTick","setHeaderItem","dispatch","_this2","mutation","$router","payload","sideItemChanged","extCmp","getExtComponent","reRender","itemClick","setMainSidebarEnabled","setContrainer","initContrainer","setSidebarEnabledByContrainer","domContrainer","$refs","putExtComponent","getControl","onSetMenu","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","next","done","domList","className","err","return","ext","updateLayout","console","isEnabled","630","__WEBPACK_IMPORTED_MODULE_0__CpsCommon__","__WEBPACK_IMPORTED_MODULE_1__CpsMainPanel__","__WEBPACK_IMPORTED_MODULE_2__CpsSystemControls__","__WEBPACK_IMPORTED_MODULE_3__CpsControlsAttr__","define","launcher","createAttrPanel","controlAttrPanel","createControlAttrPanel","createPolylineAttrPanel","createCpsFactoryModule","eventPanel","createEventPanel","mainPanel","createMainPanel","attrPanel","header","animCollapse","style","border-radius","border-color","loadSystemControlConfigVue","631","CpsConfigure","__WEBPACK_IMPORTED_MODULE_2__module_storage__","__WEBPACK_IMPORTED_MODULE_3__components_items_nav_header_items__","__WEBPACK_IMPORTED_MODULE_4__cps_CpsCommon__","__WEBPACK_IMPORTED_MODULE_5__cps_CpsMainPanel__","gotoMenu","Instance","filterList","CpsConfigureItem","CPSConfigureManage","CpsConfigureMain","jumpTo","loadCanvas","cpsConfigureId","LastItem","el","632","Document","__WEBPACK_IMPORTED_MODULE_4__components_items_nav_header_items__","Loader","setPath","DocumentItem","DocumentManage","DocumentMain","JumpTo","JumpBack","log","dirId","dirType","docId","util","DelayedTask","dirDocViewTab","autoExpandFirstNode","delay","633","MenuConfig","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default","rootData","loadMenuData","modelType","Model","schema","getEntity","extend","root","expanded","ENABLETREELISTING","TREECOLUMNNAME","fixNodes","treePanel","rootVisible","clicksToEdit","dockedItems","getRootNode","menuData","encode","serialize","setRoot","formPanel","viewConfig","ptype","dragText","allowContainerDrop","allowParentInsert","containerScroll","sortOnDrop","itemcontextmenu","menu","Menu","Array","contains","addNode","getXY","selectedNode","getLastSelected","add","Id","select","fieldType","expand","currNode","nextLevel","newNode","newGuid","parentNode","clearParam","dataRow","getRecord","beginEdit","endEdit","param","ParamStore","LibEntryParam","createForm","proxyVcl","execCondition","execProgId","QueryFields","LibQueryForm","marginTop","marginBottom","tableIndex","relSource","axp.FuncList","relPk","selParams","selectFields","condition","splitter","borderColor","borderStyle","sender","Validating","dataInfo","cancel","Validated","ctrl","realRelSource","obj","LibSysUtils","getRelSource","xcontainer","hasRealRelSource","fn","returnValue","CheckFieldValueResult","p","hasOwnProperty","getField","getId","call","doCheckField","curGrid","curForm","formCallBackHandler","tag","setCondition","containerpanel","isVcl","modal","634","MessageControl","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","__WEBPACK_IMPORTED_MODULE_3__components_items_console_items__","requires","startTime","onlyUnRead","GetMyNewsResult","sorters","property","direction","isShowReaded","grid","collapsible","rowBodyTpl","XTemplate","dock","newsList","records","SetMyNewsReadStateResult","dataIndex","summaryType","summaryRenderer","summaryData","tooltip","scope","colIndex","rec","infoId","sourceSiteId","sourceSiteFullName","token","userHandle","GetTokenResult","ssoOpenBill","UserId","Token","BillType","CurPks","InfoId","siteUrl","newPageUrl","encodeURIComponent","open","BillManager","openBillByF4","openRpt","axT","635","ShowMessagePanel","panelTitle","createTime","plain","background","OaHomeControl","__WEBPACK_IMPORTED_MODULE_2__components_items_console_items__","noticeStore","JsonReader","autoLoad","advicesPanel","hideHeaders","forceFit","sortable","dataview","newsStore","newsPanel","linksStore","linksPanel","knowledgePanel","ajax","dataType","contentType","Title","CreateTime","Content","picturePanel","eq","636","Workbench","__WEBPACK_IMPORTED_MODULE_3__oa_home_control__","__WEBPACK_IMPORTED_MODULE_4__message_control__","__WEBPACK_IMPORTED_MODULE_5__components_items_console_items__","controlItems","me","userId","Cookies","password","params","VendorLoginResult","637","Toastr","messageOpts","closeButton","debug","positionClass","onclick","showDuration","hideDuration","timeOut","extendedTimeOut","showEasing","hideEasing","showMethod","hideMethod","options","638","default","__esModule","639","640","_interopRequireDefault","_iterator2","_symbol","_symbol2","_typeof","constructor","prototype","641","642","643","getKeys","gOPS","pIE","it","getSymbols","symbols","isEnum","644","toIObject","object","keys","645","createDesc","toPrimitive","has","IE8_DOM_DEFINE","gOPD","getOwnPropertyDescriptor","P","646","gOPN","toString","windowNames","getWindowNames","slice","647","DESCRIPTORS","$export","redefine","META","KEY","$fails","shared","setToStringTag","uid","wks","wksDefine","keyOf","enumKeys","isArray","anObject","_create","gOPNExt","$GOPD","$DP","dP","$JSON","_stringify","stringify","HIDDEN","TO_PRIMITIVE","SymbolRegistry","AllSymbols","OPSymbols","ObjectProto","USE_NATIVE","QObject","setter","findChild","setSymbolDesc","D","protoDesc","wrap","sym","_k","isSymbol","iterator","$defineProperty","enumerable","$defineProperties","l","$create","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","names","$getOwnPropertySymbols","IS_OP","TypeError","arguments","$set","configurable","G","W","F","es6Symbols","wellKnownSymbols","S","for","keyFor","useSetter","useSimple","defineProperties","replacer","$replacer","args","apply","valueOf","648","649","659","version","sources","mappings","file","sourcesContent","sourceRoot","678","locals","701","render","_vm","_h","$createElement","_c","_self","staticClass","_l","container","directives","rawName","expression","ref","refInFor","_v","staticRenderFns"],"mappings":"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","file":"Scripts/js/1.e0c0f8cfa14fe5dded5f.js","sourcesContent":["webpackJsonp([1,12,13],{\n\n/***/ 160:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(678)\n\nvar Component = __webpack_require__(242)(\n  /* script */\n  __webpack_require__(616),\n  /* template */\n  __webpack_require__(701),\n  /* scopeId */\n  \"data-v-49f23532\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 243:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ConsoleItems\", function() { return ConsoleItems; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ConsoleItemKey\", function() { return ConsoleItemKey; });\n\nvar ConsoleItemKey = {\n  'OA_HOME': 'OA_HOME',\n  'MESSAGES': 'MESSAGES',\n  'SUPPLATFORM': 'SUPPLATFORM',\n  'PUBLISH': 'PUBLISH'\n};\nvar ConsoleItems = [{\n  PROGID: ConsoleItemKey.OA_HOME,\n  MENUITEM: 'OA首页',\n  enabled: false,\n  index: 0\n}, {\n  PROGID: ConsoleItemKey.MESSAGES,\n  MENUITEM: '我的消息',\n  enabled: true,\n  index: 1\n}, {\n  PROGID: ConsoleItemKey.SUPPLATFORM,\n  MENUITEM: '供应商平台',\n  enabled: false,\n  index: 2\n}, {\n  PROGID: ConsoleItemKey.PUBLISH,\n  MENUITEM: '新功能发布',\n  enabled: true,\n  index: 3\n}];\n\n\n/***/ }),\n\n/***/ 244:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EnumNavHeader\", function() { return EnumNavHeader; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NavHeaderItems\", function() { return NavHeaderItems; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NavHeaderItemUtility\", function() { return NavHeaderItemUtility; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set__ = __webpack_require__(154);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from__ = __webpack_require__(152);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck__);\n\n\n\n\n\nvar EnumNavHeader = function EnumNavHeader() {\n  __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck___default()(this, EnumNavHeader);\n};\n\nEnumNavHeader.workbench = 'workbench';\nEnumNavHeader.business = 'business';\nEnumNavHeader.report = 'report';\nEnumNavHeader.kpi = 'kpi';\nEnumNavHeader.board = 'board';\nEnumNavHeader.document = 'document';\nEnumNavHeader.menuConfig = 'menuConfig';\nEnumNavHeader.cpsModel = 'cpsModel';\n\nvar defaultHeaderItem = {\n  key: EnumNavHeader.workbench,\n  text: '工作台',\n  contrainer: 'workbench',\n  enabled: true\n};\nvar NavHeaderItems = [defaultHeaderItem, {\n  key: EnumNavHeader.business,\n  text: '业务功能',\n  contrainer: EnumNavHeader.business,\n  enabled: true\n}, {\n  key: EnumNavHeader.report,\n  text: '报表管理',\n  contrainer: EnumNavHeader.business,\n  enabled: true\n}, {\n  key: EnumNavHeader.kpi,\n  text: 'KPI管理',\n  contrainer: EnumNavHeader.business,\n  enabled: true\n}, {\n  key: EnumNavHeader.board,\n  text: '看板管理',\n  contrainer: EnumNavHeader.business,\n  enabled: false\n}, {\n  key: EnumNavHeader.document,\n  text: '文档管理',\n  contrainer: EnumNavHeader.document,\n  enabled: true\n}, {\n  key: EnumNavHeader.cpsModel,\n  text: 'CPS建模',\n  contrainer: 'cpsModel',\n  enabled: true\n}, {\n  key: EnumNavHeader.menuConfig,\n  text: '功能菜单',\n  contrainer: EnumNavHeader.menuConfig,\n  enabled: true\n}];\n\nvar NavHeaderItemUtility = function () {\n  function NavHeaderItemUtility() {\n    __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck___default()(this, NavHeaderItemUtility);\n  }\n\n  __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default()(NavHeaderItemUtility, null, [{\n    key: 'getDefaultHeaderItem',\n    value: function getDefaultHeaderItem() {\n      return defaultHeaderItem;\n    }\n  }, {\n    key: 'getContrainers',\n    value: function getContrainers() {\n      return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from___default()(new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set___default.a(NavHeaderItems.map(function (item) {\n        return item.contrainer;\n      })));\n    }\n  }]);\n\n  return NavHeaderItemUtility;\n}();\n\n\n\n/***/ }),\n\n/***/ 599:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return CpsCommonFunc; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return CpsCommonVar; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return CpsCommonConst; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_createClass__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__CpsPolylineAttr__ = __webpack_require__(602);\n\n\n\n\n\nvar CpsCommonConst = function CpsCommonConst() {\n  __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, CpsCommonConst);\n};\n\nCpsCommonConst.mainPanelId = '#cpsMainPanel';\nCpsCommonConst.canvasId = '#cpsCanvas';\nCpsCommonConst.controlsId = '#controlModule';\nCpsCommonConst.cpsControlsId = '#cpsControls';\nCpsCommonConst.sysControlsId = '#sysControls';\nCpsCommonConst.drawSVGId = '#drawSVGView';\nCpsCommonConst.comTechRouteType = 'comTechRouteType_';\nCpsCommonConst.comMaterial = 'comMaterial_';\nCpsCommonConst.comWorkshopSection = 'comWorkshopSection_';\nCpsCommonConst.comWorkProcess = 'comWorkProcess_';\nCpsCommonConst.comWorkstationConfig = 'comWorkstationConfig_';\nCpsCommonConst.comMaterialType = 'comMaterialType_';\nCpsCommonConst.comTechRoute = 'comTechRoute_';\nCpsCommonConst.comProduceLine = 'comProduceLine_';\nCpsCommonConst.comWorkstation = 'comWorkstation_';\nCpsCommonConst.materialTypeSize = 50;\nCpsCommonConst.materialSize = 50;\nCpsCommonConst.workstationConfigSize = 50;\nCpsCommonConst.workProcessSize = 60;\nCpsCommonConst.techRouteTypeSize = 50;\nCpsCommonConst.workshopSectionSize = 60;\n\nvar CpsCommonVar = function CpsCommonVar() {\n  __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, CpsCommonVar);\n};\n\nCpsCommonVar.renderTo = null;\nCpsCommonVar.controlLineModels = null;\nCpsCommonVar.drawSvgWidth = 0;\nCpsCommonVar.drawSvgHeight = 0;\nCpsCommonVar.attrFormPanels = null;\nCpsCommonVar.controlsAttrPanel = null;\nCpsCommonVar.polylineAttrPanel = null;\nCpsCommonVar.munePanel = null;\nCpsCommonVar.descToolTip = null;\nCpsCommonVar.masterVcl = null;\nCpsCommonVar.useToolTip = false;\nCpsCommonVar.useVectorLine = false;\nCpsCommonVar.redrawVectorLine = false;\nCpsCommonVar.vectorLineIndex = 1;\nCpsCommonVar.positionRectPoints = null;\nCpsCommonVar.redrawCpsControl = false;\nCpsCommonVar.cpsControlPoint = null;\nCpsCommonVar.selControlId = null;\nCpsCommonVar.selVectorLineId = null;\nCpsCommonVar.selCpsControl = null;\nCpsCommonVar.selSvgPolyline = null;\nCpsCommonVar.isSelCpsControl = true;\n\nvar CpsCommonFunc = function () {\n  function CpsCommonFunc() {\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, CpsCommonFunc);\n  }\n\n  __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_createClass___default()(CpsCommonFunc, null, [{\n    key: 'getProduceControlLineList',\n    value: function getProduceControlLineList(produceControlLineId, callback) {\n      Ext.Ajax.request({\n        url: '/CpsModule/GetProduceControlLineModel',\n        jsonData: { produceControlLineId: produceControlLineId },\n        method: 'POST',\n        async: true,\n        timeout: 90000000,\n        success: function success(response) {\n          var list = Ext.JSON.decode(response.responseText);\n          CpsCommonVar.controlLineModels = list;\n          callback(list);\n        },\n        failure: function failure(response) {\n          Ext.Msg.alert('提示', '获取CPS产线模型数据出现异常');\n          callback(null);\n          $('#cpsLoading').css('display', 'none');\n        }\n      });\n    }\n  }, {\n    key: 'getCpsControlConfigureList',\n    value: function getCpsControlConfigureList(controlConfigId, factoryModuleType, callback) {\n      Ext.Ajax.request({\n        url: '/CpsModule/GetCurrentConfig',\n        jsonData: { controlConfigId: controlConfigId, factoryModuleType: factoryModuleType },\n        method: 'POST',\n        async: true,\n        timeout: 90000000,\n        success: function success(response) {\n          var list = Ext.JSON.decode(response.responseText);\n          CpsCommonVar.controlLineModels.ControlConfigId = list.ControlConfigId;\n          CpsCommonVar.controlLineModels.FactoryModuleType = list.FactoryModuleType;\n          callback(list);\n        },\n        failure: function failure(response) {\n          Ext.Msg.alert('提示', '获取当前CPS组件配置数据出现异常');\n          callback(null);\n          $('#cpsLoading').css('display', 'none');\n        }\n      });\n    }\n  }, {\n    key: 'getElementPoints',\n    value: function getElementPoints(element, elementType) {\n      var pointsAttr = [];\n\n      if (elementType === 'drawCircle') {\n        var lineId = element.attr('id');\n\n        var controlStartType = parseInt(element.attr('data-starttype'));\n\n        var points = element.attr('points').split(' ');\n        var x1 = parseInt(points[0].split(',')[0]);\n        var y1 = parseInt(points[0].split(',')[1]);\n        var x2 = parseInt(points[points.length - 1].split(',')[0]);\n        var y2 = parseInt(points[points.length - 1].split(',')[1]);\n\n        if (controlStartType === 1) {\n          y1 = y1 - 5;\n        } else if (controlStartType === 2) {\n          x1 = x1 + 5;\n        } else if (controlStartType === 3) {\n          y1 = y1 + 5;\n        } else if (controlStartType === 4) {\n          x1 = x1 - 5;\n        }\n\n        pointsAttr = [{ 'x': x1, 'y': y1, 'lineId': lineId, 'index': 1 }, { 'x': x2, 'y': y2, 'lineId': lineId, 'index': 2 }];\n      } else {\n        var controlId = element.attr('id');\n        var x = Math.round(element.css('left').replace('px', ''));\n        var y = Math.round(element.css('top').replace('px', ''));\n        var w = Math.round(element.css('width').replace('px', ''));\n        var h = Math.round(element.css('height').replace('px', ''));\n\n        if (elementType === 'controlRect') {\n          pointsAttr = [{ 'x': x + parseInt(w / 2) - 3, 'y': y - 3, 'controlId': controlId, 'width': 7, 'height': 7, 'index': 1 }, { 'x': x + w - 4, 'y': y + parseInt(h / 2) - 3, 'controlId': controlId, 'width': 7, 'height': 7, 'index': 2 }, { 'x': x + parseInt(w / 2) - 3, 'y': y + h - 4, 'controlId': controlId, 'width': 7, 'height': 7, 'index': 3 }, { 'x': x - 3, 'y': y + parseInt(h / 2) - 3, 'controlId': controlId, 'width': 7, 'height': 7, 'index': 4 }];\n        }\n\n        if (elementType === 'zoomCircle') {\n          pointsAttr = [{ 'x': x + 2, 'y': y + 2, 'controlId': controlId, 'r': 5, 'index': 1 }, { 'x': x + parseInt(w / 2), 'y': y, 'controlId': controlId, 'r': 5, 'index': 2 }, { 'x': x + w - 2, 'y': y + 2, 'controlId': controlId, 'r': 5, 'index': 3 }, { 'x': x + w, 'y': y + parseInt(h / 2), 'controlId': controlId, 'r': 5, 'index': 4 }, { 'x': x + w - 2, 'y': y + h - 2, 'controlId': controlId, 'r': 5, 'index': 5 }, { 'x': x + parseInt(w / 2), 'y': y + h, 'controlId': controlId, 'r': 5, 'index': 6 }, { 'x': x + 2, 'y': y + h - 2, 'controlId': controlId, 'r': 5, 'index': 7 }, { 'x': x, 'y': y + parseInt(h / 2), 'controlId': controlId, 'r': 5, 'index': 8 }];\n        }\n      }\n      return pointsAttr;\n    }\n  }, {\n    key: 'showElementPoints',\n    value: function showElementPoints(element, elementType) {\n      var elementPoints = CpsCommonFunc.getElementPoints(element, elementType);\n      if (elementType === 'drawCircle') {\n        for (var i = 0; i < elementPoints.length; i++) {\n          $(CpsCommonConst.drawSVGId).find('circle[id=\\'' + elementType + i + '\\']').attr({\n            'cx': elementPoints[i].x,\n            'cy': elementPoints[i].y,\n            'data-lineid': elementPoints[i].lineId\n          });\n        }\n        $(CpsCommonConst.drawSVGId).find('circle[name=\\'' + elementType + '\\']').css('display', 'block');\n      } else {\n        if (elementType === 'zoomCircle') {\n          for (var _i = 0; _i < elementPoints.length; _i++) {\n            $(CpsCommonConst.drawSVGId).find('circle[id=\\'' + elementType + _i + '\\']').attr({\n              'cx': elementPoints[_i].x,\n              'cy': elementPoints[_i].y,\n              'data-controlid': elementPoints[_i].controlId\n            });\n          }\n          $(CpsCommonConst.drawSVGId).find('circle[name=\\'' + elementType + '\\']').css('display', 'block');\n        }\n        if (elementType === 'controlRect') {\n          for (var _i2 = 0; _i2 < elementPoints.length; _i2++) {\n            $(CpsCommonConst.drawSVGId).find('rect[id=\\'' + elementType + _i2 + '\\']').attr({\n              'x': elementPoints[_i2].x,\n              'y': elementPoints[_i2].y,\n              'data-controlid': elementPoints[_i2].controlId\n            });\n          }\n          CpsCommonVar.positionRectPoints = elementPoints;\n        }\n        $(CpsCommonConst.drawSVGId).find('rect[name=\\'' + elementType + '\\']').css('display', 'block');\n      }\n    }\n  }, {\n    key: 'getPolylineStartOrEndPoint',\n    value: function getPolylineStartOrEndPoint(x, y, controlType, isStartPoint) {\n      if (isStartPoint) {\n        if (controlType === 1) {\n          x = x + 3;\n          y = y + 8;\n        } else if (controlType === 2) {\n          x = x - 1;\n          y = y + 3;\n        } else if (controlType === 3) {\n          x = x + 3;\n          y = y - 1;\n        } else if (controlType === 4) {\n          x = x + 8;\n          y = y + 3;\n        }\n      } else {\n        if (controlType === 1) {\n          x = x + 3;\n          y = y + 4;\n        } else if (controlType === 2) {\n          x = x + 4;\n          y = y + 3;\n        } else if (controlType === 3) {\n          x = x + 3;\n          y = y + 4;\n        } else if (controlType === 4) {\n          x = x + 4;\n          y = y + 3;\n        }\n      }\n      return x + ',' + y;\n    }\n  }, {\n    key: 'getPointsByStyle',\n    value: function getPointsByStyle(x1, y1, x2, y2, controlStartType, controlEndType) {\n      var points = x1 + ',' + y1 + ' ' + x2 + ',' + y2;\n      var type = controlStartType + '_' + controlEndType;\n\n      switch (type) {\n        case '0_0':\n          if (x1 !== x2 && y1 !== y2 && Math.abs(x2 - x1) > 4 && Math.abs(y2 - y1) > 4) {\n            points = x1 + ',' + y1 + ' ' + x1 + ',' + y2 + ' ' + x2 + ',' + y2;\n          }\n          break;\n        case '0_1':\n          if (x1 !== x2) {\n            if (y1 >= y2) {\n              points = x1 + ',' + y1 + ' ' + x1 + ',' + Math.abs(y2 - 10) + ' ' + x2 + ',' + Math.abs(y2 - 10) + ' ' + x2 + ',' + y2;\n            } else {\n              points = x1 + ',' + y1 + ' ' + x2 + ',' + y1 + ' ' + x2 + ',' + y2;\n            }\n          }\n          break;\n        case '0_2':\n          if (y1 !== y2) {\n            if (x1 > x2) {\n              points = x1 + ',' + y1 + ' ' + x1 + ',' + y2 + ' ' + x2 + ',' + y2;\n            } else {\n              points = x1 + ',' + y1 + ' ' + Math.abs(x2 + 10) + ',' + y1 + ' ' + Math.abs(x2 + 10) + ',' + y2 + ' ' + x2 + ',' + y2;\n            }\n          }\n          break;\n        case '0_3':\n          if (x1 !== x2) {\n            if (y1 > y2) {\n              points = x1 + ',' + y1 + ' ' + x2 + ',' + y1 + ' ' + x2 + ',' + y2;\n            } else {\n              points = x1 + ',' + y1 + ' ' + x1 + ',' + Math.abs(y2 + 10) + ' ' + x2 + ',' + Math.abs(y2 + 10) + ' ' + x2 + ',' + y2;\n            }\n          }\n          break;\n        case '0_4':\n          if (y1 !== y2) {\n            if (x1 >= x2) {\n              points = x1 + ',' + y1 + ' ' + Math.abs(x2 - 10) + ',' + y1 + ' ' + Math.abs(x2 - 10) + ',' + y2 + ' ' + x2 + ',' + y2;\n            } else {\n              points = x1 + ',' + y1 + ' ' + x1 + ',' + y2 + ' ' + x2 + ',' + y2;\n            }\n          }\n          break;\n        case '1_0':\n          if (x1 !== x2) {\n            if (y1 > y2) {\n              points = x1 + ',' + y1 + ' ' + x1 + ',' + y2 + ' ' + x2 + ',' + y2;\n            } else {\n              points = x1 + ',' + y1 + ' ' + x1 + ',' + Math.abs(y1 - 10) + ' ' + x2 + ',' + Math.abs(y1 - 10) + ' ' + x2 + ',' + y2;\n            }\n          }\n          break;\n        case '1_1':\n          if (x1 !== x2) {\n            if (y1 > y2) {\n              points = x1 + ',' + y1 + ' ' + x1 + ',' + Math.abs(y2 - 10) + ' ' + x2 + ',' + Math.abs(y2 - 10) + ' ' + x2 + ',' + y2;\n            } else {\n              points = x1 + ',' + y1 + ' ' + x1 + ',' + Math.abs(y1 - 10) + ' ' + x2 + ',' + Math.abs(y1 - 10) + ' ' + x2 + ',' + y2;\n            }\n          }\n          break;\n        case '1_2':\n          if (x1 > x2 && y1 > y2) {\n            points = x1 + ',' + y1 + ' ' + x1 + ',' + y2 + ' ' + x2 + ',' + y2;\n          } else {\n            points = x1 + ',' + y1 + ' ' + x1 + ',' + Math.abs(y1 - 10) + ' ' + Math.abs(x2 + 10) + ',' + Math.abs(y1 - 10) + ' ' + Math.abs(x2 + 10) + ',' + y2 + ' ' + x2 + ',' + y2;\n          }\n          break;\n        case '1_3':\n          if (y1 > y2) {\n            points = x1 + ',' + y1 + ' ' + x1 + ',' + Math.abs(y2 + 10) + ' ' + x2 + ',' + Math.abs(y2 + 10) + ' ' + x2 + ',' + y2;\n          } else {\n            points = x1 + ',' + y1 + ' ' + x1 + ',' + Math.abs(y1 - 10) + ' ' + Math.floor(x1 + (x2 - x1) / 2) + ',' + Math.abs(y1 - 10) + ' ' + Math.floor(x1 + (x2 - x1) / 2) + ',' + Math.abs(y2 + 10) + ' ' + x2 + ',' + Math.abs(y2 + 10) + ' ' + x2 + ',' + y2;\n          }\n          break;\n        case '1_4':\n          if (x1 < x2 && y1 > y2) {\n            points = x1 + ',' + y1 + ' ' + x1 + ',' + y2 + ' ' + x2 + ',' + y2;\n          } else {\n            points = x1 + ',' + y1 + ' ' + x1 + ',' + Math.abs(y1 - 10) + ' ' + Math.abs(x2 - 10) + ',' + Math.abs(y1 - 10) + ' ' + Math.abs(x2 - 10) + ',' + y2 + ' ' + x2 + ',' + y2;\n          }\n          break;\n        case '2_0':\n          if (y1 !== y2) {\n            if (x1 >= x2) {\n              points = x1 + ',' + y1 + ' ' + Math.abs(x1 + 10) + ',' + y1 + ' ' + Math.abs(x1 + 10) + ',' + y2 + ' ' + x2 + ',' + y2;\n            } else {\n              points = x1 + ',' + y1 + ' ' + x2 + ',' + y1 + ' ' + x2 + ',' + y2;\n            }\n          }\n          break;\n        case '2_1':\n          if (y1 < y2 && x1 < x2) {\n            points = x1 + ',' + y1 + ' ' + x2 + ',' + y1 + ' ' + x2 + ',' + y2;\n          } else {\n            points = x1 + ',' + y1 + ' ' + Math.abs(x1 + 10) + ',' + y1 + ' ' + Math.abs(x1 + 10) + ',' + Math.abs(y2 - 10) + ' ' + x2 + ',' + Math.abs(y2 - 10) + ' ' + x2 + ',' + y2;\n          }\n          break;\n        case '2_2':\n          if (y1 !== y2) {\n            if (x1 >= x2) {\n              points = x1 + ',' + y1 + ' ' + Math.abs(x1 + 10) + ',' + y1 + ' ' + Math.abs(x1 + 10) + ',' + y2 + ' ' + x2 + ',' + y2;\n            } else {\n              points = x1 + ',' + y1 + ' ' + Math.abs(x2 + 10) + ',' + y1 + ' ' + Math.abs(x2 + 10) + ',' + y2 + ' ' + x2 + ',' + y2;\n            }\n          }\n          break;\n        case '2_3':\n          if (x1 < x2 && y1 > y2) {\n            points = x1 + ',' + y1 + ' ' + x2 + ',' + y1 + ' ' + x2 + ',' + y2;\n          } else {\n            points = x1 + ',' + y1 + ' ' + Math.abs(x1 + 10) + ',' + y1 + ' ' + Math.abs(x1 + 10) + ',' + Math.abs(y2 + 10) + ' ' + x2 + ',' + Math.abs(y2 + 10) + ' ' + x2 + ',' + y2;\n          }\n          break;\n        case '2_4':\n          if (x1 >= x2) {\n            points = x1 + ',' + y1 + ' ' + Math.abs(x1 + 10) + ',' + y1 + ' ' + Math.abs(x1 + 10) + ',' + Math.floor(y1 + (y2 - y1) / 2) + ' ' + Math.abs(x2 - 10) + ',' + Math.floor(y1 + (y2 - y1) / 2) + ' ' + Math.abs(x2 - 10) + ',' + y2 + ' ' + x2 + ',' + y2;\n          } else {\n            points = x1 + ',' + y1 + ' ' + Math.abs(x2 - 10) + ',' + y1 + ' ' + Math.abs(x2 - 10) + ',' + y2 + ' ' + x2 + ',' + y2;\n          }\n          break;\n        case '3_0':\n          if (x1 !== x2) {\n            if (y1 >= y2) {\n              points = x1 + ',' + y1 + ' ' + x1 + ',' + Math.abs(y1 + 10) + ' ' + x2 + ',' + Math.abs(y1 + 10) + ' ' + x2 + ',' + y2;\n            } else {\n              points = x1 + ',' + y1 + ' ' + x1 + ',' + y2 + ' ' + x2 + ',' + y2;\n            }\n          }\n          break;\n        case '3_1':\n          if (y1 >= y2) {\n            points = x1 + ',' + y1 + ' ' + x1 + ',' + Math.abs(y1 + 10) + ' ' + Math.floor(x1 + (x2 - x1) / 2) + ',' + Math.abs(y1 + 10) + ' ' + Math.floor(x1 + (x2 - x1) / 2) + ',' + Math.abs(y2 - 10) + ' ' + x2 + ',' + Math.abs(y2 - 10) + ' ' + x2 + ',' + y2;\n          } else {\n            points = x1 + ',' + y1 + ' ' + x1 + ',' + Math.abs(y2 - 10) + ' ' + x2 + ',' + Math.abs(y2 - 10) + ' ' + x2 + ',' + y2;\n          }\n          break;\n        case '3_2':\n          if (x1 > x2 && y1 < y2) {\n            points = x1 + ',' + y1 + ' ' + x1 + ',' + y2 + ' ' + x2 + ',' + y2;\n          } else {\n            points = x1 + ',' + y1 + ' ' + x1 + ',' + Math.abs(y1 + 10) + ' ' + Math.abs(x2 + 10) + ',' + Math.abs(y1 + 10) + ' ' + Math.abs(x2 + 10) + ',' + y2 + ' ' + x2 + ',' + y2;\n          }\n          break;\n        case '3_3':\n          if (x1 !== x2) {\n            if (y1 >= y2) {\n              points = x1 + ',' + y1 + ' ' + x1 + ',' + Math.abs(y1 + 10) + ' ' + x2 + ',' + Math.abs(y1 + 10) + ' ' + x2 + ',' + y2;\n            } else {\n              points = x1 + ',' + y1 + ' ' + x1 + ',' + Math.abs(y2 + 10) + ' ' + x2 + ',' + Math.abs(y2 + 10) + ' ' + x2 + ',' + y2;\n            }\n          }\n          break;\n        case '3_4':\n          if (x1 < x2 && y1 < y2) {\n            points = x1 + ',' + y1 + ' ' + x1 + ',' + y2 + ' ' + x2 + ',' + y2;\n          } else {\n            points = x1 + ',' + y1 + ' ' + x1 + ',' + Math.abs(y1 + 10) + ' ' + Math.abs(x2 - 10) + ',' + Math.abs(y1 + 10) + ' ' + Math.abs(x2 - 10) + ',' + y2 + ' ' + x2 + ',' + y2;\n          }\n          break;\n        case '4_0':\n          if (y1 !== y2) {\n            if (x1 > x2) {\n              points = x1 + ',' + y1 + ' ' + x2 + ',' + y1 + ' ' + x2 + ',' + y2;\n            } else {\n              points = x1 + ',' + y1 + ' ' + Math.abs(x1 - 10) + ',' + y1 + ' ' + Math.abs(x1 - 10) + ',' + y2 + ' ' + x2 + ',' + y2;\n            }\n          }\n          break;\n        case '4_1':\n          if (x1 > x2 && y1 < y2) {\n            points = x1 + ',' + y1 + ' ' + x2 + ',' + y1 + ' ' + x2 + ',' + y2;\n          } else {\n            points = x1 + ',' + y1 + ' ' + Math.abs(x1 - 10) + ',' + y1 + ' ' + Math.abs(x1 - 10) + ',' + Math.abs(y2 - 10) + ' ' + x2 + ',' + Math.abs(y2 - 10) + ' ' + x2 + ',' + y2;\n          }\n          break;\n        case '4_2':\n          if (x1 > x2) {\n            points = x1 + ',' + y1 + ' ' + Math.abs(x2 + 10) + ',' + y1 + ' ' + Math.abs(x2 + 10) + ',' + y2 + ' ' + x2 + ',' + y2;\n          } else {\n            points = x1 + ',' + y1 + ' ' + Math.abs(x1 - 10) + ',' + y1 + ' ' + Math.abs(x1 - 10) + ',' + Math.floor(y1 + (y2 - y1) / 2) + ' ' + Math.abs(x2 + 10) + ',' + Math.floor(y1 + (y2 - y1) / 2) + ' ' + Math.abs(x2 + 10) + ',' + y2 + ' ' + x2 + ',' + y2;\n          }\n          break;\n        case '4_3':\n          if (x1 > x2 && y1 > y2) {\n            points = x1 + ',' + y1 + ' ' + x2 + ',' + y1 + ' ' + x2 + ',' + y2;\n          } else {\n            points = x1 + ',' + y1 + ' ' + Math.abs(x1 - 10) + ',' + y1 + ' ' + Math.abs(x1 - 10) + ',' + Math.abs(y2 + 10) + ' ' + x2 + ',' + Math.abs(y2 + 10) + ' ' + x2 + ',' + y2;\n          }\n          break;\n        case '4_4':\n          if (y1 !== y2) {\n            if (x1 > x2) {\n              points = x1 + ',' + y1 + ' ' + Math.abs(x2 - 10) + ',' + y1 + ' ' + Math.abs(x2 - 10) + ',' + y2 + ' ' + x2 + ',' + y2;\n            } else {\n              points = x1 + ',' + y1 + ' ' + Math.abs(x1 - 10) + ',' + y1 + ' ' + Math.abs(x1 - 10) + ',' + y2 + ' ' + x2 + ',' + y2;\n            }\n          }\n          break;\n        default:\n          points = x1 + ',' + y1 + ' ' + x2 + ',' + y2;\n          break;\n      }\n      return points;\n    }\n  }, {\n    key: 'checkProduceLineModel',\n    value: function checkProduceLineModel(model) {\n      var checkErrorStr = [];\n\n      if (model.StartControlId && model.EndControlId && model.StartControlId !== model.EndControlId) {\n        if (CpsCommonVar.controlLineModels.FactoryModuleType === 1) {\n          var startProduceLine = model.StartControlId.indexOf(CpsCommonConst.comProduceLine);\n          var endProduceLine = model.EndControlId.indexOf(CpsCommonConst.comProduceLine);\n          var startWorkshopSection = model.StartControlId.indexOf(CpsCommonConst.comWorkshopSection);\n          var endWorkshopSection = model.EndControlId.indexOf(CpsCommonConst.comWorkshopSection);\n          var startWorkProcess = model.StartControlId.indexOf(CpsCommonConst.comWorkProcess);\n          var endWorkProcess = model.EndControlId.indexOf(CpsCommonConst.comWorkProcess);\n          var startWorkstation = model.StartControlId.indexOf(CpsCommonConst.comWorkstation);\n          var endWorkstation = model.EndControlId.indexOf(CpsCommonConst.comWorkstation);\n\n          if (startProduceLine === 0 && endWorkshopSection !== 0 || endWorkshopSection === 0 && startProduceLine !== 0) {\n            checkErrorStr.push({ kind: 1, msg: '只能由生产线组件指向工段组件，矢量线【' + model.LineId + '】已为您自动删除！' });\n          } else if (startWorkshopSection === 0 && endWorkProcess !== 0 || endWorkProcess === 0 && startWorkshopSection !== 0) {\n            checkErrorStr.push({ kind: 1, msg: '只能由工段组件指向工序组件，矢量线【' + model.LineId + '】已为您自动删除！' });\n          } else if (startWorkProcess === 0 && endWorkstation !== 0 || endWorkstation === 0 && startWorkProcess !== 0) {\n            checkErrorStr.push({ kind: 1, msg: '只能由工序组件指向工作站点组件，矢量线【' + model.LineId + '】已为您自动删除！' });\n          } else if (endProduceLine === 0 && startWorkstation === 0) {\n            checkErrorStr.push({ kind: 1, msg: '工作站点组件不能指向生产线组件，矢量线【' + model.LineId + '】已为您自动删除！' });\n          } else {\n            var oneWayVectors = $(CpsCommonConst.drawSVGId).find('polyline[data-startid=\\'' + model.StartControlId + '\\'][data-endid=\\'' + model.EndControlId + '\\']');\n            var twoWayVectors = $(CpsCommonConst.drawSVGId).find('polyline[data-startid!=\\'' + model.StartControlId + '\\'][data-endid=\\'' + model.EndControlId + '\\']');\n            if (endWorkshopSection === 0 && (oneWayVectors.length > 1 || twoWayVectors.length > 0)) {\n              checkErrorStr.push({ kind: 1, msg: '同一工段组件只能被一个生产线组件来指向，矢量线【' + model.LineId + '】已为您自动删除！' });\n            } else if (endWorkProcess === 0 && (oneWayVectors.length > 1 || twoWayVectors.length > 0)) {\n              checkErrorStr.push({ kind: 1, msg: '同一工序组件只能被一个工段组件来指向，矢量线【' + model.LineId + '】已为您自动删除！' });\n            } else if (endWorkstation === 0 && (oneWayVectors.length > 1 || twoWayVectors.length > 0)) {\n              checkErrorStr.push({ kind: 1, msg: '同一工作站点组件只能被指向一个工序组件来指向，矢量线【' + model.LineId + '】已为您自动删除！' });\n            }\n          }\n        }\n        if (CpsCommonVar.controlLineModels.FactoryModuleType === 2) {\n          var startTechRouteType = model.StartControlId.indexOf(CpsCommonConst.comTechRouteType);\n          var endTechRouteType = model.EndControlId.indexOf(CpsCommonConst.comTechRouteType);\n          var startTechRoute = model.StartControlId.indexOf(CpsCommonConst.comTechRoute);\n          var endTechRoute = model.EndControlId.indexOf(CpsCommonConst.comTechRoute);\n          var _startWorkshopSection = model.StartControlId.indexOf(CpsCommonConst.comWorkshopSection);\n          var _endWorkshopSection = model.EndControlId.indexOf(CpsCommonConst.comWorkshopSection);\n          var _startWorkProcess = model.StartControlId.indexOf(CpsCommonConst.comWorkProcess);\n          var _endWorkProcess = model.EndControlId.indexOf(CpsCommonConst.comWorkProcess);\n          var startWorkstationConfig = model.StartControlId.indexOf(CpsCommonConst.comWorkstationConfig);\n          var endWorkstationConfig = model.EndControlId.indexOf(CpsCommonConst.comWorkstationConfig);\n          var startMaterialType = model.StartControlId.indexOf(CpsCommonConst.comMaterialType);\n          var endMaterialType = model.EndControlId.indexOf(CpsCommonConst.comMaterialType);\n          var startMaterial = model.StartControlId.indexOf(CpsCommonConst.comMaterial);\n\n          if (endTechRouteType === 0) {\n            checkErrorStr.push({ kind: 1, msg: '只能由标准工艺类型组件指向标准工艺路线组件，矢量线【' + model.LineId + '】已为您自动删除！' });\n          } else if (endWorkstationConfig === 0) {\n            checkErrorStr.push({ kind: 1, msg: '只能由站点配置组件指向工序组件，矢量线【' + model.LineId + '】已为您自动删除！' });\n          } else if (endTechRoute === 0 && startMaterial !== 0 && startTechRouteType !== 0) {\n            checkErrorStr.push({ kind: 1, msg: '只能由标准工艺类型或物料组件指向标准工艺路线组件，矢量线【' + model.LineId + '】已为您自动删除！' });\n          } else if (startTechRoute === 0 && _endWorkshopSection !== 0 || _endWorkshopSection === 0 && startTechRoute !== 0) {\n            checkErrorStr.push({ kind: 1, msg: '只能由标准工艺路线组件指向工段组件，矢量线【' + model.LineId + '】已为您自动删除！' });\n          } else if (_endWorkProcess !== 0 && (_startWorkshopSection === 0 || startWorkstationConfig === 0 || startMaterialType === 0 || _startWorkProcess === 0) || _startWorkshopSection !== 0 && startWorkstationConfig !== 0 && startMaterialType !== 0 && _startWorkProcess !== 0 && _endWorkProcess === 0) {\n            checkErrorStr.push({ kind: 1, msg: '只能由工段或站点配置或物料类别或工序组件指向工序组件，矢量线【' + model.LineId + '】已为您自动删除！' });\n          } else if (startMaterial === 0 && endMaterialType !== 0 && endTechRoute !== 0) {\n            checkErrorStr.push({ kind: 1, msg: '只能由物料组件指向物料类别或标准工艺路线组件，矢量线【' + model.LineId + '】已为您自动删除！' });\n          } else {\n            var _oneWayVectors = $(CpsCommonConst.drawSVGId).find('polyline[data-startid=\\'' + model.StartControlId + '\\']');\n            if (startTechRouteType === 0 && _oneWayVectors.length > 1) {\n              checkErrorStr.push({ kind: 1, msg: '同一标准工艺类型组件只能指向一个标准工艺路线组件，矢量线【' + model.LineId + '】已为您自动删除！' });\n            } else if (_startWorkProcess === 0 && _oneWayVectors.length > 1) {\n              checkErrorStr.push({ kind: 1, msg: '同一工序组件只能指向一个工序组件，矢量线【' + model.LineId + '】已为您自动删除！' });\n            } else if (startWorkstationConfig === 0 && _oneWayVectors.length > 1) {\n              checkErrorStr.push({ kind: 1, msg: '同一站点配置组件只能指向一个工序组件，矢量线【' + model.LineId + '】已为您自动删除！' });\n            } else {\n              var towWayVectors = $(CpsCommonConst.drawSVGId).find('polyline[data-startid=\\'' + model.StartControlId + '\\'][data-endid!=\\'' + model.EndControlId + '\\']');\n              if (startTechRoute === 0 && _endWorkshopSection === 0 && towWayVectors.length > 1) {\n                checkErrorStr.push({ kind: 1, msg: '同一工段只能被一个标准工艺路线组件组件所指向，矢量线【' + model.LineId + '】已为您自动删除！' });\n              } else if (startWorkstationConfig === 0 && _endWorkProcess === 0 && towWayVectors.length > 1) {\n                checkErrorStr.push({ kind: 1, msg: '同一工序只能被一个站点配置组件组件所指向，矢量线【' + model.LineId + '】已为您自动删除！' });\n              }\n            }\n          }\n        }\n      } else {\n        checkErrorStr.push({ kind: 1, msg: '矢量线的起始组件、结束组件均不可为空且不可相同，矢量线【' + model.LineId + '】已为您自动删除！' });\n      }\n\n      return checkErrorStr;\n    }\n  }, {\n    key: 'checkProduceControlLineModels',\n    value: function checkProduceControlLineModels() {\n      var checkErrorStr = [];\n\n      if (CpsCommonVar.controlLineModels.ControlDetail.length > 0 && CpsCommonVar.controlLineModels.VectorLineDetail.length > 0) {\n        var controlArray = [];\n\n        var controlIds = [];\n\n        for (var i = 0; i < CpsCommonVar.controlLineModels.ControlDetail.length; i++) {\n          var model = CpsCommonVar.controlLineModels.ControlDetail[i];\n          if ($.inArray(model.ControlId, controlIds) !== -1) {\n            $(CpsCommonConst.canvasId).find('div[id=\\'' + model.ControlId + '\\']').remove();\n            __WEBPACK_IMPORTED_MODULE_2__CpsPolylineAttr__[\"a\" /* CpsPolylineAttr */].deletePolylineByControlId(model.ControlId);\n            checkErrorStr.push({ kind: 2, msg: '组件的ID已存在，组件【' + model.ControlName + '】已为您自动删除！' });\n          } else {\n            if (!model.RelId) {\n              checkErrorStr.push({ kind: 1, msg: '组件【' + model.ControlName + '】的关联主数据ID不可为空' });\n            }\n            controlIds.push(model.ControlId);\n            controlArray.push(model);\n          }\n        }\n        CpsCommonVar.controlLineModels.ControlDetail = controlArray;\n\n        var polylineArray = [];\n\n        var polylineIds = [];\n\n        for (var _i3 = 0; _i3 < CpsCommonVar.controlLineModels.VectorLineDetail.length; _i3++) {\n          var _model = CpsCommonVar.controlLineModels.VectorLineDetail[_i3];\n          var errorArr = CpsCommonFunc.checkProduceLineModel(_model);\n          if (errorArr.length > 0) {\n            $(CpsCommonConst.drawSVGId).find('polyline[id=\\'' + _model.LineId + '\\']').remove();\n            checkErrorStr = checkErrorStr.concat(errorArr);\n          } else {\n            if ($.inArray(_model.StartControlId, controlIds) === -1 || $.inArray(_model.EndControlId, controlIds) === -1) {\n              $(CpsCommonConst.drawSVGId).find('polyline[id=\\'' + _model.LineId + '\\']').remove();\n              checkErrorStr.push({ kind: 1, msg: '矢量线的起始组件、结束组件需跟画板中的组件关联的规则，矢量线【' + _model.LineId + '】已为您自动删除！' });\n            } else if ($.inArray(_model.LineId, polylineIds) !== -1) {\n              $(CpsCommonConst.drawSVGId).find('polyline[id=\\'' + _model.LineId + '\\']').remove();\n              checkErrorStr.push({ kind: 1, msg: '矢量线的ID已存在，矢量线【' + _model.LineId + '】已为您自动删除！' });\n            } else {\n              polylineIds.push(_model.LineId);\n              polylineArray.push(_model);\n            }\n          }\n        }\n        CpsCommonVar.controlLineModels.VectorLineDetail = polylineArray;\n\n        $(CpsCommonConst.drawSVGId).find('circle[name=\\'drawCircle\\']').css({ 'display': 'none' });\n        CpsCommonVar.polylineAttrPanel.getForm().reset();\n      } else {\n        checkErrorStr.push({ kind: 2, msg: '画板中须存在组件以及其矢量线，否则无法继续操作！' });\n      }\n      return checkErrorStr;\n    }\n  }, {\n    key: 'saveProduceControlLineModels',\n    value: function saveProduceControlLineModels() {\n      Ext.Ajax.request({\n        url: '/CpsModule/SaveProduceControlLine',\n        jsonData: { info: CpsCommonVar.controlLineModels },\n        method: 'POST',\n        async: false,\n        timeout: 90000000,\n        success: function success(response) {\n          var result = Ext.decode(response.responseText);\n\n          if (result.Messages.length > 0) {\n            var errMsg = [];\n            for (var i = 0; i < result.Messages.length; i++) {\n              errMsg.push({ kind: result.Messages[i].MessageKind, msg: result.Messages[i].Message });\n            }\n            Ax.utils.LibMsg.show(errMsg);\n          } else {\n            CpsCommonFunc.removeControlSelStyle();\n\n            CpsCommonVar.polylineAttrPanel.getForm().reset();\n            CpsCommonVar.controlLineModels = result.Result;\n\n            if (CpsCommonVar.masterVcl) {\n              var data = CpsCommonVar.masterVcl.invorkBcf('BrowseTo', [CpsCommonVar.masterVcl.currentPk]);\n              CpsCommonVar.masterVcl.setDataSet(data, false);\n              var masterRow = CpsCommonVar.masterVcl.dataSet.getTable(0).data.items[0];\n              for (var _i4 = 0; _i4 < CpsCommonVar.masterVcl.forms.length; _i4++) {\n                CpsCommonVar.masterVcl.forms[_i4].loadRecord(masterRow);\n              }\n            }\n            Ext.Msg.alert('提示', 'CPS产线建模成功');\n          }\n        },\n        failure: function failure(response) {\n          var result = '保存当前CPS建模数据失败。异常原因为：' + Ext.decode(response.responseText);\n          Ext.Msg.alert('提示', response.responseText);\n        }\n      });\n    }\n  }, {\n    key: 'removeControlSelStyle',\n    value: function removeControlSelStyle() {\n      $(CpsCommonConst.canvasId).find('div.cps-controls-region').css({\n        'background-color': '#eceff4',\n        'border': '1px solid #bbcfde'\n      });\n\n      CpsCommonVar.controlsAttrPanel.getForm().reset();\n    }\n  }, {\n    key: 'randomString',\n    value: function randomString(len) {\n      len = len || 32;\n      var $chars = 'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678';\n\n      var maxPos = $chars.length;\n      var pwd = '';\n      for (var i = 0; i < len; i++) {\n        pwd += $chars.charAt(Math.floor(Math.random() * maxPos));\n      }\n      return pwd;\n    }\n  }, {\n    key: 'canUseFunc',\n    value: function canUseFunc(progId) {\n      var canUse = false;\n\n      Ext.Ajax.request({\n        url: '/billSvc/canUseFunc',\n        method: 'POST',\n        jsonData: {\n          handle: UserHandle, progId: progId\n        },\n        async: false,\n        timeout: 90000000,\n        success: function success(response) {\n          var ret = Ext.decode(response.responseText);\n          canUse = ret.CanUseFuncResult;\n        },\n        failure: function failure(response) {\n          Ext.Msg.alert('提示', '当前功能不具有使用权限');\n          canUse = false;\n        }\n      });\n      return canUse;\n    }\n  }, {\n    key: 'getFilterCob',\n    value: function getFilterCob() {\n      var filterStore = Ext.create('Ext.data.Store', {\n        fields: ['key', 'value'],\n        data: [{ key: 'all', value: '无' }],\n        proxy: {\n          type: 'memory',\n          reader: {\n            type: 'json'\n          }\n        }\n      });\n\n      var filterCbo = Ext.create('Ext.form.field.ComboBox', {\n        fieldLabel: '字段',\n        labelAlign: 'right',\n        labelWidth: 60,\n        margin: '0 2 2 2',\n        flex: 1,\n        queryMode: 'local',\n        displayField: 'value',\n        valueField: 'key',\n        store: filterStore,\n        editable: false,\n        value: 'all'\n      });\n      return filterCbo;\n    }\n  }, {\n    key: 'getCompareCbo',\n    value: function getCompareCbo() {\n      var compareStore = Ext.create('Ext.data.Store', {\n        fields: ['key', 'value'],\n        data: [{ key: 0, value: '包含' }, { key: 1, value: '等于' }, { key: 2, value: '大于等于' }, { key: 3, value: '小于等于' }, { key: 4, value: '大于' }, { key: 5, value: '小于' }]\n      });\n\n      var compareCbo = Ext.create('Ext.form.field.ComboBox', {\n        labelWidth: 60,\n        labelAlign: 'right',\n        margin: '0 2 2 2',\n        fieldLabel: '比较符',\n        flex: 1,\n        displayField: 'value',\n        queryMode: 'local',\n        valueField: 'key',\n        store: compareStore,\n        editable: false,\n        value: 0\n      });\n      return compareCbo;\n    }\n  }, {\n    key: 'getCompareTxt',\n    value: function getCompareTxt() {\n      var compareTxt = Ext.create('Ext.form.field.Text', {\n        labelWidth: 60,\n        labelAlign: 'right',\n        margin: '0 2 2 2',\n        flex: 2\n      });\n      return compareTxt;\n    }\n  }, {\n    key: 'getDateCbo',\n    value: function getDateCbo() {\n      var dateStore = Ext.create('Ext.data.Store', {\n        fields: ['key', 'value'],\n        data: [{ key: 0, value: '无' }, { key: 1, value: '近一周' }, { key: 2, value: '近一月' }, { key: 3, value: '近三月' }]\n      });\n\n      var dateCbo = Ext.create('Ext.form.field.ComboBox', {\n        labelWidth: 60,\n        labelAlign: 'right',\n        margin: '0 2 2 2',\n        fieldLabel: '时间',\n        flex: 1,\n        displayField: 'value',\n        queryMode: 'local',\n        valueField: 'key',\n        store: dateStore,\n        editable: false,\n        value: 0\n      });\n      return dateCbo;\n    }\n  }]);\n\n  return CpsCommonFunc;\n}();\n\n\n\n/***/ }),\n\n/***/ 600:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return CpsMainPanel; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__CpsCommon__ = __webpack_require__(599);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__CpsEventPanel__ = __webpack_require__(603);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__CpsSystemControls__ = __webpack_require__(605);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__CpsControlsAttr__ = __webpack_require__(601);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__CpsPolylineAttr__ = __webpack_require__(602);\n\n\n\n\n\n\n\n\n\nvar CpsMainPanel = function () {\n  function CpsMainPanel() {\n    __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default()(this, CpsMainPanel);\n  }\n\n  __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default()(CpsMainPanel, null, [{\n    key: 'createMainPanel',\n    value: function createMainPanel() {\n      var mainPanelDomId = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].mainPanelId.replace('#', '');\n      var controlsDomId = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].controlsId.replace('#', '');\n      var canvasDomId = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId.replace('#', '');\n      var html = '<div class=\"cps-controls-layout\" id=\"' + mainPanelDomId + '\" style=\"width:100%;height:100%;\">';\n      html = html + '<aside class=\"cps-controls-layout-aside\" id=\"' + controlsDomId + '\">' + CpsMainPanel.getControlConfigureVue() + '</aside>';\n      html = html + '<div class=\"cps-controls-layout-main\" id=\"' + canvasDomId + '\" tabindex=\"0\" style=\"position:relative;overflow:overlay;\">';\n      html = html + '</div>';\n      html = html + '<div id=\"cpsLoading\" class=\"cps-loading\"><i class=\"fa fa-refresh fa-spin\"></i></div>';\n      html = html + '</div>';\n      var mainPanel = Ext.create('Ext.panel.Panel', {\n        border: false,\n        height: '100%',\n        flex: 1,\n        html: html\n      });\n      return mainPanel;\n    }\n  }, {\n    key: 'getControlConfigureVue',\n    value: function getControlConfigureVue() {\n      var cpsControlsDomId = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].cpsControlsId.replace('#', '');\n      var sysControlsDomId = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].sysControlsId.replace('#', '');\n      var height = parseInt($('.content-section').css('height').replace('px', '')) - 35 * 2 - 130 - 50 - 10;\n      var html = '<ul class=\"cps-controls-sidebar\" style=\"width:100%;height:100%;\">';\n      html = html + '<li>';\n      html = html + '<div class=\"cps-controls-title\" name=\"cpsControlTitle\">';\n      html = html + '<span>CPS组件</span>';\n      html = html + '<img src=\"/Scripts/img/cps/less_than.png\" class=\"cps-controls-openimg cps-controls-angle\" name=\"cpsImage\"></span>';\n      html = html + '</div>';\n      html = html + '<div class=\"cps-controls-table\" id=\"' + cpsControlsDomId + '\" name=\"cpsControls\" style=\"display:block;max-height:' + height + 'px;overflow-y:auto;\">';\n      html = html + '</div>';\n      html = html + '</li>';\n      html = html + '<li style=\"margin-top:5px;\">';\n      html = html + '<div class=\"cps-controls-title\" name=\"cpsControlTitle\">';\n      html = html + '<span>系统组件</span>';\n      html = html + '<img src=\"/Scripts/img/cps/less_than.png\" class=\"cps-controls-openimg cps-controls-angle\" name=\"cpsImage\"></span>';\n      html = html + '</div>';\n      html = html + '<div class=\"cps-controls-table\" id=\"' + sysControlsDomId + '\" name=\"cpsControls\" style=\"display:block;height: 130px;\">';\n      html = html + '</div>';\n      html = html + '</li>';\n      html = html + '</ul>';\n      return html;\n    }\n  }, {\n    key: 'getSvgLayoutVue',\n    value: function getSvgLayoutVue() {\n      var drawSVGDomId = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId.replace('#', '');\n      var html = '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" style=\"position: absolute;left:0px;top:0px;width:100%;height:100%;\" id=\"' + drawSVGDomId + '\">';\n      html = html + '<defs>';\n      html = html + '<marker id=\"markerArrow\" markerUnits=\"strokeWidth\" markerWidth=\"8\" markerHeight=\"8\" viewBox=\"0 0 12 12\" refX=\"6\" refY=\"6\" orient=\"auto\">';\n      html = html + '<path d=\"M2,2 L10,6 L2,10 L6,6 L2,2\" style=\"fill: red;\" />';\n      html = html + '</marker>';\n      html = html + '</defs>';\n      html = html + '<circle id=\"drawCircle0\" name=\"drawCircle\" cx=\"0\" cy=\"0\" r=\"5\" stroke=\"#3c8dbc\" fill=\"#ffffff\" stroke-width=\"1\" data-index=\"0\" style=\"display:none;cursor: sw-resize;\" data-lineid=\"\"/>';\n      html = html + '<circle id=\"drawCircle1\" name=\"drawCircle\" cx=\"0\" cy=\"0\" r=\"5\" stroke=\"#3c8dbc\" fill=\"#ffffff\" stroke-width=\"1\" data-index=\"1\" style=\"display:none;cursor: se-resize;\" data-lineid=\"\"/>';\n      html = html + '<rect id=\"controlRect0\" name=\"controlRect\" x=\"0\" y=\"0\" width=\"7\" height=\"7\" fill=\"#ffffff\" stroke=\"#ff0000\" stroke-width=\"1\" data-index=\"1\" style=\"display:none;cursor: pointer;\" data-controlid=\"\"/>';\n      html = html + '<rect id=\"controlRect1\" name=\"controlRect\" x=\"0\" y=\"0\" width=\"7\" height=\"7\" fill=\"#ffffff\" stroke=\"#ff0000\" stroke-width=\"1\" data-index=\"2\" style=\"display:none;cursor: pointer;\" data-controlid=\"\"/>';\n      html = html + '<rect id=\"controlRect2\" name=\"controlRect\" x=\"0\" y=\"0\" width=\"7\" height=\"7\" fill=\"#ffffff\" stroke=\"#ff0000\" stroke-width=\"1\" data-index=\"3\" style=\"display:none;cursor: pointer;\" data-controlid=\"\"/>';\n      html = html + '<rect id=\"controlRect3\" name=\"controlRect\" x=\"0\" y=\"0\" width=\"7\" height=\"7\" fill=\"#ffffff\" stroke=\"#ff0000\" stroke-width=\"1\" data-index=\"4\" style=\"display:none;cursor: pointer;\" data-controlid=\"\"/>';\n      html = html + '<circle id=\"zoomCircle0\" name=\"zoomCircle\" cx=\"0\" cy=\"0\" r=\"5\" stroke=\"#3c8dbc\" fill=\"#ffffff\" stroke-width=\"1\" data-index=\"1\" style=\"display:none;cursor: se-resize;\" data-controlid=\"\"/>';\n      html = html + '<circle id=\"zoomCircle1\" name=\"zoomCircle\" cx=\"0\" cy=\"0\" r=\"5\" stroke=\"#3c8dbc\" fill=\"#ffffff\" stroke-width=\"1\" data-index=\"2\" style=\"display:none;cursor: s-resize;\" data-controlid=\"\"/>';\n      html = html + '<circle id=\"zoomCircle2\" name=\"zoomCircle\" cx=\"0\" cy=\"0\" r=\"5\" stroke=\"#3c8dbc\" fill=\"#ffffff\" stroke-width=\"1\" data-index=\"3\" style=\"display:none;cursor: sw-resize;\" data-controlid=\"\"/>';\n      html = html + '<circle id=\"zoomCircle3\" name=\"zoomCircle\" cx=\"0\" cy=\"0\" r=\"5\" stroke=\"#3c8dbc\" fill=\"#ffffff\" stroke-width=\"1\" data-index=\"4\" style=\"display:none;cursor: w-resize;\" data-controlid=\"\"/>';\n      html = html + '<circle id=\"zoomCircle4\" name=\"zoomCircle\" cx=\"0\" cy=\"0\" r=\"5\" stroke=\"#3c8dbc\" fill=\"#ffffff\" stroke-width=\"1\" data-index=\"5\" style=\"display:none;cursor: se-resize;\" data-controlid=\"\"/>';\n      html = html + '<circle id=\"zoomCircle5\" name=\"zoomCircle\" cx=\"0\" cy=\"0\" r=\"5\" stroke=\"#3c8dbc\" fill=\"#ffffff\" stroke-width=\"1\" data-index=\"6\" style=\"display:none;cursor: s-resize;\" data-controlid=\"\"/>';\n      html = html + '<circle id=\"zoomCircle6\" name=\"zoomCircle\" cx=\"0\" cy=\"0\" r=\"5\" stroke=\"#3c8dbc\" fill=\"#ffffff\" stroke-width=\"1\" data-index=\"7\" style=\"display:none;cursor: sw-resize;\" data-controlid=\"\"/>';\n      html = html + '<circle id=\"zoomCircle7\" name=\"zoomCircle\" cx=\"0\" cy=\"0\" r=\"5\" stroke=\"#3c8dbc\" fill=\"#ffffff\" stroke-width=\"1\" data-index=\"8\" style=\"display:none;cursor: w-resize;\" data-controlid=\"\"/>';\n      html = html + '</svg>';\n      return html;\n    }\n  }, {\n    key: 'loadCanvasVue',\n    value: function loadCanvasVue(list) {\n      var svgVue = CpsMainPanel.getSvgLayoutVue();\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).empty().append(svgVue);\n      if (list) {\n        var controlsVue = CpsMainPanel.loadCanvasControlsVue(list);\n        $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).append(controlsVue);\n        CpsMainPanel.loadCanvasSvgVue(list);\n      }\n    }\n  }, {\n    key: 'loadCanvasControlsVue',\n    value: function loadCanvasControlsVue(list) {\n      var html = '';\n      for (var i = 0; i < list.ControlDetail.length; i++) {\n        var model = list.ControlDetail[i];\n        var imgSize = model.ControlWidth > model.ControlHeight ? model.ControlHeight : model.ControlWidth;\n        html = html + '<div class=\"cps-controls-td\" name=\"cpsIcon\" style=\"width:' + model.ControlWidth + 'px;height:' + model.ControlHeight + 'px;position:absolute;margin:0px;left:' + model.XCoordinate + 'px;top:' + model.YCoordinate + 'px;\"  draggable=\"true\" id=\"' + model.ControlId + '\" data-relid=\"' + model.RelId + '\" data-progid=\"' + model.ProgId + '\">';\n        html = html + '<div class=\"cps-controls-region\" style=\"border:1px solid #d2c06c;\">';\n        html = html + '<img src=\"' + model.RelIcon + '\" style=\"width: ' + (imgSize - 30) + 'px;height:' + (imgSize - 30) + 'px;\"/>';\n        html = html + '<div class=\"cps-controls-span\">' + model.ControlName + '</div>';\n        html = html + '</div>';\n        html = html + '</div>';\n      }\n      return html;\n    }\n  }, {\n    key: 'loadCanvasSvgVue',\n    value: function loadCanvasSvgVue(list) {\n      for (var i = 0; i < list.VectorLineDetail.length; i++) {\n        var model = list.VectorLineDetail[i];\n        var polyline = document.createElementNS('http://www.w3.org/2000/svg', 'polyline');\n        if (polyline) {\n          polyline.setAttribute('name', 'drawLine');\n          polyline.setAttribute('id', model.LineId);\n          polyline.setAttribute('points', model.Coordinates);\n          polyline.setAttribute('data-startid', model.StartControlId);\n          polyline.setAttribute('data-endid', model.EndControlId);\n          polyline.setAttribute('data-starttype', model.ControlStartType);\n          polyline.setAttribute('data-endtype', model.ControlEndType);\n          polyline.setAttribute('marker-end', 'url(#markerArrow)');\n          polyline.setAttribute('style', 'fill:none;stroke:red;stroke-width:2;cursor:move;');\n          $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).append(polyline);\n        }\n      }\n    }\n  }, {\n    key: 'resizeDrawSvg',\n    value: function resizeDrawSvg(element) {\n      if (!element || element.length === 0) return;\n      var minWidth = CpsMainPanel.minWidth;\n      var minHeight = CpsMainPanel.minHeight;\n      var cx = Math.round(element.css('left').replace('px', '')) + Math.round(element.css('width').replace('px', ''));\n      var cy = Math.round(element.css('top').replace('px', '')) + Math.round(element.css('height').replace('px', ''));\n      minWidth = cx + 20 > minWidth ? minWidth + 200 : minWidth;\n      minHeight = cy + 20 > minHeight ? minHeight + 200 : minHeight;\n      minWidth = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].drawSvgWidth > minWidth ? __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].drawSvgWidth : minWidth;\n      minHeight = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].drawSvgHeight > minHeight ? __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].drawSvgHeight : minHeight;\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).css({ 'width': minWidth, 'height': minHeight });\n      CpsMainPanel.minWidth = minWidth;\n      CpsMainPanel.minHeight = minHeight;\n    }\n  }, {\n    key: 'setSizeDrawSvg',\n    value: function setSizeDrawSvg() {\n      var minWidth = CpsMainPanel.minWidth;\n      var minHeight = CpsMainPanel.minHeight;\n      var cx = 0;\n      var cy = 0;\n      for (var i = 0; i < __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.ControlDetail.length; i++) {\n        var model = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.ControlDetail[i];\n        cx = model.XCoordinate + model.ControlWidth > cx ? model.XCoordinate + model.ControlWidth : cx;\n        cy = model.YCoordinate + model.ControlHeight > cy ? model.YCoordinate + model.ControlHeight : cy;\n      }\n      for (var j = 0; j < __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.VectorLineDetail.length; j++) {\n        var _model = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.VectorLineDetail[j];\n        var points = _model.Coordinates.split(' ');\n        for (var _i = 0; _i < points.length; _i++) {\n          var x = parseInt(points[_i].split(',')[0]);\n          var y = parseInt(points[_i].split(',')[1]);\n          cx = x > cx ? x : cx;\n          cy = y > cy ? y : cy;\n        }\n      }\n      while (minWidth - 200 > cx + 20) {\n        minWidth = minWidth - 200;\n      }\n      while (minHeight - 200 > cy + 20) {\n        minHeight = minHeight - 200;\n      }\n      minWidth = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].drawSvgWidth > minWidth ? __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].drawSvgWidth : minWidth;\n      minHeight = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].drawSvgHeight > minHeight ? __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].drawSvgHeight : minHeight;\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).css({ 'width': minWidth, 'height': minHeight });\n      CpsMainPanel.minWidth = minWidth;\n      CpsMainPanel.minHeight = minHeight;\n    }\n  }, {\n    key: 'initSizeDrawSvg',\n    value: function initSizeDrawSvg() {\n      var canvasEle = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId)[0];\n      var clientWidth = canvasEle.offsetWidth - 2 > canvasEle.scrollWidth ? canvasEle.offsetWidth - 2 : canvasEle.scrollWidth;\n      var clientHeight = canvasEle.offsetHeight > canvasEle.scrollHeight ? canvasEle.offsetHeight : canvasEle.scrollHeight;\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).css({ 'width': clientWidth, 'height': clientHeight });\n      __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].drawSvgWidth = clientWidth;\n      __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].drawSvgHeight = clientHeight;\n      CpsMainPanel.minWidth = clientWidth;\n      CpsMainPanel.minHeight = clientHeight;\n    }\n  }, {\n    key: 'clearElementBindEvent',\n    value: function clearElementBindEvent() {\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].renderTo).unbind('contextmenu');\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].renderTo).unbind('mouseup');\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].controlsId).find('div[name=\\'cpsControlTitle\\']').unbind('click');\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).unbind('keydown');\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('circle[name=\\'zoomCircle\\']').unbind('mousedown');\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('circle[name=\\'drawCircle\\']').unbind('mousedown');\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('polyline[name=\\'drawLine\\']').unbind('click');\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).unbind('mousedown');\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).unbind('mousemove');\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).unbind('mouseup');\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].mainPanelId).find('div[name=\\'cpsIcon\\']').unbind('dragstart');\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].mainPanelId).find('div[name=\\'cpsIcon\\']').unbind('dragend');\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).unbind('dragenter');\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).unbind('dragover');\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[name=\\'cpsIcon\\']').unbind('mouseup');\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[name=\\'cpsIcon\\']').unbind('click');\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[name=\\'cpsIcon\\']').unbind('dblclick');\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[name=\\'cpsIcon\\']').unbind('mouseenter');\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[name=\\'cpsIcon\\']').unbind('mouseleave');\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('polyline[name=\\'drawLine\\']').unbind('click');\n      $('#descriptionBox').unbind('click');\n      $('#pointerTool').unbind('click');\n      $('#vectorLine').unbind('click');\n    }\n  }, {\n    key: 'selFactoryModuleType',\n    value: function selFactoryModuleType(produceControlLineId, masterVcl) {\n      var factoryModuleTypeStore = Ext.create(\"Ext.data.Store\", {\n        fields: [\"Name\", \"Value\"],\n        data: [{ Name: \"无\", Value: 0 }, { Name: \"产线配置\", Value: 1 }, { Name: \"标准工艺路线\", Value: 2 }]\n      });\n      var form = Ext.create('Ext.form.Panel', {\n        bodyPadding: 5,\n        width: '100%',\n        height: '100%',\n        defaults: {\n          anchor: '100%'\n        },\n        cls: 'cps-x-panel',\n        items: [{\n          xtype: 'combobox',\n          name: 'FactoryModuleType',\n          fieldLabel: \"工厂建模模型\",\n          store: factoryModuleTypeStore,\n          displayField: \"Name\",\n          valueField: \"Value\",\n          value: 0,\n          triggerAction: 'all',\n          editable: false,\n          mode: \"local\",\n          queryMode: \"local\"\n        }],\n        buttons: [{\n          xtype: 'button',\n          text: '确认',\n          scale: 'medium',\n          handler: function handler() {\n            var factoryModuleType = this.up('form').getForm().findField('FactoryModuleType').getValue();\n            CpsMainPanel.loadCpsConfigureView(produceControlLineId, factoryModuleType, masterVcl);\n            var isShowWsTip = factoryModuleType === 1 ? false : true;\n            __WEBPACK_IMPORTED_MODULE_3__CpsEventPanel__[\"a\" /* CpsEventPanel */].sysEventPanel.items.getAt(5).setDisabled(isShowWsTip);\n            CpsMainPanel.factoryModuleTypeWin.close();\n          }\n        }]\n      });\n      CpsMainPanel.factoryModuleTypeWin = Ext.create('Ext.window.Window', {\n        title: 'CPS建模的模型选择',\n        height: 150,\n        width: 300,\n        closable: false,\n        layout: 'fit',\n        items: [form]\n      });\n      CpsMainPanel.factoryModuleTypeWin.show();\n    }\n  }, {\n    key: 'loadCpsConfigureView',\n    value: function loadCpsConfigureView(produceControlLineId, factoryModuleType, vcl) {\n      $('#cpsLoading').css('display', 'block');\n      CpsMainPanel.clearElementBindEvent();\n      window.clearInterval(__WEBPACK_IMPORTED_MODULE_3__CpsEventPanel__[\"a\" /* CpsEventPanel */].taskNoTipInterval);\n\n      __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"a\" /* CpsCommonFunc */].getProduceControlLineList(produceControlLineId, function (list) {\n        CpsMainPanel.loadCanvasVue(list);\n\n        __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"a\" /* CpsCommonFunc */].getCpsControlConfigureList(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.ControlConfigId, factoryModuleType, function (list) {\n          __WEBPACK_IMPORTED_MODULE_4__CpsSystemControls__[\"a\" /* CpsSystemControls */].loadControlConfigVue(list, true);\n          __WEBPACK_IMPORTED_MODULE_3__CpsEventPanel__[\"a\" /* CpsEventPanel */].loadCpsConfigureEvent();\n          $('#cpsLoading').css('display', 'none');\n          CpsMainPanel.initSizeDrawSvg();\n        });\n        __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlsAttrPanel.getForm().reset();\n        __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].polylineAttrPanel.getForm().reset();\n      });\n\n      __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].masterVcl = vcl;\n    }\n  }, {\n    key: 'showProduceControlLineModels',\n    value: function showProduceControlLineModels() {\n      var maxWidth = document.body.clientWidth * 0.8;\n      var maxHeight = document.body.clientHeight * 0.7;\n\n      var content = '<div class=\"cps-controls-layout-main\" style=\"min-height:' + (maxHeight - 41) + 'px;min-width:' + (maxWidth - 11) + 'px;position:relative;overflow:auto;\" id=\"cps_cavasId\">';\n\n      if (__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels && __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.ControlDetail.length > 0) {\n        content = content + CpsMainPanel.loadCanvasControlsVue(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels);\n      }\n\n      if (__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels && __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.VectorLineDetail.length > 0) {\n        content = content + '<svg xmlns=\"http://www.w3.org/2000/svg\"  xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" width=\"100%\" height=\"100%\" style=\"position: absolute;\" id=\"cps_svgId\">';\n        content = content + '<defs><marker id=\"arrowPoint\" markerUnits=\"strokeWidth\" markerWidth=\"8\" markerHeight=\"8\" viewBox=\"0 0 12 12\" refX=\"6\" refY=\"6\" orient=\"auto\">';\n        content = content + '<path d=\"M2,2 L10,6 L2,10 L6,6 L2,2\" style=\"fill: red;\" /></marker></defs>';\n        for (var i = 0; i < __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.VectorLineDetail.length; i++) {\n          var model = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.VectorLineDetail[i];\n          content = content + '<polyline name=\"drawLine\" id=\"' + model.LineId + '\" points=\"' + model.Coordinates + '\" data-startid=\"' + model.StartControlId + '\" data-endid=\"' + model.EndControlId + '\" data-starttype=\"' + model.ControlStartType + '\" data-endtype=\"' + model.ControlEndType + '\" marker-end=\"url(#arrowPoint)\" style=\"fill:none;stroke:red;stroke-width:2;\" />';\n        }\n        content = content + '</svg>';\n      }\n      content = content + '</div>';\n\n      var panel = Ext.create('Ext.panel.Panel', {\n        border: false,\n        width: '100%',\n        height: '100%',\n        html: content\n      });\n      var title = 'CPS产线模型配置';\n      if (__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.ProduceControlLineName) {\n        title = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.ProduceControlLineName;\n      }\n\n      var win = Ext.create('Ext.window.Window', {\n        title: title,\n        titleAlign: 'center',\n        constrain: true,\n        closable: true,\n        draggable: true,\n        resizable: false,\n        width: maxWidth,\n        height: maxHeight,\n        border: false,\n        layout: 'fit',\n        items: panel\n      });\n      win.show();\n\n      $('#cps_svgId').attr({\n        'height': $('#cps_cavasId')[0].scrollHeight + 'px',\n        'width': $('#cps_cavasId')[0].scrollWidth + 'px'\n      });\n    }\n  }, {\n    key: 'FillTechRouteGridData',\n    value: function FillTechRouteGridData(vcl, data) {\n      var masterRow = vcl.dataSet.getTable(0).data.items[0];\n      masterRow.set('TECHROUTEID', data.TechRouteId);\n      masterRow.set('TECHROUTENAME', data.TechRouteName);\n      masterRow.set('TECHROUTETYPEID', data.TechRouteTypeId);\n      masterRow.set('TECHROUTETYPENAME', data.TechRouteTypeName);\n      masterRow.set('ISPARALLELTECHROUTE', data.IsParallelTechRoute);\n      masterRow.set('BIZATTR', data.BizAttr);\n      masterRow.set('VERSION', data.Version);\n      masterRow.set('MATERIALID', data.MaterialId);\n      masterRow.set('MATERIALNAME', data.MaterialName);\n      masterRow.set('MATERIALSPEC', data.MaterialSpec);\n      masterRow.set('UNITID', data.UnitId);\n      masterRow.set('UNITNAME', data.UnitName);\n      vcl.forms[0].loadRecord(masterRow);\n\n      Ext.suspendLayouts();\n      var curStore = vcl.dataSet.getTable(1);\n\n      curStore.suspendEvents();\n      try {\n        vcl.dataSet.getTable(1).removeAll();\n        vcl.dataSet.getTable(2).removeAll();\n\n        var _masterRow = vcl.dataSet.getTable(0).data.items[0];\n\n        if (data != undefined && data.WorkProcessDetail.length > 0) {\n          for (var i = 0; i < data.WorkProcessDetail.length; i++) {\n            var info = data.WorkProcessDetail[i];\n\n            var newRow = vcl.addRow(_masterRow, 1);\n            newRow.set(\"TECHROUTEID\", info.TechRouteId);\n            newRow.set(\"ROW_ID\", info.RowId);\n            newRow.set(\"ROWNO\", info.RowNo);\n            newRow.set(\"WORKSHOPSECTIONID\", info.WorkShopSectionId);\n            newRow.set(\"WORKSHOPSECTIONNAME\", info.WorkShopSectionName);\n            newRow.set(\"WORKPROCESSID\", info.WorkProcessId);\n            newRow.set(\"WORKPROCESSNAME\", info.WorkProcessName);\n            newRow.set(\"PRODUCTDETAIL\", info.ProductDetail);\n            newRow.set(\"WORKSTATIONCONFIGID\", info.WorkStationConfigId);\n            newRow.set(\"WORKSTATIONCONFIGNAME\", info.WorkStationConfigName);\n            newRow.set(\"WORKPROCESSNO\", info.WorkProcessNo);\n            newRow.set(\"TRANSFERWORKPROCESSNO\", info.TransferWorkProcessNo);\n            newRow.set(\"NEEDGATHER\", info.NeedGather);\n            newRow.set(\"DOWORKPROCESS\", info.DoWorkProcess);\n            for (var j = 0; j < info.ProductOuterDetail.length; j++) {\n              var product = info.ProductOuterDetail[j];\n              var subRow = vcl.addRow(newRow, 2);\n              subRow.set(\"TECHROUTEID\", product.TechRouteId);\n              subRow.set(\"PARENTROWID\", product.ParentRowId);\n              subRow.set(\"ROW_ID\", product.RowId);\n              subRow.set(\"ROWNO\", product.RowNo);\n              subRow.set(\"MATERIALID\", product.MaterialId);\n              subRow.set(\"MATERIALNAME\", product.MaterialName);\n              subRow.set(\"MATERIALTYPEID\", product.MaterialTypeId);\n              subRow.set(\"MATERIALTYPENAME\", product.MaterialTypeName);\n              subRow.set(\"ISPRODUCT\", product.IsProduct);\n            }\n          }\n        }\n      } finally {\n        curStore.resumeEvents();\n        if (curStore.ownGrid && curStore.ownGrid.getView().store != null) curStore.ownGrid.reconfigure(curStore);\n\n        Ext.resumeLayouts(true);\n      }\n    }\n  }, {\n    key: 'buildControlLayout',\n    value: function buildControlLayout(techRouteControlId, controlName, techRouteId, techRouteName, isCopy) {\n      var materialId = undefined;\n\n      if (isCopy) {\n        for (var i = 0; i < __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.VectorLineDetail.length; i++) {\n          var lineModel = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.VectorLineDetail[i];\n          if (lineModel.EndControlId === techRouteControlId && lineModel.StartControlId.indexOf(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].comMaterial) === 0) {\n            for (var j = 0; j < __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.ControlDetail.length; j++) {\n              var controlModel = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.ControlDetail[j];\n              if (controlModel.ControlId === lineModel.StartControlId) {\n                materialId = controlModel.RelId;\n                break;\n              }\n            }\n            break;\n          }\n        }\n      }\n      if (isCopy && !materialId) {\n        Ext.Msg.alert('提示', '复制当前标准工艺路线需要先关联上物料数据');\n      } else {\n        CpsMainPanel.getTechRouteData(techRouteId, materialId, isCopy, function (techRouteModel) {\n          __WEBPACK_IMPORTED_MODULE_5__CpsControlsAttr__[\"a\" /* CpsControlsAttr */].setControlRelIdName(techRouteControlId, controlName, techRouteModel.TechRouteId, techRouteModel.TechRouteName);\n          CpsMainPanel.resetTechRouteLayout(techRouteControlId, techRouteModel);\n        });\n      }\n    }\n  }, {\n    key: 'getTechRouteData',\n    value: function getTechRouteData(techRouteId, materialId, isCopy, callback) {\n      Ext.Ajax.request({\n        url: '/CpsModule/GetTechRouteInfoById',\n        jsonData: { techRouteId: techRouteId, materialId: materialId, isCopy: isCopy },\n        method: 'POST',\n        async: false,\n        timeout: 90000000,\n        success: function success(response) {\n          var result = Ext.decode(response.responseText);\n          if (result.Messages.length > 0) {\n            var errMsg = [];\n            for (var i = 0; i < result.Messages.length; i++) {\n              errMsg.push({ kind: result.Messages[i].MessageKind, msg: result.Messages[i].Message });\n            }\n            Ax.utils.LibMsg.show(errMsg);\n          } else {\n            var techRouteModel = result.Result;\n            callback(techRouteModel);\n          }\n        },\n        failure: function failure(response) {\n          var result = Ext.decode(response.responseText);\n          if (result.Messages.length > 0) {\n            Ext.Msg.alert('异常提示', result.Messages[0].Message);\n          } else {\n            if (isCopy) {\n              Ext.Msg.alert('提示', '复制当前标准工艺路线[' + techRouteId + ']数据出现异常');\n            } else {\n              Ext.Msg.alert('提示', '获取当前标准工艺路线[' + techRouteId + ']数据出现异常');\n            }\n          }\n        }\n      });\n    }\n  }, {\n    key: 'resizeTechRouteControl',\n    value: function resizeTechRouteControl(techRouteControlId, techRouteModel) {\n      var trModel = undefined;\n      var workProcessCount = 0;\n      for (var i = 0; i < techRouteModel.WorkShopSectionDetail.length; i++) {\n        var workShopSectionModel = techRouteModel.WorkShopSectionDetail[i];\n        workProcessCount = workProcessCount + workShopSectionModel.WorkProcessNodeList.length;\n      }\n      for (var _i2 = 0; _i2 < __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.ControlDetail.length; _i2++) {\n        var model = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.ControlDetail[_i2];\n        if (model.ControlId === techRouteControlId) {\n          var isVerticalLayout = model.ControlWidth > model.ControlHeight ? false : true;\n          var hSpace = isVerticalLayout ? 20 : 10;\n          var vSpace = isVerticalLayout ? 10 : 20;\n          var standardSize = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].workProcessSize + __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].materialSize + __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].materialTypeSize + __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].workstationConfigSize;\n          standardSize = isVerticalLayout ? standardSize + vSpace * 4 : standardSize + hSpace * 4;\n          var size = isVerticalLayout ? workProcessCount * standardSize - vSpace : workProcessCount * standardSize - hSpace;\n          var left = isVerticalLayout ? __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].techRouteTypeSize + hSpace + 10 : 10;\n          var top = isVerticalLayout ? 10 : __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].techRouteTypeSize + vSpace + 10;\n          model.XCoordinate = isVerticalLayout ? model.XCoordinate > left ? model.XCoordinate : left : model.XCoordinate > 10 ? model.XCoordinate : 10;\n          model.YCoordinate = isVerticalLayout ? model.YCoordinate > 10 ? model.YCoordinate : 10 : model.YCoordinate > top ? model.YCoordinate : top;\n          model.ControlWidth = isVerticalLayout ? 70 : size;\n          model.ControlHeight = isVerticalLayout ? size : 70;\n          var cpsControl = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[id=\\'' + model.ControlId + '\\']');\n          cpsControl.css({\n            'width': model.ControlWidth + 'px',\n            'height': model.ControlHeight + 'px',\n            'left': model.XCoordinate + 'px',\n            'top': model.YCoordinate + 'px'\n          });\n          cpsControl.find('img').css({ 'width': '40px', 'height': '40px' });\n          trModel = {\n            'isVerticalLayout': isVerticalLayout,\n            'x': model.XCoordinate,\n            'y': model.YCoordinate,\n            'w': model.ControlWidth,\n            'h': model.ControlHeight,\n            'hSpace': hSpace,\n            'vSpace': vSpace,\n            'size': standardSize\n          };\n          break;\n        }\n      }\n      return trModel;\n    }\n  }, {\n    key: 'resetTechRouteLayout',\n    value: function resetTechRouteLayout(techRouteControlId, techRouteModel) {\n      CpsMainPanel.controlAttrArr = [];\n      CpsMainPanel.clearElementBindEvent();\n      CpsMainPanel.delAllTechRouteControlLines(techRouteControlId);\n      __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"a\" /* CpsCommonFunc */].removeControlSelStyle();\n      var trModel = CpsMainPanel.resizeTechRouteControl(techRouteControlId, techRouteModel);\n      if (!trModel) {\n        Ext.Msg.alert('提示', '标准工艺路线[' + techRouteControlId + ']数据出现异常');\n        return;\n      }\n      var size = trModel.size;\n\n      var trtHeight = trModel.isVerticalLayout ? parseInt((trModel.h - trModel.vSpace) / 2) : __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].techRouteTypeSize;\n      var trtWidth = trModel.isVerticalLayout ? __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].techRouteTypeSize : parseInt((trModel.w - trModel.hSpace) / 2);\n      var trtLeft = trModel.isVerticalLayout ? trModel.x - trtWidth - trModel.hSpace : trModel.x;\n      var trtTop = trModel.isVerticalLayout ? trModel.y : trModel.y - trtHeight - trModel.vSpace;\n      var trtIndex = trModel.isVerticalLayout ? '2-4' : '3-1';\n      var techRouteTypeControlId = CpsMainPanel.createCpsControl(trtLeft, trtTop, trtWidth, trtHeight, __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].comTechRouteType, techRouteModel.TechRouteTypeId, techRouteModel.TechRouteTypeName);\n      CpsMainPanel.createVectorLine(techRouteTypeControlId, techRouteControlId, trtIndex);\n\n      var mLeft = trModel.isVerticalLayout ? trtLeft : trtLeft + trModel.w - trtWidth;\n      var mTop = trModel.isVerticalLayout ? trtTop + trModel.h - trtHeight : trtTop;\n      var mIndex = trModel.isVerticalLayout ? '2-4' : '3-1';\n      var materialControlId = CpsMainPanel.createCpsControl(mLeft, mTop, trtWidth, trtHeight, __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].comMaterial, techRouteModel.MaterialId, techRouteModel.MaterialName);\n      CpsMainPanel.createVectorLine(materialControlId, techRouteControlId, mIndex);\n\n      var entryWorkProcessCount = 0;\n      for (var i = 0; i < techRouteModel.WorkShopSectionDetail.length; i++) {\n        var workShopSectionModel = techRouteModel.WorkShopSectionDetail[i];\n\n        var wsWidth = trModel.isVerticalLayout ? __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].workshopSectionSize : workShopSectionModel.WorkProcessNodeList.length * size - trModel.hSpace;\n        var wsHeight = trModel.isVerticalLayout ? workShopSectionModel.WorkProcessNodeList.length * size - trModel.vSpace : __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].workshopSectionSize;\n        var wsLeft = trModel.isVerticalLayout ? trModel.x + trModel.w + trModel.hSpace : trModel.x + entryWorkProcessCount * size;\n        var wsTop = trModel.isVerticalLayout ? trModel.y + entryWorkProcessCount * size : trModel.y + trModel.w + trModel.vSpace;\n        var wsIndex = trModel.isVerticalLayout ? '2-4' : '3-1';\n        var workshopSectionId = CpsMainPanel.createCpsControl(wsLeft, wsTop, wsWidth, wsHeight, __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].comWorkshopSection, workShopSectionModel.WorkShopSectionId, workShopSectionModel.WorkShopSectionName);\n        CpsMainPanel.createVectorLine(techRouteControlId, workshopSectionId, wsIndex);\n\n        for (var j = 0; j < workShopSectionModel.WorkProcessNodeList.length; j++) {\n          var WorkProcessNode = workShopSectionModel.WorkProcessNodeList[j];\n          var entryWorkProcess = WorkProcessNode.WorkProcess;\n          var workProcessChild = WorkProcessNode.WorkProcessChild;\n\n          var ewcHeight = trModel.isVerticalLayout ? __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].workstationConfigSize : 160;\n          var ewcWidth = trModel.isVerticalLayout ? 160 : __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].workstationConfigSize;\n          var ewpLeft = trModel.isVerticalLayout ? wsLeft + wsWidth + trModel.hSpace : wsLeft + j * size + ewcWidth + trModel.hSpace;\n          var ewpTop = trModel.isVerticalLayout ? wsTop + j * size + ewcHeight + trModel.vSpace : wsTop + wsHeight + trModel.vSpace;\n          CpsMainPanel.createWorkProcessControls(trModel, workshopSectionId, entryWorkProcess, workProcessChild, ewpLeft, ewpTop);\n        }\n        entryWorkProcessCount = workShopSectionModel.WorkProcessNodeList.length + entryWorkProcessCount;\n      }\n      __WEBPACK_IMPORTED_MODULE_3__CpsEventPanel__[\"a\" /* CpsEventPanel */].loadCpsConfigureEvent();\n    }\n  }, {\n    key: 'createWorkProcessControls',\n    value: function createWorkProcessControls(trModel, startControlId, workProcess, workProcessChild, wpLeft, wpTop) {\n      var wpHeight = trModel.isVerticalLayout ? __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].workProcessSize : 160;\n      var wpWidth = trModel.isVerticalLayout ? 160 : __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].workProcessSize;\n      var wpIndex = trModel.isVerticalLayout ? '2-4' : '3-1';\n      var workProcessId = CpsMainPanel.createCpsControl(wpLeft, wpTop, wpWidth, wpHeight, __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].comWorkProcess, workProcess.WorkProcessId, workProcess.WorkProcessName);\n      CpsMainPanel.createVectorLine(startControlId, workProcessId, wpIndex);\n      if (workProcess.WorkStationConfigId) {\n        var wcHeight = trModel.isVerticalLayout ? __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].workstationConfigSize : 160;\n        var wcWidth = trModel.isVerticalLayout ? 160 : __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].workstationConfigSize;\n        var wcLeft = trModel.isVerticalLayout ? wpLeft : wpLeft - wcWidth - trModel.hSpace;\n        var wcTop = trModel.isVerticalLayout ? wpTop - wcHeight - trModel.vSpace : wpTop;\n        var wcIndex = trModel.isVerticalLayout ? '3-1' : '2-4';\n        var workstationConfigId = CpsMainPanel.createCpsControl(wcLeft, wcTop, wcWidth, wcHeight, __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].comWorkstationConfig, workProcess.WorkStationConfigId, workProcess.WorkStationConfigName);\n        CpsMainPanel.createVectorLine(workstationConfigId, workProcessId, wcIndex);\n      }\n\n      for (var k = 0; k < workProcess.ProductOuterDetail.length; k++) {\n        var productOuterDetail = workProcess.ProductOuterDetail[k];\n        if (productOuterDetail.MaterialTypeId) {\n          var wtHeight = trModel.isVerticalLayout ? __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].materialTypeSize : 160;\n          var wtWidth = trModel.isVerticalLayout ? 160 : __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].materialTypeSize;\n          var wtLeft = trModel.isVerticalLayout ? wpLeft + k * (wpWidth + trModel.hSpace) : wpLeft + wpWidth + trModel.hSpace;\n          var wtTop = trModel.isVerticalLayout ? wpTop + wpHeight + trModel.vSpace : wpTop + k * (wpHeight + trModel.vSpace);\n          var wtIndex = trModel.isVerticalLayout ? '1-3' : '4-2';\n          var materialTypeId = CpsMainPanel.createCpsControl(wtLeft, wtTop, wtWidth, wtHeight, __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].comMaterialType, productOuterDetail.MaterialTypeId, productOuterDetail.MaterialTypeName);\n          CpsMainPanel.createVectorLine(materialTypeId, workProcessId, wtIndex);\n          if (productOuterDetail.MaterialId) {\n            var ewHeight = trModel.isVerticalLayout ? __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].materialSize : 160;\n            var ewWidth = trModel.isVerticalLayout ? 160 : __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].materialSize;\n            var ewLeft = trModel.isVerticalLayout ? wtLeft : wtLeft + wtWidth + trModel.hSpace;\n            var ewTop = trModel.isVerticalLayout ? wtTop + wtHeight + trModel.vSpace : wtTop;\n            var ewIndex = trModel.isVerticalLayout ? '1-3' : '4-2';\n            var materialId = CpsMainPanel.createCpsControl(ewLeft, ewTop, ewWidth, ewHeight, __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].comMaterial, productOuterDetail.MaterialId, productOuterDetail.MaterialName);\n            CpsMainPanel.createVectorLine(materialId, materialTypeId, ewIndex);\n          }\n        }\n      }\n\n      var transferWorkProcess = undefined;\n      for (var i = 0; i < workProcessChild.length; i++) {\n        if (workProcess.TransferWorkProcessNo === workProcessChild[i].WorkProcessNo) {\n          transferWorkProcess = workProcessChild[i];\n          for (var _i3 = 0; _i3 < CpsMainPanel.controlAttrArr.length; _i3++) {\n            var controlAttr = CpsMainPanel.controlAttrArr[_i3];\n            if (controlAttr.relId === transferWorkProcess.WorkProcessId && controlAttr.controlFilter === __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].comWorkProcess && controlAttr.relName === transferWorkProcess.WorkProcessName) {\n              CpsMainPanel.createVectorLine(workProcessId, controlAttr.controlId, wpIndex);\n              transferWorkProcess = undefined;\n              break;\n            }\n          }\n          break;\n        }\n      }\n      if (transferWorkProcess) {\n        wpLeft = trModel.isVerticalLayout ? wpLeft + wpWidth + trModel.hSpace : wpLeft;\n        wpTop = trModel.isVerticalLayout ? wpTop : wpTop + wpHeight + trModel.vSpace;\n        CpsMainPanel.createWorkProcessControls(trModel, workProcessId, transferWorkProcess, workProcessChild, wpLeft, wpTop);\n      }\n    }\n  }, {\n    key: 'createCpsControl',\n    value: function createCpsControl(x, y, w, h, controlFilter, relId, relName) {\n      var controlId = undefined;\n      for (var i = 0; i < CpsMainPanel.controlAttrArr.length; i++) {\n        var controlAttr = CpsMainPanel.controlAttrArr[i];\n        if (controlAttr.relId === relId && controlAttr.controlFilter === controlFilter && controlAttr.relName === relName) {\n          controlAttr.OccurrenceTimes = controlAttr.OccurrenceTimes + 1;\n          controlId = controlAttr.controlId;\n          break;\n        }\n      }\n      if (!controlId) {\n        var cpsControlId = controlFilter.substring(0, controlFilter.length - 1);\n        var cpsControl = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].cpsControlsId).find('div[id=\\'' + cpsControlId + '\\']').clone();\n        if (cpsControl) {\n          controlId = cpsControlId + '_' + parseInt(Math.random() * 1000);\n          while ($(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[id=\\'' + id + '\\']').length > 0) {\n            controlId = cpsControlId + '_' + parseInt(Math.random() * 1000);\n          }\n          var imgSize = w > h ? h - 30 : w - 30;\n          var controlName = cpsControl.find('div.cps-controls-span').text() + '[' + relName + ']';\n          cpsControl = cpsControl.attr({ 'id': controlId, 'data-relid': relId });\n          cpsControl.css({\n            'position': 'absolute',\n            'margin': '0',\n            'width': w + 'px',\n            'height': h + 'px',\n            'left': x + 'px',\n            'top': y + 'px'\n          });\n          cpsControl.find('div.cps-controls-region').css('border', '1px solid #d2c06c');\n          cpsControl.find('img').css({ 'width': imgSize + 'px', 'height': imgSize + 'px' });\n          cpsControl.find('div.cps-controls-span').text(controlName);\n          var model = __WEBPACK_IMPORTED_MODULE_5__CpsControlsAttr__[\"a\" /* CpsControlsAttr */].getControlAttr(cpsControl);\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.ControlDetail.push(model);\n          $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).append(cpsControl);\n          CpsMainPanel.resizeDrawSvg(cpsControl);\n          var _controlAttr = {\n            'x': x,\n            'y': y,\n            'w': w,\n            'h': h,\n            'controlId': controlId,\n            'relId': relId,\n            'relName': relName,\n            'controlFilter': controlFilter,\n            'OccurrenceTimes': 1\n          };\n          CpsMainPanel.controlAttrArr.push(_controlAttr);\n        }\n      }\n      return controlId;\n    }\n  }, {\n    key: 'createVectorLine',\n    value: function createVectorLine(startControlId, endControlId, pointIndex) {\n      var polyline = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('polyline[data-startid=\\'' + startControlId + '\\'][data-endid=\\'' + endControlId + '\\']');\n      if (polyline && polyline.length > 0) {\n        return;\n      }\n      var startControl = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[id=\\'' + startControlId + '\\']');\n      var endControl = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[id=\\'' + endControlId + '\\']');\n      var startPointIndex = parseInt(pointIndex.split('-')[0]);\n      var endPointIndex = parseInt(pointIndex.split('-')[1]);\n      if (startControl && endControl) {\n        var startRectPoints = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"a\" /* CpsCommonFunc */].getElementPoints(startControl, 'controlRect');\n        var endRectPoints = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"a\" /* CpsCommonFunc */].getElementPoints(endControl, 'controlRect');\n        var startRectIndex = startPointIndex - 1;\n        var endRectIndex = endPointIndex - 1;\n        var startControlPoint = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"a\" /* CpsCommonFunc */].getPolylineStartOrEndPoint(startRectPoints[startRectIndex].x, startRectPoints[startRectIndex].y, startPointIndex, true);\n        var endControlPoint = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"a\" /* CpsCommonFunc */].getPolylineStartOrEndPoint(endRectPoints[endRectIndex].x, endRectPoints[endRectIndex].y, endPointIndex, false);\n        var x1 = parseInt(startControlPoint.split(',')[0]);\n        var y1 = parseInt(startControlPoint.split(',')[1]);\n        var x2 = parseInt(endControlPoint.split(',')[0]);\n        var y2 = parseInt(endControlPoint.split(',')[1]);\n        var points = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"a\" /* CpsCommonFunc */].getPointsByStyle(x1, y1, x2, y2, startPointIndex, endPointIndex);\n        var _polyline = __WEBPACK_IMPORTED_MODULE_3__CpsEventPanel__[\"a\" /* CpsEventPanel */].createSvgPolyline(points, startControlId, startPointIndex, endControlId, endPointIndex);\n        if (_polyline) {\n          $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).append(_polyline);\n          var model = {\n            'ProduceControlLineId': '',\n            'RowId': 0,\n            'RowNo': 0,\n            'StartControlId': startControlId,\n            'EndControlId': endControlId,\n            'LineId': $(_polyline).attr('id'),\n            'Coordinates': points,\n            'ControlStartType': startPointIndex,\n            'ControlEndType': endPointIndex\n          };\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.VectorLineDetail.push(model);\n        }\n      }\n    }\n  }, {\n    key: 'delAllTechRouteControlLines',\n    value: function delAllTechRouteControlLines(controlId) {\n      var controlIdArr = [];\n\n      var workshopSectionIdArr = [];\n\n      var trVectorArray = [];\n\n      for (var i = 0; i < __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.VectorLineDetail.length; i++) {\n        var model = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.VectorLineDetail[i];\n\n        if (model.EndControlId === controlId && (model.StartControlId.indexOf(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].comMaterial) === 0 || model.StartControlId.indexOf(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].comTechRouteType) === 0)) {\n          $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('polyline[id=\\'' + model.LineId + '\\']').remove();\n          controlIdArr.push(model.StartControlId);\n        } else if (model.StartControlId === controlId && model.EndControlId.indexOf(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].comWorkshopSection) === 0) {\n          $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('polyline[id=\\'' + model.LineId + '\\']').remove();\n          controlIdArr.push(model.EndControlId);\n          workshopSectionIdArr.push(model.EndControlId);\n        } else {\n          trVectorArray.push(model);\n        }\n      }\n\n      var workProcessIdArray = [];\n\n      var wsVectorArray = [];\n\n      for (var _i4 = 0; _i4 < trVectorArray.length; _i4++) {\n        var _model2 = trVectorArray[_i4];\n\n        if ($.inArray(_model2.StartControlId, workshopSectionIdArr) !== -1 && _model2.EndControlId.indexOf(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].comWorkProcess) === 0) {\n          $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('polyline[id=\\'' + _model2.LineId + '\\']').remove();\n          controlIdArr.push(_model2.EndControlId);\n          workProcessIdArray.push(_model2.EndControlId);\n        } else {\n          wsVectorArray.push(_model2);\n        }\n      }\n\n      __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.VectorLineDetail = wsVectorArray;\n\n      while (workProcessIdArray.length > 0) {\n        workProcessIdArray = CpsMainPanel.delWorkProcessRelLines(workProcessIdArray, controlIdArr);\n      }\n\n      var controlArray = [];\n      for (var _i5 = 0; _i5 < __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.ControlDetail.length; _i5++) {\n        var _model3 = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.ControlDetail[_i5];\n        if ($.inArray(_model3.ControlId, controlIdArr) !== -1) {\n          $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[id=\\'' + _model3.ControlId + '\\']').remove();\n        } else {\n          controlArray.push(_model3);\n        }\n      }\n      __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.ControlDetail = controlArray;\n    }\n  }, {\n    key: 'delWorkProcessRelLines',\n    value: function delWorkProcessRelLines(startWorkProcessIdArray, controlIdArr) {\n      var workProcessIdArray = [];\n      var materialTypeIdArray = [];\n      var wpVectorArray = [];\n      for (var i = 0; i < __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.VectorLineDetail.length; i++) {\n        var model = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.VectorLineDetail[i];\n\n        if ($.inArray(model.EndControlId, startWorkProcessIdArray) !== -1 && model.StartControlId.indexOf(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].comWorkstationConfig) === 0) {\n          $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('polyline[id=\\'' + model.LineId + '\\']').remove();\n          controlIdArr.push(model.StartControlId);\n        } else if ($.inArray(model.EndControlId, startWorkProcessIdArray) !== -1 && model.StartControlId.indexOf(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].comMaterialType) === 0) {\n          $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('polyline[id=\\'' + model.LineId + '\\']').remove();\n          controlIdArr.push(model.StartControlId);\n          materialTypeIdArray.push(model.StartControlId);\n        } else if ($.inArray(model.StartControlId, startWorkProcessIdArray) !== -1 && model.EndControlId.indexOf(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].comWorkProcess) === 0) {\n          $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('polyline[id=\\'' + model.LineId + '\\']').remove();\n          controlIdArr.push(model.EndControlId);\n          workProcessIdArray.push(model.EndControlId);\n        } else {\n          wpVectorArray.push(model);\n        }\n      }\n\n      var mtVectorArray = [];\n      for (var _i6 = 0; _i6 < wpVectorArray.length; _i6++) {\n        var _model4 = wpVectorArray[_i6];\n\n        if ($.inArray(_model4.EndControlId, materialTypeIdArray) !== -1 && _model4.StartControlId.indexOf(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].comMaterial) === 0) {\n          $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('polyline[id=\\'' + _model4.LineId + '\\']').remove();\n          controlIdArr.push(_model4.StartControlId);\n        } else {\n          mtVectorArray.push(_model4);\n        }\n      }\n\n      __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.VectorLineDetail = mtVectorArray;\n      return workProcessIdArray;\n    }\n  }]);\n\n  return CpsMainPanel;\n}();\n\nCpsMainPanel.minWidth = 0;\nCpsMainPanel.minHeight = 0;\nCpsMainPanel.factoryModuleTypeWin = null;\nCpsMainPanel.controlAttrArr = [];\n\n\n\n/***/ }),\n\n/***/ 601:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return CpsControlsAttr; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__CpsCommon__ = __webpack_require__(599);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__CpsMainPanel__ = __webpack_require__(600);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__CpsPolylineAttr__ = __webpack_require__(602);\n\n\n\n\n\n\n\nvar CpsControlsAttr = function () {\n  function CpsControlsAttr() {\n    __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default()(this, CpsControlsAttr);\n  }\n\n  __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default()(CpsControlsAttr, null, [{\n    key: 'createControlAttrPanel',\n    value: function createControlAttrPanel() {\n      __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlsAttrPanel = Ext.create('Ext.form.Panel', {\n        id: 'cpsControlAttr-panel',\n        title: 'CPS组件属性',\n        bodyPadding: 5,\n        width: '100%',\n        flex: 1,\n        defaults: {\n          anchor: '100%'\n        },\n        cls: 'cps-x-panel',\n        items: [{\n          xtype: 'textfield',\n          name: 'ProduceControlLineId',\n          fieldLabel: '模型编号',\n          labelWidth: 60,\n          hidden: true\n        }, {\n          xtype: 'numberfield',\n          name: 'RowId',\n          fieldLabel: '行标识',\n          labelWidth: 60,\n          value: 0,\n          minValue: 0,\n          step: 1,\n          hidden: true\n        }, {\n          xtype: 'numberfield',\n          name: 'RowNo',\n          fieldLabel: '行号',\n          labelWidth: 60,\n          value: 0,\n          minValue: 0,\n          step: 1,\n          hidden: true\n        }, {\n          xtype: 'textfield',\n          name: 'RelId',\n          fieldLabel: '主数据ID',\n          labelWidth: 60,\n          maxLength: 20,\n          maxLengthText: '此项最大输入长度为20',\n          readOnly: true\n        }, {\n          xtype: 'textfield',\n          name: 'ProgId',\n          fieldLabel: '功能标识',\n          labelWidth: 60,\n          allowBlank: false,\n          blankText: '此项必填',\n          enforceMaxLength: true,\n          maxLength: 50,\n          maxLengthText: '此项最大输入长度为50',\n          readOnly: true\n        }, {\n          xtype: 'textfield',\n          name: 'ControlId',\n          fieldLabel: '组件ID',\n          labelWidth: 60,\n          allowBlank: false,\n          blankText: '此项必填',\n          enforceMaxLength: true,\n          maxLength: 100,\n          maxLengthText: '此项最大输入长度为100',\n          listeners: {\n            focus: function focus(component, eventObject, eOpts) {\n              CpsControlsAttr.originalValue = component.value;\n            },\n            blur: function blur(component, eventObject, eOpts) {\n              if (CpsControlsAttr.originalValue) {\n                if (component.value) {\n                  if (component.value.split('_')[0] !== CpsControlsAttr.originalValue.split('_')[0]) {\n                    Ext.Msg.alert('提示', '当前组件ID必须以' + CpsControlsAttr.originalValue.split('_')[0] + '_为开头！');\n                    this.up('form').getForm().findField('ControlId').setValue(CpsControlsAttr.originalValue);\n                  } else if (component.value !== CpsControlsAttr.originalValue) {\n                    var control = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[id=\\'' + component.value + '\\']');\n                    if (control.length > 0) {\n                      Ext.Msg.alert('提示', '当前组件ID已存在，请重新修改其值！');\n                      this.up('form').getForm().findField('ControlId').setValue(CpsControlsAttr.originalValue);\n                    } else {\n                      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[id=\\'' + CpsControlsAttr.originalValue + '\\']').attr('id', component.value);\n                      CpsControlsAttr.setControlAttr(CpsControlsAttr.originalValue, 'ControlId', component.value);\n\n                      __WEBPACK_IMPORTED_MODULE_4__CpsPolylineAttr__[\"a\" /* CpsPolylineAttr */].updatePolylineIdByControlId(CpsControlsAttr.originalValue, component.value);\n                    }\n                  }\n                  CpsControlsAttr.originalValue = null;\n                } else {\n                  Ext.Msg.alert('提示', '当前组件ID不可为空！');\n                  this.up('form').getForm().findField('ControlId').setValue(CpsControlsAttr.originalValue);\n                }\n              }\n            }\n          }\n        }, {\n          xtype: 'textfield',\n          name: 'ControlName',\n          fieldLabel: '组件别名',\n          labelWidth: 60,\n          allowBlank: false,\n          blankText: '此项必填',\n          enforceMaxLength: true,\n          maxLength: 100,\n          maxLengthText: '此项最大输入长度为100',\n          listeners: {\n            focus: function focus(component, eventObject, eOpts) {\n              CpsControlsAttr.originalControlId = this.up('form').getForm().findField('ControlId').getValue();\n              CpsControlsAttr.originalValue = component.value;\n            },\n            blur: function blur(component, eventObject, eOpts) {\n              if (CpsControlsAttr.originalControlId) {\n                if (component.value) {\n                  if (component.value !== CpsControlsAttr.originalValue) {\n                    $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[id=\\'' + CpsControlsAttr.originalControlId + '\\']').find('div.cps-controls-span').text(component.value);\n                    CpsControlsAttr.setControlAttr(CpsControlsAttr.originalControlId, 'ControlName', component.value);\n                  }\n                } else {\n                  Ext.Msg.alert('提示', '当前组件别名不可为空！');\n                  this.up('form').getForm().findField('ControlName').setValue(CpsControlsAttr.originalValue);\n                  $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[id=\\'' + CpsControlsAttr.originalControlId + '\\']').find('div.cps-controls-span').text(CpsControlsAttr.originalValue);\n                }\n                CpsControlsAttr.originalControlId = null;\n              }\n            },\n            change: function change(field, newValue, oldValue, eOpts) {\n              if (CpsControlsAttr.originalControlId) {\n                $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[id=\\'' + CpsControlsAttr.originalControlId + '\\']').find('div.cps-controls-span').text(newValue);\n              }\n            }\n          }\n        }, {\n          xtype: 'fieldcontainer',\n          fieldLabel: '组件类型',\n          labelWidth: 60,\n          defaultType: 'radiofield',\n          defaults: {\n            flex: 1\n          },\n          layout: 'vbox',\n          items: [{\n            boxLabel: 'CPS组件',\n            name: 'ControlType',\n            inputValue: '0',\n            checked: true,\n            id: 'radio0',\n            readOnly: true\n          }, {\n            boxLabel: '系统组件',\n            name: 'ControlType',\n            inputValue: '1',\n            id: 'radio1',\n            readOnly: true\n          }]\n        }, {\n          xtype: 'numberfield',\n          name: 'XCoordinate',\n          fieldLabel: 'X坐标',\n          labelWidth: 60,\n          value: 1,\n          minValue: 1,\n          step: 1,\n          allowBlank: false,\n          blankText: '此项必填',\n          allowDecimals: false,\n          negativeText: '此项为整数值且大于0',\n          listeners: {\n            focus: function focus(component, eventObject, eOpts) {\n              $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('circle[name=\\'zoomCircle\\']').css({ 'display': 'none' });\n              CpsControlsAttr.originalControlId = this.up('form').getForm().findField('ControlId').getValue();\n              CpsControlsAttr.originalValue = component.value;\n            },\n            blur: function blur(component, eventObject, eOpts) {\n              if (CpsControlsAttr.originalControlId) {\n                var cpsControl = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[id=\\'' + CpsControlsAttr.originalControlId + '\\']');\n\n                if (component.value && component.value > 0) {\n                  if (component.value !== CpsControlsAttr.originalValue) {\n                    CpsControlsAttr.moveCpsControl(cpsControl, component.value, null);\n                  }\n                } else {\n                  Ext.Msg.alert('提示', '当前X坐标不可为空且大于0！');\n                  this.up('form').getForm().findField('XCoordinate').setValue(CpsControlsAttr.originalValue);\n                  cpsControl.css('left', CpsControlsAttr.originalValue);\n                }\n                CpsControlsAttr.originalControlId = null;\n                __WEBPACK_IMPORTED_MODULE_3__CpsMainPanel__[\"a\" /* CpsMainPanel */].setSizeDrawSvg();\n              }\n            },\n            change: function change(field, newValue, oldValue, eOpts) {\n              if (CpsControlsAttr.originalControlId) {\n                var cpsControl = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[id=\\'' + CpsControlsAttr.originalControlId + '\\']');\n                if (newValue > 0) {\n                  cpsControl.css('left', newValue);\n                  __WEBPACK_IMPORTED_MODULE_3__CpsMainPanel__[\"a\" /* CpsMainPanel */].resizeDrawSvg(cpsControl);\n                } else {\n                  this.up('form').getForm().findField('XCoordinate').setValue(1);\n                  cpsControl.css('left', 1);\n                }\n              }\n            }\n          }\n        }, {\n          xtype: 'numberfield',\n          name: 'YCoordinate',\n          labelWidth: 60,\n          fieldLabel: 'Y坐标',\n          value: 1,\n          minValue: 1,\n          step: 1,\n          allowBlank: false,\n          blankText: '此项必填',\n          allowDecimals: false,\n          negativeText: '此项为整数值且大于0',\n          listeners: {\n            focus: function focus(component, eventObject, eOpts) {\n              $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('circle[name=\\'zoomCircle\\']').css({ 'display': 'none' });\n              CpsControlsAttr.originalControlId = this.up('form').getForm().findField('ControlId').getValue();\n              CpsControlsAttr.originalValue = component.value;\n            },\n            blur: function blur(component, eventObject, eOpts) {\n              if (CpsControlsAttr.originalControlId) {\n                var cpsControl = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[id=\\'' + CpsControlsAttr.originalControlId + '\\']');\n\n                if (component.value && component.value > 0) {\n                  if (component.value !== CpsControlsAttr.originalValue) {\n                    CpsControlsAttr.moveCpsControl(cpsControl, null, component.value);\n                  }\n                } else {\n                  Ext.Msg.alert('提示', '当前Y坐标不可为空且大于0！');\n                  this.up('form').getForm().findField('YCoordinate').setValue(CpsControlsAttr.originalValue);\n                  cpsControl.css('top', CpsControlsAttr.originalValue);\n                }\n                CpsControlsAttr.originalControlId = null;\n                __WEBPACK_IMPORTED_MODULE_3__CpsMainPanel__[\"a\" /* CpsMainPanel */].setSizeDrawSvg();\n              }\n            },\n            change: function change(field, newValue, oldValue, eOpts) {\n              if (CpsControlsAttr.originalControlId) {\n                var cpsControl = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[id=\\'' + CpsControlsAttr.originalControlId + '\\']');\n                if (newValue > 0) {\n                  cpsControl.css('top', newValue);\n                  __WEBPACK_IMPORTED_MODULE_3__CpsMainPanel__[\"a\" /* CpsMainPanel */].resizeDrawSvg(cpsControl);\n                } else {\n                  this.up('form').getForm().findField('YCoordinate').setValue(1);\n                  cpsControl.css('top', 1);\n                }\n              }\n            }\n          }\n        }, {\n          xtype: 'numberfield',\n          name: 'ControlWidth',\n          fieldLabel: '组件宽度',\n          labelWidth: 60,\n          value: 90,\n          minValue: 50,\n          step: 1,\n          allowBlank: false,\n          blankText: '此项必填',\n          allowDecimals: false,\n          negativeText: '此项为整数值且不得小于50',\n          listeners: {\n            focus: function focus(component, eventObject, eOpts) {\n              $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('circle[name=\\'zoomCircle\\']').css({ 'display': 'none' });\n              CpsControlsAttr.originalControlId = this.up('form').getForm().findField('ControlId').getValue();\n              CpsControlsAttr.originalValue = component.value;\n            },\n            blur: function blur(component, eventObject, eOpts) {\n              if (CpsControlsAttr.originalControlId) {\n                var cpsControl = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[id=\\'' + CpsControlsAttr.originalControlId + '\\']');\n\n                var cHeight = this.up('form').getForm().findField('ControlHeight').getValue();\n\n                if (component.value && component.value >= 50) {\n                  if (component.value !== CpsControlsAttr.originalValue) {\n                    cpsControl.css('width', component.value);\n                    CpsControlsAttr.setControlAttr(CpsControlsAttr.originalControlId, 'ControlWidth', component.value);\n\n                    __WEBPACK_IMPORTED_MODULE_4__CpsPolylineAttr__[\"a\" /* CpsPolylineAttr */].updatePolylinePointsByControlId(CpsControlsAttr.originalControlId);\n                  }\n                } else {\n                  Ext.Msg.alert('提示', '当前组件宽度不可为空且不小于50！');\n                  this.up('form').getForm().findField('ControlWidth').setValue(CpsControlsAttr.originalValue);\n                  cpsControl.css('width', CpsControlsAttr.originalValue);\n\n                  if (cHeight > CpsControlsAttr.originalValue) {\n                    cHeight = CpsControlsAttr.originalValue;\n                  }\n                  cpsControl.find('img').css({\n                    'width': cHeight - 30 + 'px',\n                    'height': cHeight - 30 + 'px'\n                  });\n                }\n                CpsControlsAttr.originalControlId = null;\n                __WEBPACK_IMPORTED_MODULE_3__CpsMainPanel__[\"a\" /* CpsMainPanel */].setSizeDrawSvg();\n              }\n            },\n            change: function change(field, newValue, oldValue, eOpts) {\n              if (CpsControlsAttr.originalControlId) {\n                var cpsControl = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[id=\\'' + CpsControlsAttr.originalControlId + '\\']');\n\n                var cHeight = this.up('form').getForm().findField('ControlHeight').getValue();\n\n                if (newValue < 50) {\n                  newValue = 50;\n                  this.up('form').getForm().findField('ControlWidth').setValue(50);\n                  cpsControl.css('width', newValue);\n                } else {\n                  cpsControl.css('width', newValue);\n                  __WEBPACK_IMPORTED_MODULE_3__CpsMainPanel__[\"a\" /* CpsMainPanel */].resizeDrawSvg(cpsControl);\n                }\n                if (cHeight > newValue) {\n                  cHeight = newValue;\n                }\n                cpsControl.find('img').css({\n                  'width': cHeight - 30 + 'px',\n                  'height': cHeight - 30 + 'px'\n                });\n              }\n            }\n          }\n        }, {\n          xtype: 'numberfield',\n          name: 'ControlHeight',\n          fieldLabel: '组件高度',\n          labelWidth: 60,\n          value: 60,\n          minValue: 40,\n          step: 1,\n          allowBlank: false,\n          blankText: '此项必填',\n          allowDecimals: false,\n          negativeText: '此项为整数值且不得小于40',\n          listeners: {\n            focus: function focus(component, eventObject, eOpts) {\n              $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('circle[name=\\'zoomCircle\\']').css({ 'display': 'none' });\n              CpsControlsAttr.originalControlId = this.up('form').getForm().findField('ControlId').getValue();\n              CpsControlsAttr.originalValue = component.value;\n            },\n            blur: function blur(component, eventObject, eOpts) {\n              if (CpsControlsAttr.originalControlId) {\n                var cpsControl = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[id=\\'' + CpsControlsAttr.originalControlId + '\\']');\n\n                var cWidth = this.up('form').getForm().findField('ControlWidth').getValue();\n                if (component.value && component.value >= 40) {\n                  if (component.value !== CpsControlsAttr.originalValue) {\n                    cpsControl.css('height', component.value);\n                    CpsControlsAttr.setControlAttr(CpsControlsAttr.originalControlId, 'ControlHeight', component.value);\n\n                    __WEBPACK_IMPORTED_MODULE_4__CpsPolylineAttr__[\"a\" /* CpsPolylineAttr */].updatePolylinePointsByControlId(CpsControlsAttr.originalControlId);\n                  }\n                } else {\n                  Ext.Msg.alert('提示', '当前组件高度不可为空且不小于40！');\n                  this.up('form').getForm().findField('ControlHeight').setValue(CpsControlsAttr.originalValue);\n                  cpsControl.css('height', CpsControlsAttr.originalValue);\n\n                  if (cWidth > CpsControlsAttr.originalValue) {\n                    cWidth = CpsControlsAttr.originalValue;\n                  }\n                  cpsControl.find('img').css({\n                    'width': cWidth - 30 + 'px',\n                    'height': cWidth - 30 + 'px'\n                  });\n                }\n                CpsControlsAttr.originalControlId = null;\n                __WEBPACK_IMPORTED_MODULE_3__CpsMainPanel__[\"a\" /* CpsMainPanel */].setSizeDrawSvg();\n              }\n            },\n            change: function change(field, newValue, oldValue, eOpts) {\n              if (CpsControlsAttr.originalControlId) {\n                var cpsControl = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[id=\\'' + CpsControlsAttr.originalControlId + '\\']');\n\n                var cWidth = this.up('form').getForm().findField('ControlWidth').getValue();\n\n                if (newValue < 40) {\n                  newValue = 40;\n                  this.up('form').getForm().findField('ControlHeight').setValue(40);\n                  cpsControl.css('height', newValue);\n                } else {\n                  cpsControl.css('height', newValue);\n                  __WEBPACK_IMPORTED_MODULE_3__CpsMainPanel__[\"a\" /* CpsMainPanel */].resizeDrawSvg(cpsControl);\n                }\n                if (cWidth > newValue) {\n                  cWidth = newValue;\n                }\n                cpsControl.find('img').css({\n                  'width': cWidth - 30 + 'px',\n                  'height': cWidth - 30 + 'px'\n                });\n              }\n            }\n          }\n        }, {\n          xtype: 'textareafield',\n          name: 'ControlDescription',\n          height: 200,\n          fieldLabel: '组件描述',\n          labelWidth: 60,\n          grow: true,\n          enforceMaxLength: true,\n          maxLength: 2000,\n          maxLengthText: '此项最大输入长度为2000',\n          listeners: {\n            focus: function focus(component) {\n              CpsControlsAttr.originalControlId = this.up('form').getForm().findField('ControlId').getValue();\n              CpsControlsAttr.originalValue = component.value;\n            },\n            blur: function blur(component) {\n              if (CpsControlsAttr.originalControlId) {\n                CpsControlsAttr.setControlAttr(CpsControlsAttr.originalControlId, 'ControlDescription', component.value);\n                CpsControlsAttr.originalControlId = null;\n              }\n            }\n          }\n        }]\n      });\n      return __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlsAttrPanel;\n    }\n  }, {\n    key: 'setControlAttrFormValues',\n    value: function setControlAttrFormValues(elDrag) {\n      var model = CpsControlsAttr.getControlAttr(elDrag);\n      __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlsAttrPanel.getForm().setValues(model);\n      Ext.getCmp('radio' + model.ControlType).setValue(true);\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div.cps-controls-region').css({\n        'background-color': '#eceff4',\n        'border': '1px solid #bbcfde'\n      });\n      elDrag.find('div.cps-controls-region').css({\n        'background-color': '#f7f8db',\n        'border': '1px solid #d2c06c'\n      });\n    }\n  }, {\n    key: 'getCpsControlMinWidthOrHeight',\n    value: function getCpsControlMinWidthOrHeight(elDrag, width, height, left, top, changeWidth) {\n      var minValue = 0;\n      if (changeWidth) {\n        minValue = width;\n        if (minValue < 50) {\n          minValue = 50;\n        } else if (left) {\n          elDrag.css('left', left);\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlsAttrPanel.getForm().findField('XCoordinate').setValue(left);\n        }\n        elDrag.css('width', minValue);\n        __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlsAttrPanel.getForm().findField('ControlWidth').setValue(minValue);\n\n        if (height > minValue) {\n          height = minValue;\n        }\n        elDrag.find('img').css({\n          'width': height - 30 + 'px',\n          'height': height - 30 + 'px'\n        });\n      } else {\n        minValue = height;\n        if (minValue < 40) {\n          minValue = 40;\n        } else if (top) {\n          elDrag.css('top', top);\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlsAttrPanel.getForm().findField('YCoordinate').setValue(top);\n        }\n        elDrag.css('height', minValue);\n        __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlsAttrPanel.getForm().findField('ControlHeight').setValue(minValue);\n\n        if (width > minValue) {\n          width = minValue;\n        }\n        elDrag.find('img').css({\n          'width': width - 30 + 'px',\n          'height': width - 30 + 'px'\n        });\n      }\n      return minValue;\n    }\n  }, {\n    key: 'changeCpsControlAttr',\n    value: function changeCpsControlAttr(elDrag, controlPoint) {\n      var width = controlPoint.width;\n      var height = controlPoint.height;\n      var left = controlPoint.left;\n      var top = controlPoint.top;\n      var cx = event.clientX - parseInt(controlPoint.point.split(',')[0]);\n      var cy = event.clientY - parseInt(controlPoint.point.split(',')[1]);\n      if (controlPoint.index === 1) {\n        var minWidth = CpsControlsAttr.getCpsControlMinWidthOrHeight(elDrag, width - cx, height - cy, left + cx, null, true);\n        CpsControlsAttr.getCpsControlMinWidthOrHeight(elDrag, minWidth, height - cy, null, top + cy, false);\n      } else if (controlPoint.index === 3) {\n        var _minWidth = CpsControlsAttr.getCpsControlMinWidthOrHeight(elDrag, width + cx, height - cy, null, null, true);\n        CpsControlsAttr.getCpsControlMinWidthOrHeight(elDrag, _minWidth, height - cy, null, top + cy, false);\n      } else if (controlPoint.index === 5) {\n        var _minWidth2 = CpsControlsAttr.getCpsControlMinWidthOrHeight(elDrag, width + cx, height + cy, null, null, true);\n        CpsControlsAttr.getCpsControlMinWidthOrHeight(elDrag, _minWidth2, height + cy, null, null, false);\n      } else if (controlPoint.index === 7) {\n        var _minWidth3 = CpsControlsAttr.getCpsControlMinWidthOrHeight(elDrag, width - cx, height + cy, left + cx, null, true);\n        CpsControlsAttr.getCpsControlMinWidthOrHeight(elDrag, _minWidth3, height + cy, null, null, false);\n      } else if (controlPoint.index === 2) {\n        CpsControlsAttr.getCpsControlMinWidthOrHeight(elDrag, width, height - cy, null, top + cy, false);\n      } else if (controlPoint.index === 6) {\n        CpsControlsAttr.getCpsControlMinWidthOrHeight(elDrag, width, height + cy, null, null, false);\n      } else if (controlPoint.index === 4) {\n        CpsControlsAttr.getCpsControlMinWidthOrHeight(elDrag, width + cx, height, null, null, true);\n      } else if (controlPoint.index === 8) {\n        CpsControlsAttr.getCpsControlMinWidthOrHeight(elDrag, width - cx, height, left + cx, null, true);\n      }\n    }\n  }, {\n    key: 'zoomCpsControl',\n    value: function zoomCpsControl(cpsControl, enlarge) {\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('circle[name=\\'zoomCircle\\']').css({ 'display': 'none' });\n      var controlId = cpsControl.attr('id');\n      var width = Math.round(cpsControl.css('width').replace('px', ''));\n      var height = Math.round(cpsControl.css('height').replace('px', ''));\n      var zoomWidth = enlarge ? width * 1.2 : width / 1.2;\n      var zoomHeight = zoomWidth / width * height;\n      zoomWidth = CpsControlsAttr.getCpsControlMinWidthOrHeight(cpsControl, zoomWidth, zoomHeight, null, null, true);\n      CpsControlsAttr.setControlAttr(controlId, 'ControlWidth', zoomWidth);\n      zoomHeight = CpsControlsAttr.getCpsControlMinWidthOrHeight(cpsControl, zoomWidth, zoomHeight, null, null, false);\n      CpsControlsAttr.setControlAttr(controlId, 'ControlHeight', zoomHeight);\n\n      __WEBPACK_IMPORTED_MODULE_4__CpsPolylineAttr__[\"a\" /* CpsPolylineAttr */].updatePolylinePointsByControlId(controlId);\n      __WEBPACK_IMPORTED_MODULE_3__CpsMainPanel__[\"a\" /* CpsMainPanel */].resizeDrawSvg(cpsControl);\n    }\n  }, {\n    key: 'moveCpsControl',\n    value: function moveCpsControl(cpsControl, left, top) {\n      var controlId = cpsControl.attr('id');\n      if (top) {\n        cpsControl.css('top', top);\n        CpsControlsAttr.setControlAttr(controlId, 'YCoordinate', top);\n        __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlsAttrPanel.getForm().findField('YCoordinate').setValue(top);\n      }\n      if (left) {\n        cpsControl.css('left', left);\n        CpsControlsAttr.setControlAttr(controlId, 'XCoordinate', left);\n        __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlsAttrPanel.getForm().findField('XCoordinate').setValue(left);\n      }\n\n      __WEBPACK_IMPORTED_MODULE_4__CpsPolylineAttr__[\"a\" /* CpsPolylineAttr */].updatePolylinePointsByControlId(controlId);\n      __WEBPACK_IMPORTED_MODULE_3__CpsMainPanel__[\"a\" /* CpsMainPanel */].resizeDrawSvg(cpsControl);\n    }\n  }, {\n    key: 'getControlAttr',\n    value: function getControlAttr(elDrag) {\n      var progId = elDrag.attr('data-progid');\n      var controlId = elDrag.attr('id');\n      var relId = elDrag.attr('data-relid');\n      var controlName = elDrag.find('div.cps-controls-span').text();\n      var xCoordinate = Math.round(elDrag.css('left').replace('px', ''));\n      var yCoordinate = Math.round(elDrag.css('top').replace('px', ''));\n      var controlWidth = Math.round(elDrag.css('width').replace('px', ''));\n      var controlHeight = Math.round(elDrag.css('height').replace('px', ''));\n      var relIcon = elDrag.find('img').attr('src');\n      var model = {\n        'ProduceControlLineId': '',\n        'RowId': 0,\n        'RowNo': 0,\n        'ProgId': progId,\n        'ControlId': controlId,\n        'ControlName': controlName,\n        'ControlDescription': controlName,\n        'ControlType': 0,\n        'XCoordinate': xCoordinate,\n        'YCoordinate': yCoordinate,\n        'ControlWidth': controlWidth,\n        'ControlHeight': controlHeight,\n        'RelIcon': relIcon,\n        'RelId': relId\n      };\n      for (var i = 0; i < __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.ControlDetail.length; i++) {\n        if (__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.ControlDetail[i].ControlId === controlId) {\n          model.ProduceControlLineId = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.ControlDetail[i].ProduceControlLineId;\n          model.ControlDescription = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.ControlDetail[i].ControlDescription;\n          model.ControlType = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.ControlDetail[i].ControlType;\n          break;\n        }\n      }\n      return model;\n    }\n  }, {\n    key: 'setControlAttr',\n    value: function setControlAttr(controlId, attrName, attrValue) {\n      for (var i = 0; i < __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.ControlDetail.length; i++) {\n        if (__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.ControlDetail[i].ControlId === controlId) {\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.ControlDetail[i][attrName] = attrValue;\n          break;\n        }\n      }\n    }\n  }, {\n    key: 'setControlRelIdName',\n    value: function setControlRelIdName(controlId, controlName, relId, relName) {\n      controlName = controlName.split('[')[0] + '[' + relName + ']';\n\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[id=\\'' + controlId + '\\']').attr('data-relid', relId);\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[id=\\'' + controlId + '\\']').find('div.cps-controls-span').text(controlName);\n      CpsControlsAttr.setControlAttr(controlId, 'RelId', relId);\n      CpsControlsAttr.setControlAttr(controlId, 'ControlName', controlName);\n      if (__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlsAttrPanel.getForm().findField('ControlId').getValue() === controlId) {\n        __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlsAttrPanel.getForm().findField('RelId').setValue(relId);\n        __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlsAttrPanel.getForm().findField('ControlName').setValue(controlName);\n      }\n    }\n  }, {\n    key: 'updateControlByControlId',\n    value: function updateControlByControlId(existControl, controlId) {\n      var elDrag = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[id=\\'' + controlId + '\\']');\n      if (elDrag.length > 0) {\n        var model = CpsControlsAttr.getControlAttr(elDrag);\n        if (!existControl) {\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.ControlDetail.push(model);\n        } else {\n          for (var i = 0; i < __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.ControlDetail.length; i++) {\n            if (__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.ControlDetail[i].ControlId === controlId) {\n              __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.ControlDetail.splice(i, 1, model);\n\n              __WEBPACK_IMPORTED_MODULE_4__CpsPolylineAttr__[\"a\" /* CpsPolylineAttr */].updatePolylinePointsByControlId(controlId);\n              break;\n            }\n          }\n        }\n        __WEBPACK_IMPORTED_MODULE_3__CpsMainPanel__[\"a\" /* CpsMainPanel */].setSizeDrawSvg();\n      }\n    }\n  }, {\n    key: 'deleteControlByControlId',\n    value: function deleteControlByControlId(controlId) {\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('circle[name=\\'zoomCircle\\']').css({ 'display': 'none' });\n      for (var i = 0; i < __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.ControlDetail.length; i++) {\n        if (__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.ControlDetail[i].ControlId === controlId) {\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.ControlDetail.splice(i, 1);\n\n          __WEBPACK_IMPORTED_MODULE_4__CpsPolylineAttr__[\"a\" /* CpsPolylineAttr */].deletePolylineByControlId(controlId);\n          break;\n        }\n      }\n\n      if (__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlsAttrPanel.getForm().findField('ControlId').getValue() === controlId) {\n        __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"a\" /* CpsCommonFunc */].removeControlSelStyle();\n      }\n\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[id=\\'' + controlId + '\\']').remove();\n      __WEBPACK_IMPORTED_MODULE_3__CpsMainPanel__[\"a\" /* CpsMainPanel */].setSizeDrawSvg();\n    }\n  }]);\n\n  return CpsControlsAttr;\n}();\n\nCpsControlsAttr.originalValue = null;\nCpsControlsAttr.originalControlId = null;\n\n\n\n/***/ }),\n\n/***/ 602:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return CpsPolylineAttr; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__CpsCommon__ = __webpack_require__(599);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__CpsMainPanel__ = __webpack_require__(600);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__CpsControlsAttr__ = __webpack_require__(601);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__CpsEventPanel__ = __webpack_require__(603);\n\n\n\n\n\n\n\n\nvar CpsPolylineAttr = function () {\n  function CpsPolylineAttr() {\n    __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default()(this, CpsPolylineAttr);\n  }\n\n  __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default()(CpsPolylineAttr, null, [{\n    key: 'createPolylineAttrPanel',\n    value: function createPolylineAttrPanel() {\n      __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].polylineAttrPanel = Ext.create('Ext.form.Panel', {\n        id: 'cpsPolylineAttr-panel',\n        title: '矢量线属性',\n        bodyPadding: 5,\n        width: '100%',\n        height: 170,\n        flex: 0,\n        defaults: {\n          anchor: '100%'\n        },\n        cls: 'cps-x-panel',\n        items: [{\n          xtype: 'textfield',\n          name: 'ProduceControlLineId',\n          fieldLabel: '模型编号',\n          labelWidth: 60,\n          hidden: true\n        }, {\n          xtype: 'numberfield',\n          name: 'RowId',\n          fieldLabel: '行标识',\n          labelWidth: 60,\n          value: 0,\n          minValue: 0,\n          step: 1,\n          hidden: true\n        }, {\n          xtype: 'numberfield',\n          name: 'RowNo',\n          fieldLabel: '行号',\n          labelWidth: 60,\n          value: 0,\n          minValue: 0,\n          step: 1,\n          hidden: true\n        }, {\n          xtype: 'textfield',\n          name: 'StartControlId',\n          fieldLabel: '起始组件',\n          labelWidth: 60,\n          allowBlank: false,\n          blankText: '此项必填',\n          enforceMaxLength: true,\n          maxLength: 100,\n          maxLengthText: '此项最大输入长度为100',\n          readOnly: true\n        }, {\n          xtype: 'textfield',\n          name: 'EndControlId',\n          fieldLabel: '结束组件',\n          labelWidth: 60,\n          allowBlank: false,\n          blankText: '此项必填',\n          enforceMaxLength: true,\n          maxLength: 100,\n          maxLengthText: '此项最大输入长度为100',\n          readOnly: true\n        }, {\n          xtype: 'textfield',\n          name: 'LineId',\n          fieldLabel: '矢量线ID',\n          labelWidth: 60,\n          allowBlank: false,\n          blankText: '此项必填',\n          enforceMaxLength: true,\n          maxLength: 100,\n          maxLengthText: '此项最大输入长度为100',\n          readOnly: true\n        }, {\n          xtype: 'textfield',\n          name: 'Coordinates',\n          fieldLabel: '矢量坐标',\n          labelWidth: 60,\n          allowBlank: false,\n          blankText: '此项必填',\n          enforceMaxLength: true,\n          maxLength: 100,\n          maxLengthText: '此项最大输入长度为100',\n          readOnly: true\n        }, {\n          xtype: 'fieldcontainer',\n          fieldLabel: '起点类型',\n          labelWidth: 60,\n          defaultType: 'radiofield',\n          defaults: {\n            flex: 1\n          },\n          layout: 'hbox',\n          items: [{\n            boxLabel: '其他',\n            name: 'ControlStartType',\n            inputValue: '0',\n            checked: true,\n            id: 'startRadio0',\n            readOnly: true\n          }, {\n            boxLabel: '上',\n            name: 'ControlStartType',\n            inputValue: '1',\n            id: 'startRadio1',\n            readOnly: true\n          }, {\n            boxLabel: '右',\n            name: 'ControlStartType',\n            inputValue: '2',\n            id: 'startRadio2',\n            readOnly: true\n          }, {\n            boxLabel: '下',\n            name: 'ControlStartType',\n            inputValue: '3',\n            id: 'startRadio3',\n            readOnly: true\n          }, {\n            boxLabel: '左',\n            name: 'ControlStartType',\n            inputValue: '4',\n            id: 'startRadio4',\n            readOnly: true\n          }],\n          hidden: true\n        }, {\n          xtype: 'fieldcontainer',\n          fieldLabel: '尾点类型',\n          labelWidth: 60,\n          defaultType: 'radiofield',\n          defaults: {\n            flex: 1\n          },\n          layout: 'hbox',\n          items: [{\n            boxLabel: '其他',\n            name: 'ControlEndType',\n            inputValue: '0',\n            checked: true,\n            id: 'endRadio0',\n            readOnly: true\n          }, {\n            boxLabel: '上',\n            name: 'ControlEndType',\n            inputValue: '1',\n            id: 'endRadio1',\n            readOnly: true\n          }, {\n            boxLabel: '右',\n            name: 'ControlEndType',\n            inputValue: '2',\n            id: 'endRadio2',\n            readOnly: true\n          }, {\n            boxLabel: '下',\n            name: 'ControlEndType',\n            inputValue: '3',\n            id: 'endRadio3',\n            readOnly: true\n          }, {\n            boxLabel: '左',\n            name: 'ControlEndType',\n            inputValue: '4',\n            id: 'endRadio4',\n            readOnly: true\n          }],\n          hidden: true\n        }]\n      });\n      return __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].polylineAttrPanel;\n    }\n  }, {\n    key: 'copySvgPolyline',\n    value: function copySvgPolyline(svgPolyline) {\n      var curPoints = null;\n      var oraPoints = svgPolyline.attr('points').split(' ');\n      for (var i = 0; i < oraPoints.length; i++) {\n        var pointX = parseInt(oraPoints[i].split(',')[0]) + 10;\n        var pointY = parseInt(oraPoints[i].split(',')[1]) + 10;\n        curPoints = curPoints + pointX + ',' + pointY + ' ';\n      }\n\n      var lineId = 'drawLine_' + parseInt(Math.random() * 10000);\n      while ($(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('line[id=\\'' + lineId + '\\']').length > 0) {\n        lineId = 'drawLine_' + parseInt(Math.random() * 10000);\n      }\n\n      var polyline = document.createElementNS('http://www.w3.org/2000/svg', 'polyline');\n      if (polyline) {\n        polyline.setAttribute('name', 'drawLine');\n        polyline.setAttribute('id', lineId);\n        polyline.setAttribute('marker-end', 'url(#markerArrow)');\n        polyline.setAttribute('style', 'fill:none;stroke:red;stroke-width:2;cursor:move');\n        polyline.setAttribute('data-endid', '');\n        polyline.setAttribute('data-endtype', '0');\n        polyline.setAttribute('data-startid', '');\n        polyline.setAttribute('data-starttype', '0');\n        polyline.setAttribute('points', curPoints.substr(0, curPoints.length - 1));\n        $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).append(polyline);\n        CpsPolylineAttr.updatePolylineByLineId(lineId);\n        CpsPolylineAttr.setPolylineOtherEvent();\n        __WEBPACK_IMPORTED_MODULE_5__CpsEventPanel__[\"a\" /* CpsEventPanel */].copySvgPolyline = $(polyline);\n        __WEBPACK_IMPORTED_MODULE_3__CpsMainPanel__[\"a\" /* CpsMainPanel */].setSizeDrawSvg();\n      }\n    }\n  }, {\n    key: 'getPositionRectPoint',\n    value: function getPositionRectPoint(rectX, rectY) {\n      var positionRectPoints = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].positionRectPoints;\n      if (positionRectPoints) {\n        for (var i = 0; i < positionRectPoints.length; i++) {\n          var point = positionRectPoints[i];\n          var leftX = point.x;\n          var rightX = point.x + point.width;\n          var lowerY = point.y;\n          var upperY = point.y + point.height;\n          if (rectX < rightX && rectX > leftX && rectY < upperY && rectY > lowerY) {\n            return point;\n          }\n        }\n      }\n      return null;\n    }\n  }, {\n    key: 'createPolyline',\n    value: function createPolyline(clientX, clientY) {\n      var startControlId = '';\n      var startPointIndex = 0;\n      var x1 = clientX - CpsPolylineAttr.canvasOffsetX;\n      var y1 = clientY - CpsPolylineAttr.canvasOffsetY;\n      var points = x1 + ',' + y1;\n\n      var point = CpsPolylineAttr.getPositionRectPoint(x1, y1);\n      if (point) {\n        startControlId = point.controlId;\n        startPointIndex = point.index;\n\n        points = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"a\" /* CpsCommonFunc */].getPolylineStartOrEndPoint(point.x, point.y, point.index, true);\n      }\n      var polyline = __WEBPACK_IMPORTED_MODULE_5__CpsEventPanel__[\"a\" /* CpsEventPanel */].createSvgPolyline(points, startControlId, startPointIndex, '', 0);\n      if (polyline) {\n        $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).append(polyline);\n        var lineId = $(polyline).attr('id');\n        CpsPolylineAttr.setPolylineAttrFormValues(lineId);\n        __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selVectorLineId = lineId;\n      }\n    }\n  }, {\n    key: 'updatePolyline',\n    value: function updatePolyline(polyline, clientX, clientY) {\n      var points = polyline.attr('points').split(' ');\n      var x1 = void 0,\n          x2 = void 0,\n          y1 = void 0,\n          y2 = void 0;\n\n      if (__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].vectorLineIndex === 1) {\n        x1 = parseInt(points[0].split(',')[0]);\n        y1 = parseInt(points[0].split(',')[1]);\n        x2 = clientX - CpsPolylineAttr.canvasOffsetX;\n        y2 = clientY - CpsPolylineAttr.canvasOffsetY;\n\n        var point = CpsPolylineAttr.getPositionRectPoint(x2, y2);\n        if (point) {\n          var coordinate = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"a\" /* CpsCommonFunc */].getPolylineStartOrEndPoint(point.x, point.y, point.index, false);\n          x2 = parseInt(coordinate.split(',')[0]);\n          y2 = parseInt(coordinate.split(',')[1]);\n          polyline.attr({ 'data-endid': point.controlId, 'data-endtype': point.index });\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].polylineAttrPanel.getForm().findField('EndControlId').setValue(point.controlId);\n        } else {\n          polyline.attr({ 'data-endid': '', 'data-endtype': 0 });\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].polylineAttrPanel.getForm().findField('EndControlId').setValue('');\n        }\n      }\n\n      if (__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].vectorLineIndex === 0) {\n        var lstIndex = points.length - 1;\n        x1 = clientX - CpsPolylineAttr.canvasOffsetX;\n        y1 = clientY - CpsPolylineAttr.canvasOffsetY;\n        x2 = parseInt(points[lstIndex].split(',')[0]);\n        y2 = parseInt(points[lstIndex].split(',')[1]);\n\n        var _point = CpsPolylineAttr.getPositionRectPoint(x1, y1);\n        if (_point) {\n          var _coordinate = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"a\" /* CpsCommonFunc */].getPolylineStartOrEndPoint(_point.x, _point.y, _point.index, true);\n          x1 = parseInt(_coordinate.split(',')[0]);\n          y1 = parseInt(_coordinate.split(',')[1]);\n          polyline.attr({ 'data-startid': _point.controlId, 'data-starttype': _point.index });\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].polylineAttrPanel.getForm().findField('StartControlId').setValue(_point.controlId);\n        } else {\n          polyline.attr({ 'data-startid': '', 'data-starttype': 0 });\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].polylineAttrPanel.getForm().findField('StartControlId').setValue('');\n        }\n      }\n      var controlStartType = parseInt(polyline.attr('data-starttype'));\n      var controlEndType = parseInt(polyline.attr('data-endtype'));\n      points = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"a\" /* CpsCommonFunc */].getPointsByStyle(x1, y1, x2, y2, controlStartType, controlEndType);\n      polyline.attr({ 'points': points });\n      __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].polylineAttrPanel.getForm().findField('Coordinates').setValue(points);\n    }\n  }, {\n    key: 'savePolyline',\n    value: function savePolyline(polyline) {\n      var lineId = polyline.attr('id');\n      var points = polyline.attr('points').split(' ');\n      if (points.length < 2 || points[0] === points[points.length - 1]) {\n        CpsPolylineAttr.deletePolylineByLineId(lineId);\n      } else {\n        var x1 = parseInt(points[0].split(',')[0]);\n        var y1 = parseInt(points[0].split(',')[1]);\n        var x2 = parseInt(points[points.length - 1].split(',')[0]);\n        var y2 = parseInt(points[points.length - 1].split(',')[1]);\n        if (Math.abs(x2 - x1) < 4 && Math.abs(y2 - y1) < 4) {\n          CpsPolylineAttr.deletePolylineByLineId(lineId);\n        } else {\n          var model = CpsPolylineAttr.getPolylineModel(polyline);\n          var errorArr = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"a\" /* CpsCommonFunc */].checkProduceLineModel(model);\n          if (errorArr.length > 0) {\n            toastr.error(errorArr[0].msg, '错误矢量线绘制');\n            CpsPolylineAttr.deletePolylineByLineId(lineId);\n          } else {\n            CpsPolylineAttr.updatePolylineByLineId(lineId);\n            CpsPolylineAttr.setPolylineOtherEvent();\n          }\n        }\n      }\n    }\n  }, {\n    key: 'setPolylineAttrFormValues',\n    value: function setPolylineAttrFormValues(lineId) {\n      var polyline = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('polyline[id=\\'' + lineId + '\\']');\n      if (polyline.length > 0) {\n        var model = CpsPolylineAttr.getPolylineModel(polyline);\n        __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].polylineAttrPanel.getForm().setValues(model);\n        Ext.getCmp('startRadio' + model.ControlStartType).setValue(true);\n        Ext.getCmp('endRadio' + model.ControlEndType).setValue(true);\n      }\n    }\n  }, {\n    key: 'getPolylineModel',\n    value: function getPolylineModel(polyline) {\n      var lineId = polyline.attr('id');\n      var startControlId = polyline.attr('data-startid');\n      var endControlId = polyline.attr('data-endid');\n      var coordinates = polyline.attr('points');\n      var controlStartType = polyline.attr('data-starttype');\n      var controlEndType = polyline.attr('data-endtype');\n      var model = {\n        'ProduceControlLineId': '',\n        'RowId': 0,\n        'RowNo': 0,\n        'StartControlId': startControlId,\n        'EndControlId': endControlId,\n        'LineId': lineId,\n        'Coordinates': coordinates,\n        'ControlStartType': parseInt(controlStartType),\n        'ControlEndType': parseInt(controlEndType)\n      };\n      return model;\n    }\n  }, {\n    key: 'updatePolylineByLineId',\n    value: function updatePolylineByLineId(lineId) {\n      var polyline = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('polyline[id=\\'' + lineId + '\\']');\n      var model = CpsPolylineAttr.getPolylineModel(polyline);\n      for (var i = 0; i < __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.VectorLineDetail.length; i++) {\n        if (__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.VectorLineDetail[i].LineId === lineId) {\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.VectorLineDetail.splice(i, 1);\n          break;\n        }\n      }\n      __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.VectorLineDetail.push(model);\n    }\n  }, {\n    key: 'updatePolylineIdByControlId',\n    value: function updatePolylineIdByControlId(controlId, newValue) {\n      var lineId = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].polylineAttrPanel.getForm().findField('LineId').getValue();\n      if (lineId) {\n        var startControlId = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].polylineAttrPanel.getForm().findField('StartControlId').getValue();\n        var endControlId = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].polylineAttrPanel.getForm().findField('EndControlId').getValue();\n        if (startControlId === controlId) {\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].polylineAttrPanel.getForm().findField('StartControlId').setValue(newValue);\n        }\n        if (endControlId === controlId) {\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].polylineAttrPanel.getForm().findField('EndControlId').setValue(newValue);\n        }\n      }\n\n      for (var i = 0; i < __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.VectorLineDetail.length; i++) {\n        var model = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.VectorLineDetail[i];\n        if (model.StartControlId === controlId) {\n          model.StartControlId = newValue;\n\n          $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('polyline[id=\\'' + model.LineId + '\\']').attr({ 'data-startid': newValue });\n        }\n        if (model.EndControlId === controlId) {\n          model.EndControlId = newValue;\n\n          $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('polyline[id=\\'' + model.LineId + '\\']').attr({ 'data-endid': newValue });\n        }\n      }\n    }\n  }, {\n    key: 'updatePolylinePointsByControlId',\n    value: function updatePolylinePointsByControlId(controlId) {\n      var startVectors = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('polyline[data-startid=\\'' + controlId + '\\']');\n      var endVectors = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('polyline[data-endid=\\'' + controlId + '\\']');\n      if (startVectors.length > 0 || endVectors.length > 0) {\n        var eleControl = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[id=\\'' + controlId + '\\']');\n\n        var positionRectPoints = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"a\" /* CpsCommonFunc */].getElementPoints(eleControl, 'controlRect');\n\n        for (var i = 0; i < __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.VectorLineDetail.length; i++) {\n          var model = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.VectorLineDetail[i];\n          if (model.StartControlId === controlId || model.EndControlId === controlId) {\n            var controlStartType = model.ControlStartType;\n\n            var controlEndType = model.ControlEndType;\n\n            var pointArr = model.Coordinates.split(' ');\n\n            var x1 = parseInt(pointArr[0].split(',')[0]);\n\n            var y1 = parseInt(pointArr[0].split(',')[1]);\n\n            var x2 = parseInt(pointArr[pointArr.length - 1].split(',')[0]);\n\n            var y2 = parseInt(pointArr[pointArr.length - 1].split(',')[1]);\n\n            if (model.StartControlId === controlId) {\n              x1 = positionRectPoints[controlStartType - 1].x;\n\n              y1 = positionRectPoints[controlStartType - 1].y;\n\n              var point = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"a\" /* CpsCommonFunc */].getPolylineStartOrEndPoint(x1, y1, controlStartType, true);\n              if (point) {\n                x1 = parseInt(point.split(',')[0]);\n                y1 = parseInt(point.split(',')[1]);\n              }\n            } else if (model.EndControlId === controlId) {\n              x2 = positionRectPoints[controlEndType - 1].x;\n\n              y2 = positionRectPoints[controlEndType - 1].y;\n\n              var _point2 = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"a\" /* CpsCommonFunc */].getPolylineStartOrEndPoint(x2, y2, controlEndType, false);\n              if (_point2) {\n                x2 = parseInt(_point2.split(',')[0]);\n                y2 = parseInt(_point2.split(',')[1]);\n              }\n            }\n\n            var points = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"a\" /* CpsCommonFunc */].getPointsByStyle(x1, y1, x2, y2, controlStartType, controlEndType);\n\n            $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('polyline[id=\\'' + model.LineId + '\\']').attr({ 'points': points });\n\n            model.Coordinates = points;\n          }\n        }\n      }\n    }\n  }, {\n    key: 'deletePolylineByControlId',\n    value: function deletePolylineByControlId(controlId) {\n      var vectorLineArr = [];\n      for (var i = 0; i < __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.VectorLineDetail.length; i++) {\n        var model = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.VectorLineDetail[i];\n        if (model.StartControlId !== controlId && model.EndControlId !== controlId) {\n          vectorLineArr.push(model);\n        } else {\n          $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('polyline[id=\\'' + model.LineId + '\\']').remove();\n        }\n      }\n\n      __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.VectorLineDetail = vectorLineArr;\n\n      __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].polylineAttrPanel.getForm().reset();\n    }\n  }, {\n    key: 'deletePolylineByLineId',\n    value: function deletePolylineByLineId(lineId) {\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('circle[name=\\'drawCircle\\']').css({ 'display': 'none' });\n      for (var i = 0; i < __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.VectorLineDetail.length; i++) {\n        if (__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.VectorLineDetail[i].LineId === lineId) {\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.VectorLineDetail.splice(i, 1);\n          break;\n        }\n      }\n\n      if (__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].polylineAttrPanel.getForm().findField('LineId').getValue() === lineId) {\n        __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].polylineAttrPanel.getForm().reset();\n      }\n\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('polyline[id=\\'' + lineId + '\\']').remove();\n      __WEBPACK_IMPORTED_MODULE_3__CpsMainPanel__[\"a\" /* CpsMainPanel */].setSizeDrawSvg();\n    }\n  }, {\n    key: 'initPolylineEvent',\n    value: function initPolylineEvent() {\n      CpsPolylineAttr.setPolylineOtherEvent();\n      CpsPolylineAttr.setPolylineDrawEvent();\n    }\n  }, {\n    key: 'setPolylineOtherEvent',\n    value: function setPolylineOtherEvent() {\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('polyline[name=\\'drawLine\\']').unbind('click').bind('click', function (event) {\n        if (!__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].useVectorLine) {\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selSvgPolyline = $(this);\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].isSelCpsControl = false;\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selVectorLineId = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selSvgPolyline.attr('id');\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"a\" /* CpsCommonFunc */].showElementPoints(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selSvgPolyline, 'drawCircle');\n          CpsPolylineAttr.setPolylineAttrFormValues(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selVectorLineId);\n        }\n      });\n    }\n  }, {\n    key: 'setPolylineDrawEvent',\n    value: function setPolylineDrawEvent() {\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).unbind('mousedown').bind('mousedown', function (event) {\n        if (__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].useVectorLine && !__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selVectorLineId) {\n          CpsPolylineAttr.canvasOffsetX = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).offset().left - $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).scrollLeft();\n          CpsPolylineAttr.canvasOffsetY = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).offset().top - $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).scrollTop();\n          CpsPolylineAttr.createPolyline(event.clientX, event.clientY);\n          event.preventDefault();\n        }\n      });\n\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).unbind('mousemove').bind('mousemove', function (event) {\n        if ((__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].useVectorLine || __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].redrawVectorLine) && __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selVectorLineId) {\n          var polyline = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('polyline[id=\\'' + __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selVectorLineId + '\\']');\n          if (polyline.length > 0) {\n            CpsPolylineAttr.canvasOffsetX = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).offset().left - $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).scrollLeft();\n            CpsPolylineAttr.canvasOffsetY = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).offset().top - $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).scrollTop();\n            CpsPolylineAttr.updatePolyline(polyline, event.clientX, event.clientY);\n          }\n        }\n        if (!__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].useVectorLine && __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].redrawCpsControl && __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selControlId) {\n          var elDrag = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[id=\\'' + __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selControlId + '\\']');\n          if (elDrag.length > 0) {\n            __WEBPACK_IMPORTED_MODULE_4__CpsControlsAttr__[\"a\" /* CpsControlsAttr */].changeCpsControlAttr(elDrag, __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].cpsControlPoint);\n            __WEBPACK_IMPORTED_MODULE_3__CpsMainPanel__[\"a\" /* CpsMainPanel */].resizeDrawSvg(elDrag);\n          }\n        }\n      });\n\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).unbind('mouseup').bind('mouseup', function (event) {\n        if ((__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].useVectorLine || __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].redrawVectorLine) && __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selVectorLineId) {\n          var polyline = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('polyline[id=\\'' + __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selVectorLineId + '\\']');\n          if (polyline.length > 0) {\n            __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"a\" /* CpsCommonFunc */].showElementPoints(polyline, 'drawCircle');\n            CpsPolylineAttr.savePolyline(polyline);\n          }\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selVectorLineId = null;\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].redrawVectorLine = false;\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].vectorLineIndex = 1;\n          $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('rect[name=\\'controlRect\\']').css({ 'display': 'none' });\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].positionRectPoints = null;\n          __WEBPACK_IMPORTED_MODULE_3__CpsMainPanel__[\"a\" /* CpsMainPanel */].setSizeDrawSvg();\n        } else {\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selVectorLineId = null;\n          $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('circle[name=\\'drawCircle\\']').css({ 'display': 'none' });\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].polylineAttrPanel.getForm().reset();\n        }\n        if (!__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].useVectorLine && __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].redrawCpsControl && __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selControlId) {\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].redrawCpsControl = false;\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].cpsControlPoint = null;\n          var elDrag = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[id=\\'' + __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selControlId + '\\']');\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"a\" /* CpsCommonFunc */].showElementPoints(elDrag, 'zoomCircle');\n          var width = Math.round(elDrag.css('width').replace('px', ''));\n          __WEBPACK_IMPORTED_MODULE_4__CpsControlsAttr__[\"a\" /* CpsControlsAttr */].setControlAttr(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selControlId, 'ControlWidth', width);\n          var height = Math.round(elDrag.css('height').replace('px', ''));\n          __WEBPACK_IMPORTED_MODULE_4__CpsControlsAttr__[\"a\" /* CpsControlsAttr */].setControlAttr(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selControlId, 'ControlHeight', height);\n\n          CpsPolylineAttr.updatePolylinePointsByControlId(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selControlId);\n          __WEBPACK_IMPORTED_MODULE_3__CpsMainPanel__[\"a\" /* CpsMainPanel */].setSizeDrawSvg();\n        } else {\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selControlId = null;\n          $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('circle[name=\\'zoomCircle\\']').css({ 'display': 'none' });\n        }\n      });\n    }\n  }]);\n\n  return CpsPolylineAttr;\n}();\n\nCpsPolylineAttr.canvasOffsetX = 0;\nCpsPolylineAttr.canvasOffsetY = 0;\n\n\n\n/***/ }),\n\n/***/ 603:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return CpsEventPanel; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__CpsCommon__ = __webpack_require__(599);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__CpsMainPanel__ = __webpack_require__(600);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__CpsSystemControls__ = __webpack_require__(605);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__CpsProgramControls__ = __webpack_require__(609);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__CpsPolylineAttr__ = __webpack_require__(602);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__CpsControlsAttr__ = __webpack_require__(601);\n\n\n\n\n\n\n\n\n\n\nvar CpsEventPanel = function () {\n  function CpsEventPanel() {\n    __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default()(this, CpsEventPanel);\n  }\n\n  __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default()(CpsEventPanel, null, [{\n    key: 'reInitCpsConfigureView',\n    value: function reInitCpsConfigureView() {\n      __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels = {\n        'ProduceControlLineId': '',\n        'ProduceControlLineName': '',\n        'ControlConfigId': '',\n        'FactoryModuleType': 0,\n        'State': 0,\n        'ControlDetail': [],\n        'VectorLineDetail': []\n      };\n      __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].masterVcl = null;\n      __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selControlId = null;\n      __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selVectorLineId = null;\n      __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].vectorLineIndex = 1;\n      CpsEventPanel.isShowTaskNoTip = true;\n      CpsEventPanel.sysEventPanel.items.getAt(5).setText('开启动态展示');\n      $('#pointerTool').click();\n      if ($('#descriptionBox').attr('data-checked')) {\n        $('#descriptionBox').click();\n      }\n      __WEBPACK_IMPORTED_MODULE_3__CpsMainPanel__[\"a\" /* CpsMainPanel */].selFactoryModuleType(undefined, null);\n    }\n  }, {\n    key: 'getProduceLineOfWorkStation',\n    value: function getProduceLineOfWorkStation(produceLineRelId, workStationId) {\n      var workstations = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[data-progid=\\'com.Workstation\\'][data-relid=\\'' + workStationId + '\\']');\n      if (workstations && workstations.length > 0) {\n        for (var i = 0; i < workstations.length; i++) {\n          var controlId = $(workstations[i]).attr('id');\n          var workProcessId = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('polyline[data-startid=\\'' + controlId + '\\'][data-endid^=\\'' + __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].comWorkProcess + '\\']').attr('data-endid');\n          var workSectionId = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('polyline[data-startid=\\'' + workProcessId + '\\'][data-endid^=\\'' + __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].comWorkshopSection + '\\']').attr('data-endid');\n          var produceLineId = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('polyline[data-startid=\\'' + workSectionId + '\\'][data-endid^=\\'' + __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].comProduceLine + '\\']').attr('data-endid');\n          var relId = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[id=\\'' + produceLineId + '\\']').attr('data-relid');\n          if (produceLineRelId === relId) {\n            return $(workstations[i]);\n          }\n        }\n      }\n      return null;\n    }\n  }, {\n    key: 'createSvg',\n    value: function createSvg(controlDom, showBottomOrLeftTrg, isTopOrRight) {\n      var svgNode = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n      if (svgNode) {\n        var controlId = controlDom.attr('id') + '-tip';\n        var left = Math.round(controlDom.css('left').replace('px', ''));\n        var top = Math.round(controlDom.css('top').replace('px', ''));\n        var width = Math.round(controlDom.css('width').replace('px', ''));\n        svgNode.setAttribute('id', controlId);\n        svgNode.setAttribute('name', 'wsTip');\n        if (showBottomOrLeftTrg) {\n          var x = left - 30;\n          var y = isTopOrRight ? top - 55 : top - 120;\n          svgNode.setAttribute('x', x);\n          svgNode.setAttribute('y', y);\n        } else {\n          var _x = left + width - 5;\n          var _y = top;\n          svgNode.setAttribute('x', _x);\n          svgNode.setAttribute('y', _y);\n        }\n        svgNode.setAttribute('preserveAspectRatio', 'xMidYMin meet');\n        svgNode.setAttribute('style', 'fill: none;fill-opacity: 1;');\n      }\n      return svgNode;\n    }\n  }, {\n    key: 'createSvgPolyline',\n    value: function createSvgPolyline(points, startControlId, startPointIndex, endControlId, endPointIndex) {\n      var polyline = document.createElementNS('http://www.w3.org/2000/svg', 'polyline');\n      if (polyline) {\n        var lineId = 'drawLine_' + parseInt(Math.random() * 10000);\n        while ($(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('line[id=\\'' + lineId + '\\']').length > 0) {\n          lineId = 'drawLine_' + parseInt(Math.random() * 10000);\n        }\n        polyline.setAttribute('name', 'drawLine');\n        polyline.setAttribute('id', lineId);\n        polyline.setAttribute('marker-end', 'url(#markerArrow)');\n        polyline.setAttribute('style', 'fill:none;stroke:red;stroke-width:2;cursor:move');\n        polyline.setAttribute('data-startid', startControlId);\n        polyline.setAttribute('data-starttype', startPointIndex);\n        polyline.setAttribute('data-endid', endControlId);\n        polyline.setAttribute('data-endtype', endPointIndex);\n        polyline.setAttribute('points', points);\n      }\n      return polyline;\n    }\n  }, {\n    key: 'createSvgRect',\n    value: function createSvgRect(showBottomOrLeftTrg, isTopOrRight) {\n      var rectNode = document.createElementNS('http://www.w3.org/2000/svg', 'rect');\n      if (rectNode) {\n        var px = showBottomOrLeftTrg ? 1 : isTopOrRight ? 15 : 150;\n        rectNode.setAttribute('x', px);\n        rectNode.setAttribute('y', '0');\n        rectNode.setAttribute('rx', '6');\n        rectNode.setAttribute('ry', '6');\n        rectNode.setAttribute('width', '130');\n        rectNode.setAttribute('height', '50');\n        rectNode.setAttribute('style', 'fill:#f7f8db;stroke:rgba(136, 136, 136, 0.5);stroke-width:3;');\n      }\n      return rectNode;\n    }\n  }, {\n    key: 'createSvgPolygon',\n    value: function createSvgPolygon(showBottomOrLeftTrg, isTopOrRight) {\n      var polygonNode = document.createElementNS('http://www.w3.org/2000/svg', 'polygon');\n      if (polygonNode) {\n        if (showBottomOrLeftTrg) {\n          var points = isTopOrRight ? '45,45 53,65 61,45' : '60,45 68,130 76,45';\n          polygonNode.setAttribute('points', points);\n        } else {\n          var _points = isTopOrRight ? '18,15 0,23 18,31' : '153,20 0,28 153,36';\n          polygonNode.setAttribute('points', _points);\n        }\n        polygonNode.setAttribute('style', 'fill: #f7f8db;');\n      }\n      return polygonNode;\n    }\n  }, {\n    key: 'createSvgText',\n    value: function createSvgText(ty, text, textValue, showBottomOrLeftTrg, isTopOrRight) {\n      var textNode = document.createElementNS('http://www.w3.org/2000/svg', 'text');\n      if (textNode) {\n        var px = showBottomOrLeftTrg ? 5 : isTopOrRight ? 20 : 155;\n        textNode.setAttribute('x', px);\n        textNode.setAttribute('y', ty);\n        textNode.setAttribute('style', 'font-size: 10px;fill: black;');\n        var textNodeString = document.createTextNode(text + ':');\n        textNode.appendChild(textNodeString);\n        var tSpanNode = CpsEventPanel.createSvgTSpan(ty, textValue, showBottomOrLeftTrg, isTopOrRight);\n        textNode.appendChild(tSpanNode);\n      }\n      return textNode;\n    }\n  }, {\n    key: 'createSvgTSpan',\n    value: function createSvgTSpan(tpy, text, showBottomOrLeftTrg, isTopOrRight) {\n      var tSpanNode = document.createElementNS('http://www.w3.org/2000/svg', 'tspan');\n      if (tSpanNode) {\n        var px = showBottomOrLeftTrg ? 50 : isTopOrRight ? 65 : 200;\n        tSpanNode.setAttribute('x', px);\n        tSpanNode.setAttribute('y', tpy);\n        tSpanNode.setAttribute('style', 'font-size: 10px;fill: black;font-weight: bold;');\n        var tSpanNodeString = document.createTextNode(text);\n        tSpanNode.appendChild(tSpanNodeString);\n      }\n      return tSpanNode;\n    }\n  }, {\n    key: 'createWorkStationSvgTip',\n    value: function createWorkStationSvgTip(produceLineId, wsModel, isTopOrRight, showBottomOrLeftTrg) {\n      var controlDom = CpsEventPanel.getProduceLineOfWorkStation(produceLineId, wsModel.WorkStationId);\n      if (controlDom) {\n        var state = wsModel.State === 0 ? '空闲' : '被占用';\n        var svgNode = CpsEventPanel.createSvg(controlDom, showBottomOrLeftTrg, isTopOrRight);\n        var rectNode = CpsEventPanel.createSvgRect(showBottomOrLeftTrg, isTopOrRight);\n        svgNode.appendChild(rectNode);\n        var polygonNode = CpsEventPanel.createSvgPolygon(showBottomOrLeftTrg, isTopOrRight);\n        svgNode.appendChild(polygonNode);\n        var textNode1 = CpsEventPanel.createSvgText('15', '站点状态', state, showBottomOrLeftTrg, isTopOrRight);\n        svgNode.appendChild(textNode1);\n        var textNode2 = CpsEventPanel.createSvgText('30', '派工单号', wsModel.TaskNo, showBottomOrLeftTrg, isTopOrRight);\n        svgNode.appendChild(textNode2);\n        var textNode3 = CpsEventPanel.createSvgText('45', '已完成数', wsModel.FinishCount, showBottomOrLeftTrg, isTopOrRight);\n        svgNode.appendChild(textNode3);\n        $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).append(svgNode);\n      }\n    }\n  }, {\n    key: 'setProduceLineOfWorkStationTips',\n    value: function setProduceLineOfWorkStationTips(produceModuleInfo) {\n      for (var i = 0; i < produceModuleInfo.length; i++) {\n        var produceModule = produceModuleInfo[i];\n        var produceLineId = produceModule.ProduceLineId;\n        var produceLine = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[data-progid=\\'com.ProduceLine\\'][data-relid=\\'' + produceLineId + '\\']');\n        var width = Math.round(produceLine.css('width').replace('px', ''));\n        var height = Math.round(produceLine.css('height').replace('px', ''));\n        var showBottomOrLeftTrg = width > height - 30 ? true : false;\n        for (var j = 0; j < produceModule.WorkstationDetail.length; j++) {\n          var model = produceModule.WorkstationDetail[j];\n          var isTopOrRight = j % 2 === 0 ? true : false;\n          CpsEventPanel.createWorkStationSvgTip(produceLineId, model, isTopOrRight, showBottomOrLeftTrg);\n        }\n      }\n    }\n  }, {\n    key: 'showProduceLineOfWorkStationInfo',\n    value: function showProduceLineOfWorkStationInfo() {\n      Ext.Ajax.request({\n        url: '/CpsModule/GetProduceLineOfStationInfo',\n        jsonData: { info: __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels },\n        method: 'POST',\n        async: false,\n        timeout: 90000000,\n        success: function success(response) {\n          var result = Ext.decode(response.responseText);\n\n          if (result.Messages.length > 0) {\n            var errMsg = [];\n            for (var i = 0; i < result.Messages.length; i++) {\n              errMsg.push({ kind: result.Messages[i].MessageKind, msg: result.Messages[i].Message });\n            }\n            Ax.utils.LibMsg.show(errMsg);\n          } else {\n            if (result.Result.length > 0) {\n              CpsEventPanel.destroyWorkStationTips();\n              CpsEventPanel.setProduceLineOfWorkStationTips(result.Result);\n              CpsEventPanel.isShowTaskNoTip = false;\n              CpsEventPanel.sysEventPanel.items.getAt(5).setText('关闭动态展示');\n            } else {\n              Ext.Msg.alert('提示', '当前产线的站点未进行任何指令操作！');\n            }\n          }\n        },\n        failure: function failure(response) {\n          Ext.Msg.alert('提示', '当前产线的站点动态数据展示失败');\n        }\n      });\n    }\n  }, {\n    key: 'destroyWorkStationTips',\n    value: function destroyWorkStationTips() {\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('svg[name=\\'wsTip\\']').remove();\n      __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"a\" /* CpsCommonFunc */].removeControlSelStyle();\n      CpsEventPanel.isShowTaskNoTip = true;\n      CpsEventPanel.sysEventPanel.items.getAt(5).setText('开启动态展示');\n    }\n  }, {\n    key: 'createEventPanel',\n    value: function createEventPanel() {\n      CpsEventPanel.sysEventPanel = Ext.create('Ext.panel.Panel', {\n        id: 'cpsEvent-panel',\n        bodyPadding: 5,\n        layout: {\n          type: 'table',\n          columns: 6\n        },\n        defaults: {\n          margin: '0 5 0 5'\n        },\n        items: [{\n          xtype: 'button',\n          text: '初始化',\n          scale: 'medium',\n          colspan: 1,\n          handler: function handler() {\n            Ext.Msg.confirm('系统提示', '这将会清空画板，确认继续吗？', function (btn) {\n              if (btn === 'yes') {\n                CpsEventPanel.reInitCpsConfigureView();\n              }\n            });\n          }\n        }, {\n          xtype: 'button',\n          text: '保存',\n          scale: 'medium',\n          colspan: 1,\n          handler: function handler() {\n            var checkErrorStr = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"a\" /* CpsCommonFunc */].checkProduceControlLineModels();\n            if (checkErrorStr.length < 1) {\n              Ext.Msg.prompt('请输入CPS建模名称', '名称', function (btn, text) {\n                if (btn === 'ok') {\n                  if (!text) {\n                    Ext.Msg.alert('提示', 'CPS建模名称不能为空!');\n                  } else {\n                    __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.ProduceControlLineName = text;\n                    $('#cpsLoading').css('display', 'block');\n                    __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"a\" /* CpsCommonFunc */].saveProduceControlLineModels();\n                    $('#cpsLoading').css('display', 'none');\n                  }\n                }\n              }, this, false, __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.ProduceControlLineName);\n            } else {\n              Ax.utils.LibMsg.show(checkErrorStr);\n            }\n          }\n        }, {\n          xtype: 'button',\n          text: '预览',\n          scale: 'medium',\n          colspan: 1,\n          handler: function handler() {\n            __WEBPACK_IMPORTED_MODULE_3__CpsMainPanel__[\"a\" /* CpsMainPanel */].showProduceControlLineModels();\n          }\n        }, {\n          xtype: 'button',\n          text: '纠察',\n          scale: 'medium',\n          colspan: 1,\n          handler: function handler() {\n            var checkErrorStr = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"a\" /* CpsCommonFunc */].checkProduceControlLineModels();\n            if (checkErrorStr.length < 1) {\n              Ext.Msg.alert('提示', '已为您纠察完毕。');\n            } else {\n              Ax.utils.LibMsg.show(checkErrorStr);\n            }\n          }\n        }, {\n          xtype: 'button',\n          text: '隐藏属性模块',\n          scale: 'medium',\n          colspan: 1,\n          handler: function handler() {\n            if (CpsEventPanel.showAttrFormPanel) {\n              CpsEventPanel.showAttrFormPanel = false;\n              this.up('panel').items.getAt(4).setText('显示属性模块');\n            } else {\n              CpsEventPanel.showAttrFormPanel = true;\n              this.up('panel').items.getAt(4).setText('隐藏属性模块');\n            }\n            __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].attrFormPanels.setVisible(CpsEventPanel.showAttrFormPanel);\n          }\n        }, {\n          xtype: 'button',\n          text: '开启动态展示',\n          scale: 'medium',\n          colspan: 1,\n          handler: function handler() {\n            if (CpsEventPanel.isShowTaskNoTip) {\n              var checkErrorStr = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"a\" /* CpsCommonFunc */].checkProduceControlLineModels();\n              if (checkErrorStr.length < 1) {\n                CpsEventPanel.taskNoTipInterval = window.setInterval(CpsEventPanel.showProduceLineOfWorkStationInfo, 3000);\n              } else {\n                Ax.utils.LibMsg.show(checkErrorStr);\n              }\n            } else {\n              CpsEventPanel.destroyWorkStationTips();\n              window.clearInterval(CpsEventPanel.taskNoTipInterval);\n            }\n          }\n        }]\n      });\n      return CpsEventPanel.sysEventPanel;\n    }\n  }, {\n    key: 'initCommonEvent',\n    value: function initCommonEvent() {\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].renderTo).unbind('contextmenu').bind('contextmenu', function (event) {\n        event.originalEvent.preventDefault();\n        return false;\n      });\n\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].renderTo).unbind('mouseup').bind('mouseup', function (event) {\n        if (!__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].useVectorLine && (event.button === 1 || event.button === 0)) {\n          if (__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].munePanel) {\n            __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].munePanel.hide();\n          }\n        }\n      });\n\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].controlsId).find('div[name=\\'cpsControlTitle\\']').unbind('click').bind('click', function (event) {\n        var display = $(this).parent().find('div[name=\\'cpsControls\\']').css('display');\n        if (display === 'block') {\n          $(this).find('img[name=\\'cpsImage\\']').removeClass('cps-controls-openimg');\n          $(this).parent().find('div[name=\\'cpsControls\\']').css('display', 'none');\n        } else {\n          $(this).find('img[name=\\'cpsImage\\']').addClass('cps-controls-openimg');\n          $(this).parent().find('div[name=\\'cpsControls\\']').css('display', 'block');\n        }\n      });\n\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).unbind('keydown').bind('keydown', function (event) {\n        if (!__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].useVectorLine) {\n          if (event.key === 'Delete' || event.keyCode === 46 || event.which === 46 || event.ctrlKey && (event.key === 'd' || event.keyCode === 68 || event.which === 68)) {\n            if (__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selVectorLineId) {\n              __WEBPACK_IMPORTED_MODULE_6__CpsPolylineAttr__[\"a\" /* CpsPolylineAttr */].deletePolylineByLineId(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selVectorLineId);\n              __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selVectorLineId = null;\n            }\n            if (__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selControlId) {\n              __WEBPACK_IMPORTED_MODULE_7__CpsControlsAttr__[\"a\" /* CpsControlsAttr */].deleteControlByControlId(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selControlId);\n              __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selControlId = null;\n            }\n          }\n          if (event.ctrlKey) {\n            if (event.key === 'c' || event.keyCode === 67 || event.which === 67) {\n              if (__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].isSelCpsControl) {\n                CpsEventPanel.copyCpsControl = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selCpsControl;\n                CpsEventPanel.isPasteCpsControl = true;\n              } else {\n                CpsEventPanel.copySvgPolyline = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selSvgPolyline;\n                CpsEventPanel.isPasteCpsControl = false;\n              }\n            }\n            if (event.key === 'v' || event.keyCode === 86 || event.which === 86) {\n              if (CpsEventPanel.copyCpsControl && CpsEventPanel.isPasteCpsControl) {\n                __WEBPACK_IMPORTED_MODULE_5__CpsProgramControls__[\"a\" /* CpsProgramControls */].copyCpsControl(CpsEventPanel.copyCpsControl);\n              }\n              if (CpsEventPanel.copySvgPolyline && !CpsEventPanel.isPasteCpsControl) {\n                __WEBPACK_IMPORTED_MODULE_6__CpsPolylineAttr__[\"a\" /* CpsPolylineAttr */].copySvgPolyline(CpsEventPanel.copySvgPolyline);\n              }\n            }\n            if (__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selCpsControl && (event.key === '+' || event.keyCode === 107 || event.which === 107)) {\n              __WEBPACK_IMPORTED_MODULE_7__CpsControlsAttr__[\"a\" /* CpsControlsAttr */].zoomCpsControl(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selCpsControl, true);\n            }\n            if (__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selCpsControl && (event.key === '-' || event.keyCode === 109 || event.which === 109)) {\n              __WEBPACK_IMPORTED_MODULE_7__CpsControlsAttr__[\"a\" /* CpsControlsAttr */].zoomCpsControl(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selCpsControl, false);\n            }\n            if (__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selCpsControl && (event.key === 'ArrowUp' || event.keyCode === 38 || event.which === 38)) {\n              $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('circle[name=\\'zoomCircle\\']').css({ 'display': 'none' });\n              var top = Math.round(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selCpsControl.css('top').replace('px', ''));\n              top = top > 1 ? top - 1 : 1;\n              __WEBPACK_IMPORTED_MODULE_7__CpsControlsAttr__[\"a\" /* CpsControlsAttr */].moveCpsControl(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selCpsControl, null, top);\n            }\n            if (__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selCpsControl && (event.key === 'ArrowDown' || event.keyCode === 40 || event.which === 40)) {\n              $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('circle[name=\\'zoomCircle\\']').css({ 'display': 'none' });\n              var down = Math.round(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selCpsControl.css('top').replace('px', '')) + 1;\n              __WEBPACK_IMPORTED_MODULE_7__CpsControlsAttr__[\"a\" /* CpsControlsAttr */].moveCpsControl(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selCpsControl, null, down);\n            }\n            if (__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selCpsControl && (event.key === 'ArrowLeft' || event.keyCode === 37 || event.which === 37)) {\n              $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('circle[name=\\'zoomCircle\\']').css({ 'display': 'none' });\n              var left = Math.round(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selCpsControl.css('left').replace('px', ''));\n              left = left > 1 ? left - 1 : 1;\n              __WEBPACK_IMPORTED_MODULE_7__CpsControlsAttr__[\"a\" /* CpsControlsAttr */].moveCpsControl(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selCpsControl, left, null);\n            }\n            if (__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selCpsControl && (event.key === 'ArrowRight' || event.keyCode === 39 || event.which === 39)) {\n              $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('circle[name=\\'zoomCircle\\']').css({ 'display': 'none' });\n              var right = Math.round(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selCpsControl.css('left').replace('px', '')) + 1;\n              __WEBPACK_IMPORTED_MODULE_7__CpsControlsAttr__[\"a\" /* CpsControlsAttr */].moveCpsControl(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selCpsControl, right, null);\n            }\n          }\n        }\n        event.originalEvent.preventDefault();\n      });\n\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('circle[name=\\'zoomCircle\\']').unbind('mousedown').bind('mousedown', function (event) {\n        if (!__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].useVectorLine && !__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].redrawCpsControl) {\n          var controlId = $(this).attr('data-controlid');\n          var pointIndex = parseInt($(this).attr('data-index'));\n          var elDrag = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[id=\\'' + controlId + '\\']');\n          var width = Math.round(elDrag.css('width').replace('px', ''));\n          var height = Math.round(elDrag.css('height').replace('px', ''));\n          var left = Math.round(elDrag.css('left').replace('px', ''));\n          var top = Math.round(elDrag.css('top').replace('px', ''));\n          $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('circle[name=\\'zoomCircle\\']').css({ 'display': 'none' });\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selControlId = controlId;\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].cpsControlPoint = {\n            'point': event.clientX + ',' + event.clientY,\n            'width': width,\n            'height': height,\n            'left': left,\n            'top': top,\n            'index': pointIndex\n          };\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].redrawCpsControl = true;\n          __WEBPACK_IMPORTED_MODULE_5__CpsProgramControls__[\"a\" /* CpsProgramControls */].dragControl = null;\n        }\n      });\n\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('circle[name=\\'drawCircle\\']').unbind('mousedown').bind('mousedown', function (event) {\n        var lineId = $(this).attr('data-lineid');\n        var pointIndex = parseInt($(this).attr('data-index'));\n        $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('circle[id=\\'drawCircle' + pointIndex + '\\']').css({ 'display': 'none' });\n        __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selVectorLineId = lineId;\n        __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].vectorLineIndex = pointIndex;\n        __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].redrawVectorLine = true;\n      });\n    }\n  }, {\n    key: 'loadCpsConfigureEvent',\n    value: function loadCpsConfigureEvent() {\n      __WEBPACK_IMPORTED_MODULE_4__CpsSystemControls__[\"a\" /* CpsSystemControls */].initSystemControlEvent();\n      CpsEventPanel.initCommonEvent();\n      __WEBPACK_IMPORTED_MODULE_5__CpsProgramControls__[\"a\" /* CpsProgramControls */].initProgramControlEvent();\n      __WEBPACK_IMPORTED_MODULE_6__CpsPolylineAttr__[\"a\" /* CpsPolylineAttr */].initPolylineEvent();\n    }\n  }]);\n\n  return CpsEventPanel;\n}();\n\nCpsEventPanel.sysEventPanel = true;\nCpsEventPanel.showAttrFormPanel = true;\nCpsEventPanel.taskNoTipInterval = null;\nCpsEventPanel.isShowTaskNoTip = true;\nCpsEventPanel.copyCpsControl = null;\nCpsEventPanel.copySvgPolyline = null;\nCpsEventPanel.isPasteCpsControl = true;\n\n\n\n/***/ }),\n\n/***/ 605:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return CpsSystemControls; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__CpsCommon__ = __webpack_require__(599);\n\n\n\n\n\nvar CpsSystemControls = function () {\n  function CpsSystemControls() {\n    __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default()(this, CpsSystemControls);\n  }\n\n  __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default()(CpsSystemControls, null, [{\n    key: 'loadControlConfigVue',\n    value: function loadControlConfigVue(list, isDraggable) {\n      var configVue = '';\n      if (list && list.ConfigDetail.length > 0) {\n        var width = list.DisplayType === 0 ? 180 : list.DisplayType === 1 ? 90 : 60;\n\n        var height = list.DisplayType === 0 ? 120 : list.DisplayType === 1 ? 60 : 40;\n\n        var cos = list.DisplayType + 1;\n\n        var j = 0;\n        configVue = '<table cellspacing=\"5\" border=\"0\"><tbody>';\n        for (var i = 0; i < list.ConfigDetail.length; i++) {\n          var model = list.ConfigDetail[i];\n\n          if (j === 0) {\n            configVue = configVue + '<tr>';\n          }\n          configVue = configVue + '<td>';\n\n          if (isDraggable) {\n            configVue = configVue + '<div class=\"cps-controls-td\" name=\"cpsIcon\" style=\"width:' + width + 'px;height:' + height + 'px;\"  draggable=\"true\" id=\"' + model.ProgId.replace('.', '') + '\"  data-relid=\"\" data-progid=\"' + model.ProgId + '\">';\n          } else {\n            configVue = configVue + '<div class=\"cps-controls-td\" name=\"sysIcon\" style=\"width:' + width + 'px;height:' + height + 'px;\" id=\"' + model.ProgId.replace('.', '') + '\"  data-checked=\"\" data-progid=\"' + model.ProgId + '\">';\n          }\n          configVue = configVue + '<div class=\"cps-controls-region\">';\n          configVue = configVue + '<img src=\"' + model.RelIcon + '\" style=\"width: ' + (height - 30) + 'px;height:' + (height - 30) + 'px;\"/>';\n          configVue = configVue + '<div class=\"cps-controls-span\">' + model.ProgName + '</div>';\n          configVue = configVue + '</div>';\n          configVue = configVue + '</div>';\n          configVue = configVue + '</td>';\n          j++;\n\n          if (j === cos) {\n            configVue = configVue + '</tr>';\n            j = 0;\n          }\n        }\n\n        if (j !== 0) {\n          j = cos - j;\n          configVue = configVue + '<td colspan=\"' + j + '\"></td>';\n          configVue = configVue + '</tr>';\n        }\n        configVue = configVue + '</tbody></table>';\n      }\n      if (isDraggable) {\n        $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].cpsControlsId).empty().append(configVue);\n      } else {\n        $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].sysControlsId).empty().append(configVue);\n      }\n    }\n  }, {\n    key: 'loadSystemControlConfigVue',\n    value: function loadSystemControlConfigVue() {\n      var list = {\n        'ControlConfigId': '1',\n        'ControlConfigName': '',\n        'FactoryModuleType': 0,\n        'DisplayType': 1,\n        'ConfigDetail': [{\n          'ControlConfigId': '1',\n          'RowId': 1,\n          'RowNo': 1,\n          'ProgId': 'pointerTool',\n          'ProgName': '指针工具',\n          'RelIcon': '/Scripts/img/cps/指针工具.png',\n          'ControlType': 1\n        }, {\n          'ControlConfigId': '1',\n          'RowId': 2,\n          'RowNo': 2,\n          'ProgId': 'vectorLine',\n          'ProgName': '矢量线',\n          'RelIcon': '/Scripts/img/cps/矢量线.png',\n          'ControlType': 1\n        }, {\n          'ControlConfigId': '1',\n          'RowId': 3,\n          'RowNo': 3,\n          'ProgId': 'descriptionBox',\n          'ProgName': '描述框',\n          'RelIcon': '/Scripts/img/cps/描述框.png',\n          'ControlType': 1\n        }, {\n          'ControlConfigId': '1',\n          'RowId': 4,\n          'RowNo': 4,\n          'ProgId': 'comboBox',\n          'ProgName': '组合框',\n          'RelIcon': '/Scripts/img/cps/组合框.png',\n          'ControlType': 1\n        }]\n      };\n      CpsSystemControls.loadControlConfigVue(list, false);\n      $('#pointerTool').find('div.cps-controls-region').css({\n        'background-color': '#f7f8db',\n        'border': '1px solid #d2c06c '\n      });\n    }\n  }, {\n    key: 'initSystemControlEvent',\n    value: function initSystemControlEvent() {\n      $('#descriptionBox').unbind('click').bind('click', function (event) {\n        var checked = $(this).attr('data-checked');\n        if (checked) {\n          $(this).attr('data-checked', '');\n          $('#descriptionBox').find('div.cps-controls-region').css({\n            'background-color': '#ffffff',\n            'border': '0'\n          });\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].useToolTip = false;\n        } else {\n          $(this).attr('data-checked', 'true');\n          $('#descriptionBox').find('div.cps-controls-region').css({\n            'background-color': '#f7f8db',\n            'border': '1px solid #d2c06c'\n          });\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].useToolTip = true;\n        }\n      });\n\n      $('#pointerTool').unbind('click').bind('click', function (event) {\n        $('#pointerTool').find('div.cps-controls-region').css({\n          'background-color': '#f7f8db',\n          'border': '1px solid #d2c06c '\n        });\n        $('#vectorLine').find('div.cps-controls-region').css({\n          'background-color': '#ffffff',\n          'border': '0'\n        });\n        $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).css({ 'cursor': 'default' });\n        $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('rect[name=\\'controlRect\\']').css({ 'display': 'none' });\n        $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('circle[name=\\'drawCircle\\']').css({ 'display': 'none' });\n        __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].useVectorLine = false;\n      });\n\n      $('#vectorLine').unbind('click').bind('click', function (event) {\n        $('#pointerTool').find('div.cps-controls-region').css({\n          'background-color': '#ffffff',\n          'border': '0'\n        });\n        $('#vectorLine').find('div.cps-controls-region').css({\n          'background-color': '#f7f8db',\n          'border': '1px solid #d2c06c '\n        });\n        $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).css({ 'cursor': 'crosshair' });\n        $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('circle[name=\\'zoomCircle\\']').css({ 'display': 'none' });\n        __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].useVectorLine = true;\n      });\n    }\n  }]);\n\n  return CpsSystemControls;\n}();\n\n\n\n/***/ }),\n\n/***/ 606:\n/***/ (function(module, exports) {\n\nexports.f = {}.propertyIsEnumerable;\n\n\n/***/ }),\n\n/***/ 607:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(39);\nvar core = __webpack_require__(34);\nvar LIBRARY = __webpack_require__(246);\nvar wksExt = __webpack_require__(608);\nvar defineProperty = __webpack_require__(35).f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n\n\n/***/ }),\n\n/***/ 608:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports.f = __webpack_require__(27);\n\n\n/***/ }),\n\n/***/ 609:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return CpsProgramControls; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__CpsCommon__ = __webpack_require__(599);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__CpsMainPanel__ = __webpack_require__(600);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__CpsControlsAttr__ = __webpack_require__(601);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__CpsEventPanel__ = __webpack_require__(603);\n\n\n\n\n\n\n\n\nvar CpsProgramControls = function () {\n  function CpsProgramControls() {\n    __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default()(this, CpsProgramControls);\n  }\n\n  __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default()(CpsProgramControls, null, [{\n    key: 'getBillDataList',\n    value: function getBillDataList(filterChecked, filterCbo, dateCbo, record, pageSize, callback) {\n      var listLoadData = [];\n\n      var pageCount = 0;\n      var filter = filterChecked();\n      var fieldName = filterCbo.getValue();\n      if (fieldName === 'all') {\n        fieldName = '';\n      }\n      Ext.Ajax.request({\n        url: '/billSvc/getBillListing',\n        method: 'POST',\n        jsonData: {\n          listingQuery: {\n            Handle: UserHandle,\n            ProgId: record.PROGID,\n            TimeFilter: dateCbo.getValue(),\n            Filter: filter,\n            EntryParam: record.ENTRYPARAM\n          }\n        },\n        async: false,\n        timeout: 90000000,\n        success: function success(response) {\n          var ret = Ext.decode(response.responseText);\n\n          var listData = Ext.decode(ret.GetBillListingResult);\n\n          var filterField = Ext.decode(listData.FilterField);\n          if (filterField.length > 0) {\n            filterCbo.store.loadData(filterField, true);\n          }\n\n          var listingLength = listData.Data.length;\n          if (listingLength >= pageSize) {\n            for (var i = 0; i < pageSize; i++) {\n              listLoadData.push(listData.Data[i]);\n            }\n          } else {\n            listLoadData = listData.Data;\n          }\n          pageCount = Math.ceil(listingLength / pageSize);\n          callback(true, listData, listLoadData, pageCount);\n        },\n        failure: function failure(response) {\n          Ext.Msg.alert('提示', '获取此功能数据列表失败');\n          callback(false, [], [], 0);\n        }\n      });\n    }\n  }, {\n    key: 'showProgramDataListView',\n    value: function showProgramDataListView(displayText, progId, callback) {\n      $('#cpsLoading').css('display', 'block');\n      if (progId) {\n        if (__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"a\" /* CpsCommonFunc */].canUseFunc(progId)) {\n          var win = null;\n\n          var extId = 'Ext_' + __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"a\" /* CpsCommonFunc */].randomString();\n          var record = {\n            'parentId': extId,\n            'MENUITEM': displayText,\n            'PROGID': progId,\n            'PROGNAME': displayText,\n            'BILLTYPE': 0,\n            'ENTRYPARAM': '',\n            'ISVISUAL': false,\n            'CONDITION': '',\n            'id': extId,\n            'leaf': true,\n            'children': null\n          };\n          var tabId = progId.replace('.', '') + 'panel';\n\n          var filterCbo = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"a\" /* CpsCommonFunc */].getFilterCob();\n          var compareCbo = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"a\" /* CpsCommonFunc */].getCompareCbo();\n          var compareTxt = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"a\" /* CpsCommonFunc */].getCompareTxt();\n          var dateCbo = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"a\" /* CpsCommonFunc */].getDateCbo();\n\n          var filterFun = Ax.utils.LibQuickSelectBuilder.createSelectBar(record.BILLTYPE);\n\n          var filterPanel = filterFun[0];\n          var pageSize = 200;\n\n          var pageCount = 1;\n          var listingData = [];\n          var listingLoadData = [];\n          var allPageCount = 0;\n          var toolBarAction = [];\n\n          CpsProgramControls.getBillDataList(filterFun[1], filterCbo, dateCbo, record, pageSize, function (isSuccess, listData, listLoadData, pageCount) {\n            if (isSuccess) {\n              listingData = listData;\n              listingLoadData = listLoadData;\n              allPageCount = pageCount;\n\n              var listingStore = Ext.create('Ext.data.Store', {\n                fields: Ext.decode(listingData.Fields),\n                proxy: {\n                  type: 'memory',\n                  reader: {\n                    type: 'json'\n                  }\n                },\n                data: listingLoadData\n              });\n              var height = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].renderTo).height();\n\n              var gridPanel = Ext.create('Ext.grid.Panel', {\n                height: height - 90,\n                pageCount: 1,\n                pageSize: pageSize,\n                flex: 1,\n                store: listingStore,\n                autoScroll: true,\n                Pks: listingData.Pk,\n                selType: 'checkboxmodel',\n                multiSelect: false,\n                columns: Ext.decode(listingData.Columns),\n                plugins: 'gridfilters',\n                listeners: {\n                  itemclick: function itemclick(self, record, item, index, e, eOpts) {\n                    if (document.body.clientWidth < 1210) {\n                      toolBarAction[2].execute();\n                    }\n                  },\n                  itemdblclick: function itemdblclick(self, record, item, index, e, eOpts) {\n                    if (document.body.clientWidth >= 1210) {\n                      toolBarAction[2].execute();\n                    }\n                  }\n                }\n              });\n\n              gridPanel.columns[0].renderer = function (value, metadata, record, rowIndex) {\n                return (gridPanel.pageCount - 1) * gridPanel.pageSize + rowIndex + 1;\n              };\n\n              toolBarAction = Ax.utils.LibToolBarBuilder.createBillListingAction(record.PROGID, record.BILLTYPE, displayText, 0, gridPanel, filterCbo, compareCbo, compareTxt, dateCbo, filterFun[1], undefined, record.ENTRYPARAM, pageCount, pageSize, allPageCount, listingData);\n\n              var selConfirm = Ext.create(Ext.Action, {\n                text: '选择确认',\n                iconCls: 'fa fa-check ',\n                handler: function handler() {\n                  var firstRecord = gridPanel.getView().getSelectionModel().getSelection();\n                  if (firstRecord.length === 1) {\n                    var pk = gridPanel.Pks[0];\n                    var relId = firstRecord[0].get(pk);\n                    var name = pk.substr(0, pk.length - 2) + 'NAME';\n                    var relName = firstRecord[0].get(name);\n                    if (win) {\n                      win.close();\n                    }\n                    callback(relId, relName);\n                  } else {\n                    Ext.Msg.alert('提示', '只能选择一行数据');\n                  }\n                }\n              });\n              toolBarAction.push(selConfirm);\n\n              var tab = Ext.create('Ext.panel.Panel', {\n                id: tabId,\n                layout: { type: 'vbox', align: 'stretch' },\n                border: false,\n                tbar: Ax.utils.LibToolBarBuilder.createToolBar(toolBarAction),\n                toolBarAction: toolBarAction,\n                items: [gridPanel, filterPanel]\n              });\n\n              var maxWidth = document.body.clientWidth * 0.8;\n              var maxHeight = document.body.clientHeight * 0.9 - 20;\n\n              win = Ext.create('Ext.window.Window', {\n                title: displayText,\n                titleAlign: 'center',\n                constrain: true,\n                closable: true,\n                draggable: true,\n                resizable: false,\n                width: maxWidth,\n                height: maxHeight,\n                border: false,\n                layout: 'fit',\n                items: tab,\n                isWindow: true,\n                listeners: {\n                  beforeshow: function beforeshow(self, eOpts) {\n                    gridPanel.getView().getSelectionModel().clearSelections();\n                    gridPanel.getView().refresh();\n                    if (CpsProgramControls.menuControlRelId) {\n                      var pk = gridPanel.Pks[0];\n                      var orderStore = gridPanel.getView().getStore();\n                      var rowCount = orderStore.getCount();\n\n                      for (var i = 0; i < rowCount; i++) {\n                        if (orderStore.getAt(i).get(pk) === CpsProgramControls.menuControlRelId) {\n                          gridPanel.getView().getSelectionModel().selectRange(i, i, true);\n                          return;\n                        }\n                      }\n                    }\n                  }\n                }\n              });\n\n              win.show();\n            }\n          });\n        } else {\n          Ext.Msg.alert('提示', '没有当前功能的使用权限。');\n        }\n      }\n      $('#cpsLoading').css('display', 'none');\n    }\n  }, {\n    key: 'AdditionalTechRouteData',\n    value: function AdditionalTechRouteData(techRouteProgId, techRouteControlId, techRouteControlName, techRouteId) {\n      Ext.Ajax.request({\n        url: '/CpsModule/GetCurrentTechRouteInfo',\n        jsonData: { techRouteId: techRouteId, techRouteControlId: techRouteControlId, info: __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels },\n        method: 'POST',\n        async: false,\n        timeout: 90000000,\n        success: function success(response) {\n          var result = undefined;\n          if (response.responseText) result = Ext.decode(response.responseText);\n          var billAction = techRouteId ? BillActionEnum.Edit : BillActionEnum.AddNew;\n          var curPks = techRouteId ? [techRouteId] : undefined;\n          CpsProgramControls.showProgramDataView(techRouteProgId, billAction, curPks, null, result, function (relId, relName) {\n            __WEBPACK_IMPORTED_MODULE_3__CpsMainPanel__[\"a\" /* CpsMainPanel */].buildControlLayout(techRouteControlId, techRouteControlName, relId, relName, false);\n          });\n        },\n        failure: function failure(response) {\n          if (techRouteId) {\n            Ext.Msg.alert('提示', '修改当前标准工艺路线[' + techRouteId + ']数据出现异常');\n          } else {\n            Ext.Msg.alert('提示', '新增当前标准工艺路线[' + techRouteId + ']数据出现异常');\n          }\n        }\n      });\n    }\n  }, {\n    key: 'showProgramDataView',\n    value: function showProgramDataView(progId, billAction, curPks, entryParam, techRouteModel, callback) {\n      $('#cpsLoading').css('display', 'block');\n      var vcl = Ax.utils.LibVclSystemUtils.getVcl(progId, BillTypeEnum.Master);\n      var view = Ax.utils.LibVclSystemUtils.getView(progId, BillTypeEnum.Master, vcl);\n      vcl.entryParam = entryParam;\n      vcl.getTpl();\n      vcl.billType = BillTypeEnum.Master;\n      var id = Ext.id();\n      DesktopApp.ActiveWindow = id;\n      vcl.winId = id;\n\n      var items = view[vcl.funcView.get('default').name](billAction, curPks, true);\n      if (!items) {\n        return;\n      }\n\n      var progName = vcl.tpl.DisplayText;\n\n      var masterRow = vcl.dataSet.getTable(0).data.items[0];\n      var title = Ax.utils.LibVclSystemUtils.getCurrentStateText(masterRow.get('CURRENTSTATE'));\n      var curPk = '';\n      if (curPks !== undefined) {\n        curPk = curPks[0];\n      }\n      if (vcl.tpl.ShowAuditState) {\n        var auditTxt = Ax.utils.LibVclSystemUtils.getAuditStateText(masterRow.get('AUDITSTATE'), masterRow.get('FLOWLEVEL'));\n        title = curPk + progName + '【' + title + '】' + '【' + auditTxt + '】';\n      } else {\n        title = curPk + progName + '【' + title + '】';\n      }\n      if (vcl.billType === BillTypeEnum.Master) {\n        if (!masterRow.get('ISVALIDITY')) {\n          title += '【已失效】';\n        }\n      }\n\n      var win = Ext.create('Ext.window.Window', {\n        id: id,\n        title: title,\n        progName: progName,\n        autoScroll: true,\n        width: document.body.clientWidth * 0.8,\n        height: document.body.clientHeight * 0.9,\n        constrainHeader: true,\n        minimizable: true,\n        maximizable: true,\n        items: items,\n        vcl: vcl,\n        listeners: {\n          close: function close(self, eOpts) {\n            this.vcl.vclHandler(self, { libEventType: LibEventTypeEnum.FormClosed });\n\n            if (self.vcl.dataSet.getTable(0).data.items[0].get('CURRENTSTATE') === 2 && !self.vcl.isEdit) {\n              var pk = self.vcl.dataSet.getTable(0).data.items[0].store.Pks[0];\n              var relId = self.vcl.dataSet.getTable(0).data.items[0].get(pk);\n              var name = pk.substr(0, pk.length - 2) + 'NAME';\n              var relName = self.vcl.dataSet.getTable(0).data.items[0].get(name);\n              callback(relId, relName);\n            }\n          },\n          beforeclose: function beforeclose(self, eOpts) {\n            this.vcl.vclHandler(self, { libEventType: LibEventTypeEnum.FormClosing });\n\n            if (self.vcl.dataSet.getTable(0).data.items[0].get('CURRENTSTATE') !== 2) {\n              if (billAction === BillActionEnum.AddNew) {\n                Ext.Msg.alert('提示', '单据未生效，此时新增的数据无效');\n              }\n              if (billAction === BillActionEnum.Modif) {\n                Ext.Msg.alert('提示', '单据未生效，此时修改的数据无效');\n              }\n            }\n          },\n          beforeshow: function beforeshow(self, eOpts) {\n            if (progId === 'com.TechRoute' && techRouteModel) {\n              __WEBPACK_IMPORTED_MODULE_3__CpsMainPanel__[\"a\" /* CpsMainPanel */].FillTechRouteGridData(self.vcl, techRouteModel);\n            }\n          }\n        }\n      });\n      vcl.win = win;\n      win.show();\n      $('#cpsLoading').css('display', 'none');\n    }\n  }, {\n    key: 'copyCpsControl',\n    value: function copyCpsControl(cpsControl) {\n      var name = cpsControl.find('div.cps-controls-span').text().split('[')[0];\n      var progId = cpsControl.attr('data-progid').replace('.', '');\n      var left = Math.round(cpsControl.css('left').replace('px', '')) + 10;\n      var top = Math.round(cpsControl.css('top').replace('px', '')) + 10;\n\n      var controlId = progId + '_' + parseInt(Math.random() * 1000);\n      while ($(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[id=\\'' + controlId + '\\']').length > 0) {\n        controlId = progId + '_' + parseInt(Math.random() * 1000);\n      }\n      var elDrag = cpsControl.clone().attr({ 'id': controlId, 'data-relid': '' }).css({\n        'left': left + 'px',\n        'top': top + 'px'\n      });\n      elDrag.find('div.cps-controls-span').text(name);\n      elDrag.find('div.cps-controls-region').css({\n        'background-color': '#eceff4',\n        'border': '1px solid #bbcfde '\n      });\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).append(elDrag);\n      __WEBPACK_IMPORTED_MODULE_4__CpsControlsAttr__[\"a\" /* CpsControlsAttr */].updateControlByControlId(false, controlId);\n      CpsProgramControls.initSvgControlEvent();\n      __WEBPACK_IMPORTED_MODULE_5__CpsEventPanel__[\"a\" /* CpsEventPanel */].copyCpsControl = elDrag;\n    }\n  }, {\n    key: 'createControlMenu',\n    value: function createControlMenu() {\n      __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].munePanel = Ext.create('Ext.menu.Menu', {\n        width: 100,\n        margin: '0 0 10 0',\n        floating: true,\n        shadow: 'drop',\n        items: [{\n          text: '选择',\n          iconCls: 'fa fa-eye',\n          handler: function handler() {\n            this.up('menu').hide();\n            CpsProgramControls.menuControlId = CpsProgramControls.menuControl.attr('id');\n            CpsProgramControls.menuControlRelId = CpsProgramControls.menuControl.attr('data-relid');\n            var displayText = CpsProgramControls.menuControl.find('div.cps-controls-span').text();\n            var progId = CpsProgramControls.menuControl.attr('data-progid');\n\n            if (progId === 'com.TechRoute' && __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.FactoryModuleType === 2) {\n              toastr.info('选择标准工艺路线主数据ID之前，要为其组件右方或下方的组件布局留出足够的空白区域以便加载其数据模型覆盖当前数据模型！', '系统提示');\n              CpsProgramControls.showProgramDataListView(displayText, progId, function (relId, relName) {\n                Ext.Msg.confirm(\"系统提示\", \"是否进行标准工艺路线的数据模型复制操作？\", function (btn) {\n                  var isCopy = btn === \"yes\" ? true : false;\n                  __WEBPACK_IMPORTED_MODULE_3__CpsMainPanel__[\"a\" /* CpsMainPanel */].buildControlLayout(CpsProgramControls.menuControlId, displayText, relId, relName, isCopy);\n                });\n              });\n            } else {\n              CpsProgramControls.showProgramDataListView(displayText, progId, function (relId, relName) {\n                __WEBPACK_IMPORTED_MODULE_4__CpsControlsAttr__[\"a\" /* CpsControlsAttr */].setControlRelIdName(CpsProgramControls.menuControlId, displayText, relId, relName);\n              });\n            }\n          }\n        }, {\n          text: '复制',\n          iconCls: 'fa fa-plus',\n          handler: function handler() {\n            this.up('menu').hide();\n            CpsProgramControls.copyCpsControl(CpsProgramControls.menuControl);\n          }\n        }, {\n          text: '删除',\n          iconCls: 'fa fa-trash',\n          handler: function handler() {\n            this.up('menu').hide();\n            var controlId = CpsProgramControls.menuControl.attr('id');\n            __WEBPACK_IMPORTED_MODULE_4__CpsControlsAttr__[\"a\" /* CpsControlsAttr */].deleteControlByControlId(controlId);\n          }\n        }],\n        renderTo: __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].renderTo });\n      return __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].munePanel;\n    }\n  }, {\n    key: 'createControlToolTip',\n    value: function createControlToolTip(controlId, isShow) {\n      if (!__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].descToolTip) {\n        __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].descToolTip = Ext.create('Ext.tip.ToolTip', {\n          html: '跟随鼠标移动',\n          trackMouse: true,\n          dismissDelay: 8000,\n          border: '1 1 1 1',\n          anchorOffset: 10,\n          cls: 'cps-x-tip-top-default',\n          anchor: 'top',\n          maxWidth: 250,\n          Width: 250\n        });\n      }\n      if (isShow) {\n        var svgOffset = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).offset();\n        var left = 0;\n        var top = 0;\n        var html = '<b>未知数据</b><br>';\n        for (var i = 0; i < __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.ControlDetail.length; i++) {\n          var model = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.ControlDetail[i];\n          if (model.ControlId === controlId) {\n            left = model.XCoordinate + model.ControlWidth / 2 + svgOffset.left - $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).scrollLeft() - 5;\n            top = model.YCoordinate + model.ControlHeight + svgOffset.top - $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).scrollTop();\n            html = '<b>' + model.ControlDescription + '</b><br>';\n            break;\n          }\n        }\n        __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].descToolTip.update(html);\n        __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].descToolTip.showAt(left, top);\n      } else {\n        __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].descToolTip.setVisible(false);\n      }\n    }\n  }, {\n    key: 'getPersonalControl',\n    value: function getPersonalControl(elDrag) {\n      var progId = elDrag.attr('data-progid');\n      if (__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.FactoryModuleType === 1) {\n        switch (progId) {\n          case 'com.ProduceLine':\n            elDrag.css({ 'width': '600px', 'height': '60px' });\n            elDrag.find('img').css({ 'width': '30px', 'height': '30px' });\n            break;\n          case 'com.WorkshopSection':\n            elDrag.css({ 'width': '280px', 'height': '55px' });\n            elDrag.find('img').css({ 'width': '25px', 'height': '25px' });\n            break;\n          case 'com.WorkProcess':\n            elDrag.css({ 'width': '150px', 'height': '50px' });\n            elDrag.find('img').css({ 'width': '20px', 'height': '20px' });\n            break;\n          case 'com.Workstation':\n            elDrag.css({ 'width': '80px', 'height': '50px' });\n            elDrag.find('img').css({ 'width': '20px', 'height': '20px' });\n            break;\n        }\n      }\n      if (__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.FactoryModuleType === 2) {\n        switch (progId) {\n          case 'com.TechRoute':\n            elDrag.css({ 'width': '70px', 'height': '600px' });\n            elDrag.find('img').css({ 'width': '40px', 'height': '40px' });\n            break;\n          case 'com.TechRouteType':\n            elDrag.css({ 'width': '50px', 'height': '280px' });\n            elDrag.find('img').css({ 'width': '20px', 'height': '20px' });\n            break;\n          case 'com.WorkshopSection':\n            elDrag.css({ 'width': '60px', 'height': '300px' });\n            elDrag.find('img').css({ 'width': '30px', 'height': '30px' });\n            break;\n          case 'com.WorkProcess':\n            elDrag.css({ 'width': '160px', 'height': '60px' });\n            elDrag.find('img').css({ 'width': '30px', 'height': '30px' });\n            break;\n          case 'com.WorkstationConfig':\n          case 'com.Material':\n          case 'com.MaterialType':\n            elDrag.css({ 'width': '160px', 'height': '50px' });\n            elDrag.find('img').css({ 'width': '20px', 'height': '20px' });\n            break;\n        }\n      }\n      return elDrag;\n    }\n  }, {\n    key: 'initSvgControlEvent',\n    value: function initSvgControlEvent() {\n      CpsProgramControls.setControlDragEvent();\n      CpsProgramControls.setSvgControlOtherEvent();\n    }\n  }, {\n    key: 'initProgramControlEvent',\n    value: function initProgramControlEvent() {\n      CpsProgramControls.initSvgControlEvent();\n      CpsProgramControls.setControlMoveEvent();\n    }\n  }, {\n    key: 'setControlDragEvent',\n    value: function setControlDragEvent() {\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].mainPanelId).find('div[name=\\'cpsIcon\\']').unbind('dragstart').bind('dragstart', function (event) {\n        if (!__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].useVectorLine && !__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].redrawCpsControl) {\n          var controlId = $(this).attr('id');\n\n          var cpsControl = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[id=\\'' + controlId + '\\']');\n\n          if (cpsControl.length > 0) {\n            CpsProgramControls.existControl = true;\n            CpsProgramControls.canvasOffsetX = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).offset().left - $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).scrollLeft();\n            CpsProgramControls.canvasOffsetY = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).offset().top - $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).scrollTop();\n            $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('circle[name=\\'zoomCircle\\']').css({ 'display': 'none' });\n            __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selControlId = null;\n            $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('circle[name=\\'drawCircle\\']').css({ 'display': 'none' });\n            __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selVectorLineId = null;\n            __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].polylineAttrPanel.getForm().reset();\n          } else {\n            CpsProgramControls.existControl = false;\n            CpsProgramControls.canvasOffsetX = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).offset().left - $(this).offset().left - $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).scrollLeft();\n            CpsProgramControls.canvasOffsetY = $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).offset().top - $(this).offset().top - $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).scrollTop();\n\n            var id = controlId + '_' + parseInt(Math.random() * 1000);\n            while ($(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[id=\\'' + id + '\\']').length > 0) {\n              id = controlId + '_' + parseInt(Math.random() * 1000);\n            }\n\n            cpsControl = $(this).clone();\n            cpsControl = cpsControl.attr('id', id);\n            cpsControl = CpsProgramControls.getPersonalControl(cpsControl);\n          }\n\n          CpsProgramControls.controlOffsetX = parseInt(event.clientX - cpsControl.offset().left);\n          CpsProgramControls.controlOffsetY = parseInt(event.clientY - cpsControl.offset().top);\n          cpsControl.css({ 'position': 'absolute', 'margin': '0' });\n          CpsProgramControls.dragControl = cpsControl;\n        }\n      });\n\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].mainPanelId).find('div[name=\\'cpsIcon\\']').unbind('dragend').bind('dragend', function (event) {\n        if (!__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].useVectorLine && !__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].redrawCpsControl) {\n          var left = Math.round(CpsProgramControls.dragControl.css('left').replace('px', ''));\n          var top = Math.round(CpsProgramControls.dragControl.css('top').replace('px', ''));\n          var controlId = CpsProgramControls.dragControl.attr('id');\n          if (left < 0 || top < 0) {\n            __WEBPACK_IMPORTED_MODULE_4__CpsControlsAttr__[\"a\" /* CpsControlsAttr */].deleteControlByControlId(controlId);\n          } else {\n            __WEBPACK_IMPORTED_MODULE_4__CpsControlsAttr__[\"a\" /* CpsControlsAttr */].updateControlByControlId(CpsProgramControls.existControl, controlId);\n            if (!CpsProgramControls.existControl) {\n              CpsProgramControls.initSvgControlEvent();\n            }\n          }\n        }\n\n        CpsProgramControls.existControl = false;\n        CpsProgramControls.dragControl = null;\n        event.originalEvent.preventDefault();\n      });\n    }\n  }, {\n    key: 'setControlMoveEvent',\n    value: function setControlMoveEvent() {\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).unbind('dragenter').bind('dragenter', function (event) {\n        if (!__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].useVectorLine && CpsProgramControls.dragControl && !__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].redrawCpsControl) {\n          var controlId = CpsProgramControls.dragControl.attr('id');\n          if (__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlsAttrPanel.getForm().findField('ControlId').getValue() !== controlId) {\n            __WEBPACK_IMPORTED_MODULE_4__CpsControlsAttr__[\"a\" /* CpsControlsAttr */].setControlAttrFormValues(CpsProgramControls.dragControl);\n          }\n          if (!CpsProgramControls.existControl && $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('svg[id=\\'' + controlId + '\\']').length <= 0) {\n            var left = event.clientX - CpsProgramControls.controlOffsetX - CpsProgramControls.canvasOffsetX;\n            var top = event.clientY - CpsProgramControls.controlOffsetY - CpsProgramControls.canvasOffsetY;\n            CpsProgramControls.dragControl.css('left', left);\n            CpsProgramControls.dragControl.css('top', top);\n            $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).append(CpsProgramControls.dragControl);\n          }\n        }\n\n        event.originalEvent.preventDefault();\n      });\n\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).unbind('dragover').bind('dragover', function (event) {\n        if (!__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].useVectorLine && CpsProgramControls.dragControl && !__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].redrawCpsControl) {\n          var left = event.clientX - CpsProgramControls.controlOffsetX - CpsProgramControls.canvasOffsetX;\n          var top = event.clientY - CpsProgramControls.controlOffsetY - CpsProgramControls.canvasOffsetY;\n          CpsProgramControls.dragControl.css('left', left);\n          CpsProgramControls.dragControl.css('top', top);\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlsAttrPanel.getForm().findField('XCoordinate').setValue(left);\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlsAttrPanel.getForm().findField('YCoordinate').setValue(top);\n          __WEBPACK_IMPORTED_MODULE_3__CpsMainPanel__[\"a\" /* CpsMainPanel */].resizeDrawSvg(CpsProgramControls.dragControl);\n        }\n\n        event.originalEvent.preventDefault();\n      });\n    }\n  }, {\n    key: 'setSvgControlOtherEvent',\n    value: function setSvgControlOtherEvent() {\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[name=\\'cpsIcon\\']').unbind('mouseup').bind('mouseup', function (event) {\n        if (!__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].useVectorLine) {\n          if (event.button === 2) {\n            if (!__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].munePanel) {\n              CpsProgramControls.createControlMenu();\n            }\n            CpsProgramControls.menuControl = $(this);\n            __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].munePanel.showAt(event.clientX, event.clientY, false);\n            event.preventDefault();\n          }\n        }\n      });\n\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[name=\\'cpsIcon\\']').unbind('click').bind('click', function (event) {\n        if (!__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].useVectorLine) {\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selCpsControl = $(this);\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].isSelCpsControl = true;\n          __WEBPACK_IMPORTED_MODULE_4__CpsControlsAttr__[\"a\" /* CpsControlsAttr */].setControlAttrFormValues(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selCpsControl);\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"a\" /* CpsCommonFunc */].showElementPoints(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selCpsControl, 'zoomCircle');\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selControlId = __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].selCpsControl.attr('id');\n        }\n      });\n\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[name=\\'cpsIcon\\']').unbind('dblclick').bind('dblclick', function (event) {\n        if (!__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].useVectorLine) {\n          var controlId = $(this).attr('id');\n          var progId = $(this).attr('data-progid');\n          var relId = $(this).attr('data-relid');\n          var controlName = $(this).find('div.cps-controls-span').text();\n          if (progId === 'com.TechRoute' && __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels.FactoryModuleType === 2) {\n            toastr.info('新增或修改标准工艺路线之前，要为其组件右方或下方的组件布局留出足够的空白区域以便加载其数据模型覆盖当前数据模型！', '系统提示');\n            CpsProgramControls.AdditionalTechRouteData(progId, controlId, controlName, relId);\n          } else {\n            var billAction = relId ? BillActionEnum.Browse : BillActionEnum.AddNew;\n            var curPks = relId ? [relId] : undefined;\n            CpsProgramControls.showProgramDataView(progId, billAction, curPks, null, null, function (relId, relName) {\n              __WEBPACK_IMPORTED_MODULE_4__CpsControlsAttr__[\"a\" /* CpsControlsAttr */].setControlRelIdName(controlId, controlName, relId, relName);\n            });\n          }\n        }\n      });\n\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[name=\\'cpsIcon\\']').unbind('mouseenter').bind('mouseenter', function (event) {\n        if (__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].useVectorLine || __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].redrawVectorLine) {\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"a\" /* CpsCommonFunc */].showElementPoints($(this), 'controlRect');\n        }\n        if (!__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].useVectorLine && __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].useToolTip) {\n          var controlId = $(this).attr('id');\n          CpsProgramControls.createControlToolTip(controlId, true);\n        }\n      });\n\n      $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].canvasId).find('div[name=\\'cpsIcon\\']').unbind('mouseleave').bind('mouseleave', function (event) {\n        if (__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].useVectorLine || __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].redrawVectorLine) {\n          $(__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"c\" /* CpsCommonConst */].drawSVGId).find('rect[name=\\'controlRect\\']').css({ 'display': 'none' });\n          __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].positionRectPoints = null;\n        }\n        if (!__WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].useVectorLine && __WEBPACK_IMPORTED_MODULE_2__CpsCommon__[\"b\" /* CpsCommonVar */].useToolTip) {\n          CpsProgramControls.createControlToolTip(null, false);\n        }\n      });\n    }\n  }]);\n\n  return CpsProgramControls;\n}();\n\nCpsProgramControls.controlOffsetX = 0;\nCpsProgramControls.controlOffsetY = 0;\nCpsProgramControls.canvasOffsetX = 0;\nCpsProgramControls.canvasOffsetY = 0;\nCpsProgramControls.existControl = false;\nCpsProgramControls.dragControl = null;\nCpsProgramControls.menuControl = null;\nCpsProgramControls.menuControlId = null;\nCpsProgramControls.menuControlRelId = null;\n\n\n\n/***/ }),\n\n/***/ 610:\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = __webpack_require__(254);\nvar hiddenKeys = __webpack_require__(155).concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n\n\n/***/ }),\n\n/***/ 611:\n/***/ (function(module, exports) {\n\nexports.f = Object.getOwnPropertySymbols;\n\n\n/***/ }),\n\n/***/ 616:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__ = __webpack_require__(149);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__store_mutation_types__ = __webpack_require__(71);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__assets_js_ext_container_tab_panel__ = __webpack_require__(169);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__assets_js_ext_workbench__ = __webpack_require__(636);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__assets_js_ext_menu_config__ = __webpack_require__(633);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__assets_js_ext_cps_configure__ = __webpack_require__(631);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__assets_js_ext_document__ = __webpack_require__(632);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__items_nav_header_items__ = __webpack_require__(244);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__assets_js_ext_contentExt__ = __webpack_require__(250);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__assets_js_signalR_signalR_js__ = __webpack_require__(251);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__assets_js_toastr_toastr_js__ = __webpack_require__(637);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_src_module_storage__ = __webpack_require__(44);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  data: function data() {\n    return {\n      subscribe: null,\n      isExt: true\n    };\n  },\n\n  computed: {\n    contrainers: function contrainers() {\n      return __WEBPACK_IMPORTED_MODULE_7__items_nav_header_items__[\"NavHeaderItemUtility\"].getContrainers();\n    },\n    headerItem: function headerItem() {\n      return this.$store.state.mainHeader.selectedItem;\n    }\n  },\n  beforeMount: function beforeMount() {\n    this.subscribeChanged();\n  },\n  mounted: function mounted() {\n    this.init();\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.subscribe();\n  },\n\n  methods: {\n    init: function init() {\n      __WEBPACK_IMPORTED_MODULE_10__assets_js_toastr_toastr_js__[\"a\" /* default */].toastrInit();\n      __WEBPACK_IMPORTED_MODULE_9__assets_js_signalR_signalR_js__[\"a\" /* default */].connectionInit();\n      Ax.utils.LibVclSystemUtils.loadVueStore(this.$store, __WEBPACK_IMPORTED_MODULE_1__store_mutation_types__);\n      __WEBPACK_IMPORTED_MODULE_6__assets_js_ext_document__[\"a\" /* Document */].onInit(this.headerItemChanged);\n      __WEBPACK_IMPORTED_MODULE_5__assets_js_ext_cps_configure__[\"a\" /* CpsConfigure */].onInit(this.headerItemChanged);\n      this.setDefaultHeaderItem();\n    },\n    setDefaultHeaderItem: function setDefaultHeaderItem() {\n      var _this = this;\n\n      var headerItem = __WEBPACK_IMPORTED_MODULE_11_src_module_storage__[\"a\" /* default */].getHeaderItem();\n      if (!headerItem) {\n        headerItem = __WEBPACK_IMPORTED_MODULE_7__items_nav_header_items__[\"NavHeaderItemUtility\"].getDefaultHeaderItem();\n      }\n      this.$nextTick(function () {\n        __WEBPACK_IMPORTED_MODULE_11_src_module_storage__[\"a\" /* default */].setHeaderItem(headerItem);\n        _this.$store.dispatch(__WEBPACK_IMPORTED_MODULE_1__store_mutation_types__[\"MAIN_HEADER_SELECTED_ITEM\"], { selectedItem: headerItem });\n      });\n    },\n    subscribeChanged: function subscribeChanged() {\n      var _this2 = this;\n\n      this.subscribe = this.$store.subscribe(function (mutation, state) {\n        if (mutation.type === __WEBPACK_IMPORTED_MODULE_1__store_mutation_types__[\"MAIN_HEADER_SELECTED_ITEM\"]) {\n          _this2.isExt = true;\n          _this2.$router.push('/layout/content/');\n          _this2.headerItemChanged(mutation.payload.selectedItem);\n        }\n        if (mutation.type === __WEBPACK_IMPORTED_MODULE_1__store_mutation_types__[\"MAIN_SIDEBAR_SELECTED_ITEM\"]) {\n          if (mutation.payload.selectedItem.item.PROGID === 'PUBLISH') {\n            _this2.isExt = false;\n            _this2.$router.push('/layout/content/publish/pull');\n          } else {\n            _this2.isExt = true;\n            _this2.$router.push('/layout/content/');\n            _this2.sideItemChanged(mutation.payload.selectedItem.item);\n          }\n        }\n      });\n    },\n    sideItemChanged: function sideItemChanged(item) {\n      var extCmp = this.getExtComponent(this.headerItem.contrainer);\n      if (!extCmp) {\n        return;\n      }\n      this.reRender(extCmp);\n      extCmp.itemClick(item);\n    },\n    headerItemChanged: function headerItemChanged(item) {\n      this.isExt = true;\n      this.$router.push('/layout/content/');\n      this.setMainSidebarEnabled(true);\n      var contrainer = item.contrainer;\n      this.setContrainer(contrainer);\n      var extCmp = this.getExtComponent(contrainer);\n      if (!extCmp) {\n        this.initContrainer(contrainer);\n        extCmp = this.getExtComponent(contrainer);\n      }\n      this.setSidebarEnabledByContrainer(contrainer);\n      this.reRender(extCmp);\n    },\n    initContrainer: function initContrainer(contrainer) {\n      var domContrainer = this.$refs[contrainer][0];\n      switch (contrainer) {\n        case __WEBPACK_IMPORTED_MODULE_7__items_nav_header_items__[\"EnumNavHeader\"].workbench:\n          this.putExtComponent(__WEBPACK_IMPORTED_MODULE_3__assets_js_ext_workbench__[\"a\" /* Workbench */].getControl(domContrainer), contrainer);\n          break;\n        case __WEBPACK_IMPORTED_MODULE_7__items_nav_header_items__[\"EnumNavHeader\"].menuConfig:\n          this.putExtComponent(__WEBPACK_IMPORTED_MODULE_4__assets_js_ext_menu_config__[\"a\" /* MenuConfig */].onSetMenu(domContrainer), contrainer);\n          break;\n        case __WEBPACK_IMPORTED_MODULE_7__items_nav_header_items__[\"EnumNavHeader\"].document:\n          this.putExtComponent(__WEBPACK_IMPORTED_MODULE_6__assets_js_ext_document__[\"a\" /* Document */].onSetMenu(domContrainer), contrainer);\n          break;\n        case __WEBPACK_IMPORTED_MODULE_7__items_nav_header_items__[\"EnumNavHeader\"].cpsModel:\n          this.putExtComponent(__WEBPACK_IMPORTED_MODULE_5__assets_js_ext_cps_configure__[\"a\" /* CpsConfigure */].onSetMenu(domContrainer), contrainer);\n          break;\n        default:\n          this.putExtComponent(__WEBPACK_IMPORTED_MODULE_2__assets_js_ext_container_tab_panel__[\"a\" /* ContentLayout */].getControl(domContrainer), contrainer);\n          break;\n      }\n    },\n    setSidebarEnabledByContrainer: function setSidebarEnabledByContrainer(contrainer) {\n      switch (contrainer) {\n        case __WEBPACK_IMPORTED_MODULE_7__items_nav_header_items__[\"EnumNavHeader\"].menuConfig:\n          this.setMainSidebarEnabled(false);\n          break;\n        case __WEBPACK_IMPORTED_MODULE_7__items_nav_header_items__[\"EnumNavHeader\"].document:\n          this.setMainSidebarEnabled(false);\n          break;\n        case __WEBPACK_IMPORTED_MODULE_7__items_nav_header_items__[\"EnumNavHeader\"].cpsModel:\n          this.setMainSidebarEnabled(false);\n          break;\n      }\n    },\n    setContrainer: function setContrainer(key) {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(this.contrainers), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var contrainer = _step.value;\n\n          var domList = this.$refs[contrainer];\n          if (key === contrainer) {\n            domList[0].className = 'contrainer-show';\n          } else {\n            domList[0].className = 'contrainer-hide';\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    },\n    reRender: function reRender(ext) {\n      this.$nextTick(function () {\n        try {\n          __WEBPACK_IMPORTED_MODULE_8__assets_js_ext_contentExt__[\"a\" /* default */].contrainer = ext;\n          ext.updateLayout();\n        } catch (error) {\n          console.error(error);\n        }\n      });\n    },\n    setMainSidebarEnabled: function setMainSidebarEnabled(isEnabled) {\n      this.$store.dispatch(__WEBPACK_IMPORTED_MODULE_1__store_mutation_types__[\"MAIN_SIDEBAR_SEARCH_ENABLED\"], { isEnabled: isEnabled });\n      this.$store.dispatch(__WEBPACK_IMPORTED_MODULE_1__store_mutation_types__[\"MAIN_SIDEBAR_MENU_ENABLED\"], { isEnabled: isEnabled });\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 630:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__CpsCommon__ = __webpack_require__(599);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__CpsMainPanel__ = __webpack_require__(600);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__CpsSystemControls__ = __webpack_require__(605);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__CpsControlsAttr__ = __webpack_require__(601);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__CpsPolylineAttr__ = __webpack_require__(602);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__CpsEventPanel__ = __webpack_require__(603);\n\n\n\n\n\n\n\nExt.define('CPSConfigureManage.CpsConfigureMain', {\n  init: function init() {\n    this.launcher = {\n      text: 'CPS建模',\n      iconCls: 'menuIco'\n    };\n  },\n\n  createAttrPanel: function createAttrPanel() {\n    var maxHeight = parseInt($('.content-section').css('height').replace('px', '')) - 50;\n\n    var controlAttrPanel = __WEBPACK_IMPORTED_MODULE_3__CpsControlsAttr__[\"a\" /* CpsControlsAttr */].createControlAttrPanel();\n\n    var polylineAttrPanel = __WEBPACK_IMPORTED_MODULE_4__CpsPolylineAttr__[\"a\" /* CpsPolylineAttr */].createPolylineAttrPanel();\n    __WEBPACK_IMPORTED_MODULE_0__CpsCommon__[\"b\" /* CpsCommonVar */].attrFormPanels = Ext.create('Ext.panel.Panel', {\n      border: false,\n      width: 250,\n      height: '100%',\n      maxHeight: maxHeight,\n      autoScroll: true,\n      flex: 0,\n      layout: 'vbox',\n      items: [controlAttrPanel, polylineAttrPanel]\n    });\n    return __WEBPACK_IMPORTED_MODULE_0__CpsCommon__[\"b\" /* CpsCommonVar */].attrFormPanels;\n  },\n\n  createCpsFactoryModule: function createCpsFactoryModule(renderTo, produceControlLineId, masterVcl) {\n    var eventPanel = __WEBPACK_IMPORTED_MODULE_5__CpsEventPanel__[\"a\" /* CpsEventPanel */].createEventPanel();\n\n    var mainPanel = __WEBPACK_IMPORTED_MODULE_1__CpsMainPanel__[\"a\" /* CpsMainPanel */].createMainPanel();\n\n    var attrPanel = this.createAttrPanel();\n\n    var panel = Ext.create('Ext.panel.Panel', {\n      id: 'CpsConfigureWinId',\n      header: false,\n      draggable: false,\n      resizable: false,\n      width: '100%',\n      height: '100%',\n      iconCls: 'gears',\n      animCollapse: false,\n      border: false,\n      layout: 'vbox',\n      items: [{\n        xtype: 'panel',\n        border: true,\n        width: '100%',\n        height: 50,\n        flex: 0,\n        layout: 'fit',\n        items: [eventPanel]\n      }, {\n        xtype: 'panel',\n        border: false,\n        width: '100%',\n        flex: 1,\n        layout: 'hbox',\n        autoScroll: true,\n        items: [mainPanel, attrPanel]\n      }],\n      renderTo: renderTo,\n      style: {\n        'border-radius': '0px !important;',\n        'background-color': '#4a9dcf !important;',\n        'border-color': '#4a9dcf !important;'\n      }\n    });\n    __WEBPACK_IMPORTED_MODULE_0__CpsCommon__[\"b\" /* CpsCommonVar */].renderTo = renderTo;\n\n    __WEBPACK_IMPORTED_MODULE_2__CpsSystemControls__[\"a\" /* CpsSystemControls */].loadSystemControlConfigVue();\n    if (!masterVcl) {\n      __WEBPACK_IMPORTED_MODULE_1__CpsMainPanel__[\"a\" /* CpsMainPanel */].selFactoryModuleType(produceControlLineId, masterVcl);\n    }\n    return panel;\n  }\n});\n\n/***/ }),\n\n/***/ 631:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return CpsConfigure; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__module_storage__ = __webpack_require__(44);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_items_nav_header_items__ = __webpack_require__(244);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__cps_CpsCommon__ = __webpack_require__(599);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__cps_CpsMainPanel__ = __webpack_require__(600);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__cps_CpsProgramControls__ = __webpack_require__(609);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__cps_CpsConfigureMain__ = __webpack_require__(630);\n\n\n\n\n\n\n\n\n\n\nvar CpsConfigure = function () {\n  function CpsConfigure() {\n    __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default()(this, CpsConfigure);\n  }\n\n  __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default()(CpsConfigure, null, [{\n    key: 'onInit',\n    value: function onInit(gotoMenu) {\n      if (!CpsConfigure.Instance) {\n        CpsConfigure.Instance = Ext.create('CPSConfigureManage.CpsConfigureMain', {});\n      }\n\n      CpsConfigure.gotoMenu = gotoMenu;\n\n      var filterList = undefined;\n      for (var i = 0; i < __WEBPACK_IMPORTED_MODULE_3__components_items_nav_header_items__[\"NavHeaderItems\"].length; i++) {\n        if (__WEBPACK_IMPORTED_MODULE_3__components_items_nav_header_items__[\"NavHeaderItems\"][i] && __WEBPACK_IMPORTED_MODULE_3__components_items_nav_header_items__[\"NavHeaderItems\"][i].text === 'CPS建模') {\n          filterList = __WEBPACK_IMPORTED_MODULE_3__components_items_nav_header_items__[\"NavHeaderItems\"][i];\n          break;\n        }\n      }\n\n      if (filterList) {\n        CpsConfigure.CpsConfigureItem = filterList;\n      } else {\n        CpsConfigure.CpsConfigureItem = {\n          key: __WEBPACK_IMPORTED_MODULE_3__components_items_nav_header_items__[\"EnumNavHeader\"].cpsModel,\n          text: 'CPS建模',\n          contrainer: 'cpsModel'\n        };\n      }\n\n      CPSConfigureManage.CpsConfigureMain.jumpTo = CpsConfigure.jumpTo;\n      CPSConfigureManage.CpsConfigureMain.loadCanvas = CpsConfigure.loadCanvas;\n    }\n  }, {\n    key: 'jumpTo',\n    value: function jumpTo(cpsConfigureId, factoryModuleType, vcl) {\n      CpsConfigure.LastItem = __WEBPACK_IMPORTED_MODULE_2__module_storage__[\"a\" /* default */].getHeaderItem();\n      var selectedItem = CpsConfigure.CpsConfigureItem;\n      __WEBPACK_IMPORTED_MODULE_2__module_storage__[\"a\" /* default */].setHeaderItem(selectedItem);\n      CpsConfigure.gotoMenu(selectedItem);\n      __WEBPACK_IMPORTED_MODULE_5__cps_CpsMainPanel__[\"a\" /* CpsMainPanel */].factoryModuleTypeWin.close();\n      __WEBPACK_IMPORTED_MODULE_5__cps_CpsMainPanel__[\"a\" /* CpsMainPanel */].loadCpsConfigureView(cpsConfigureId, factoryModuleType, vcl);\n    }\n  }, {\n    key: 'loadCanvas',\n    value: function loadCanvas(produceControlLineId) {\n      __WEBPACK_IMPORTED_MODULE_4__cps_CpsCommon__[\"a\" /* CpsCommonFunc */].getProduceControlLineList(produceControlLineId, function (list) {\n        __WEBPACK_IMPORTED_MODULE_4__cps_CpsCommon__[\"b\" /* CpsCommonVar */].controlLineModels = list;\n        __WEBPACK_IMPORTED_MODULE_5__cps_CpsMainPanel__[\"a\" /* CpsMainPanel */].showProduceControlLineModels();\n      });\n    }\n  }, {\n    key: 'onSetMenu',\n    value: function onSetMenu(el) {\n      if (!CpsConfigure.Instance) {\n        CpsConfigure.Instance = Ext.create('CPSConfigureManage.CpsConfigureMain', {});\n      }\n      var panel = CpsConfigure.Instance.createCpsFactoryModule(el, undefined, undefined);\n      return panel;\n    }\n  }]);\n\n  return CpsConfigure;\n}();\n\n\n\n/***/ }),\n\n/***/ 632:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Document; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__module_storage__ = __webpack_require__(44);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__store_mutation_types__ = __webpack_require__(71);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_items_nav_header_items__ = __webpack_require__(244);\n\n\n\n\n\n\nvar Document = function () {\n  function Document() {\n    __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default()(this, Document);\n  }\n\n  __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default()(Document, null, [{\n    key: 'onInit',\n    value: function onInit(gotoMenu) {\n      try {\n        if (Document.Instance == null) {\n          Ext.Loader.setPath('DocumentManage', '/Scripts/ax/dm');\n          Document.Instance = Ext.create('DocumentManage.DocumentMain', {});\n        }\n        Document.gotoMenu = gotoMenu;\n\n        var filterList = __WEBPACK_IMPORTED_MODULE_4__components_items_nav_header_items__[\"NavHeaderItems\"].filter(function (item) {\n          if (item && item.text === '文档管理') return true;\n          return false;\n        });\n        if (filterList && filterList.length > 0) Document.DocumentItem = filterList[0];else {\n          Document.DocumentItem = {\n            key: EnumNavHeader.document,\n            text: '文档管理',\n            contrainer: 'document'\n          };\n        }\n\n        DocumentManage.DocumentMain.JumpTo = Document.JumpTo;\n        DocumentManage.DocumentMain.JumpBack = Document.JumpBack;\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  }, {\n    key: 'JumpTo',\n    value: function JumpTo(dirId, dirType, docId) {\n      Document.LastItem = __WEBPACK_IMPORTED_MODULE_2__module_storage__[\"a\" /* default */].getHeaderItem();\n      var selectedItem = Document.DocumentItem;\n      __WEBPACK_IMPORTED_MODULE_2__module_storage__[\"a\" /* default */].setHeaderItem(selectedItem);\n\n      Document.gotoMenu(selectedItem);\n\n      var delay = new Ext.util.DelayedTask(function () {\n        if (!Document.Instance.dirDocViewTab) {\n          Document.Instance.autoExpandFirstNode();\n        }\n        Document.Instance.dirDocViewTab.jumpTo(dirId, dirType, docId);\n      });\n      delay.delay(1000);\n    }\n  }, {\n    key: 'JumpBack',\n    value: function JumpBack() {\n      if (Document.LastItem && Document.LastItem != Document.DocumentItem) {\n        var item = Document.LastItem;\n        __WEBPACK_IMPORTED_MODULE_2__module_storage__[\"a\" /* default */].setHeaderItem(item);\n        Document.gotoMenu(item);\n      }\n    }\n  }, {\n    key: 'onSetMenu',\n    value: function onSetMenu(el) {\n      var id = 'DocumentMainPanel_FixId';\n      DesktopApp.ActiveWindow = id;\n      if (Document.Instance == null) {\n        Ext.Loader.setPath('DocumentManage', '/Scripts/ax/dm');\n        Document.Instance = Ext.create('DocumentManage.DocumentMain', {});\n      }\n      var panel = Document.Instance.createMainPanel(el, id);\n      Document.Instance.autoExpandFirstNode();\n      return panel;\n    }\n  }]);\n\n  return Document;\n}();\n\n;\n\n\n/***/ }),\n\n/***/ 633:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return MenuConfig; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__ = __webpack_require__(640);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__);\n\n\n\n\nvar MenuConfig = function () {\n  function MenuConfig() {\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, MenuConfig);\n  }\n\n  __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default()(MenuConfig, null, [{\n    key: \"onSetMenu\",\n    value: function onSetMenu(el) {\n      var id = Ext.id();\n      DesktopApp.ActiveWindow = id;\n      var rootData = Ax.utils.LibVclSystemUtils.loadMenuData(true);\n      var modelName = 'LibMenuSettingModel';\n      var modelType = Ext.data.Model.schema.getEntity(modelName);\n      if (modelType === null) {\n        modelType = Ext.define(\"LibMenuSettingModel\", {\n          extend: \"Ext.data.Model\",\n          fields: [{ name: 'MENUITEM', type: 'string' }, { name: 'PROGID', type: 'string' }, { name: 'PROGNAME', type: 'string' }, { name: 'BILLTYPE', type: 'int' }, { name: 'ENTRYPARAM', type: 'string' }, { name: 'ISVISUAL', type: 'boolean' }, { name: 'CONDITION', type: 'string' }, { name: 'ENABLETREELISTING', type: 'boolean' }, { name: 'TREECOLUMNNAME', type: 'string' }]\n        });\n      }\n      var store = Ext.create('Ext.data.TreeStore', {\n        model: 'LibMenuSettingModel',\n        proxy: {\n          type: 'memory',\n          reader: {\n            type: 'json'\n          }\n        },\n        root: rootData || {\n          expanded: true,\n          children: [{\n            MENUITEM: '业务功能',\n            PROGID: '',\n            PROGNAME: '',\n            BILLTYPE: 1,\n            ENTRYPARAM: '',\n            CONDITION: '',\n            ISVISUAL: false,\n            leaf: false,\n            ENABLETREELISTING: false,\n            TREECOLUMNNAME: ''\n          }, {\n            MENUITEM: '报表管理',\n            PROGID: '',\n            PROGNAME: '',\n            BILLTYPE: 1,\n            ENTRYPARAM: '',\n            CONDITION: '',\n            ISVISUAL: false,\n            leaf: false,\n            ENABLETREELISTING: false,\n            TREECOLUMNNAME: ''\n          }, {\n            MENUITEM: 'KPI管理',\n            PROGID: '',\n            PROGNAME: '',\n            BILLTYPE: 1,\n            ENTRYPARAM: '',\n            CONDITION: '',\n            ISVISUAL: false,\n            leaf: false,\n            ENABLETREELISTING: false,\n            TREECOLUMNNAME: ''\n          }, {\n            MENUITEM: '看板管理',\n            PROGID: '',\n            PROGNAME: '',\n            BILLTYPE: 1,\n            ENTRYPARAM: '',\n            CONDITION: '',\n            ISVISUAL: false,\n            leaf: false,\n            ENABLETREELISTING: false,\n            TREECOLUMNNAME: ''\n          }, {\n            MENUITEM: '文档管理',\n            PROGID: '',\n            PROGNAME: '',\n            BILLTYPE: 1,\n            ENTRYPARAM: '',\n            CONDITION: '',\n            ISVISUAL: false,\n            leaf: false,\n            ENABLETREELISTING: false,\n            TREECOLUMNNAME: ''\n          }]\n        }\n      });\n\n      var fixNodes = ['业务功能', '报表管理', 'KPI管理', '看板管理', '文档管理'];\n      var treePanel = Ext.create('Ext.tree.Panel', {\n        width: 300,\n        flex: 0,\n        store: store,\n        displayField: 'MENUITEM',\n        rootVisible: false,\n        plugins: [Ext.create('Ext.grid.plugin.CellEditing', {\n          clicksToEdit: 1\n        })],\n        dockedItems: [{\n          xtype: 'toolbar',\n          items: [{\n            text: '保存',\n            handler: function handler() {\n              var root = store.getRootNode();\n              var save = function () {\n                Ext.Ajax.request({\n                  url: 'fileTranSvc/saveMenuSetting',\n                  jsonData: {\n                    handle: UserHandle, menuData: Ext.encode(root.serialize())\n                  },\n                  method: 'POST',\n                  success: function success(response) {\n                    Ext.Msg.alert(\"提示\", \"保存成功！\");\n                  },\n                  failure: function failure() {\n                    Ext.Msg.alert(\"错误\", \"保存失败！\");\n                  }\n                });\n              }();\n            }\n          }, {\n            text: '取消',\n            handler: function handler() {\n              var rootData = Ax.utils.LibVclSystemUtils.loadMenuData(true);\n              rootData.expanded = true;\n              store.setRoot(rootData);\n              var record = Ext.create('LibMenuSettingModel', {\n                MENUITEM: '',\n                PROGID: '',\n                PROGNAME: '',\n                BILLTYPE: 1,\n                ENTRYPARAM: '',\n                CONDITION: '',\n                ISVISUAL: false,\n                ENABLETREELISTING: false,\n                TREECOLUMNNAME: ''\n              });\n              formPanel.loadRecord(record);\n            }\n          }]\n        }],\n        viewConfig: {\n          plugins: {\n            ptype: 'treeviewdragdrop',\n            dragText: '{0} 选中节点',\n            allowContainerDrop: true,\n            allowParentInsert: true,\n            containerScroll: true,\n            sortOnDrop: true\n          }\n        },\n        listeners: {\n          'itemcontextmenu': function itemcontextmenu(view, record, item, index, e, eOpts) {\n            e.preventDefault();\n            var menu = new Ext.menu.Menu({\n              items: [{\n                text: \"新增节点\",\n                iconCls: 'gridAdd',\n                handler: function handler() {\n                  if (!Ext.Array.contains(fixNodes, record.get('MENUITEM'))) addNode(record, false);\n                }\n              }, {\n                text: \"新增子节点\",\n                iconCls: 'gridAdd',\n                handler: function handler() {\n                  addNode(record, true);\n                }\n              }, {\n                text: \"删除节点\",\n                iconCls: 'gridDelete',\n                handler: function handler() {\n                  if (!Ext.Array.contains(fixNodes, record.get('MENUITEM'))) record.remove();\n                }\n              }]\n            }).showAt(e.getXY());\n          },\n          'itemclick': function itemclick(view, record, item, index, e, eOpts) {\n            var selectedNode = treePanel.getSelectionModel().getLastSelected();\n            formPanel.loadRecord(selectedNode);\n            var progId = selectedNode.get('PROGID');\n            if (progId && progId != '') {\n              var field = formPanel.down('libSearchfield');\n              var fieldStore = field.getStore();\n              fieldStore.add({ Id: progId, Name: selectedNode.get('PROGNAME') });\n              field.select(progId);\n              field.fieldType = typeof progId === \"undefined\" ? \"undefined\" : __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(progId);\n            }\n          }\n        }\n      });\n      treePanel.expand();\n      var addNode = function addNode(currNode, nextLevel) {\n        var newNode = Ext.create('LibMenuSettingModel', {\n          MENUITEM: '',\n          PROGID: '',\n          PROGNAME: '',\n          BILLTYPE: 1,\n          ENTRYPARAM: '',\n          CONDITION: '',\n          ISVISUAL: false,\n          expanded: true,\n          id: Ax.utils.LibVclSystemUtils.newGuid()\n        });\n        if (nextLevel) {\n          currNode.appendChild(newNode);\n        } else {\n          currNode.parentNode.appendChild(newNode);\n        }\n        return newNode;\n      };\n      var clearParam = function clearParam(name) {\n        var dataRow = formPanel.getRecord();\n        if (dataRow) {\n          dataRow.set(name, '');\n          var selectedNode = treePanel.getSelectionModel().getLastSelected();\n          if (selectedNode) {\n            selectedNode.beginEdit();\n            try {\n              selectedNode.set(name, '');\n            } finally {\n              selectedNode.endEdit();\n            }\n          }\n          var ctrl = Ext.getCmp(name + '0_' + id);\n          ctrl.setValue('');\n        }\n      };\n      var formPanel = Ext.create('Ext.form.Panel', {\n        flex: 1,\n        tbar: [{\n          xtype: 'button',\n          text: '设置入口参数',\n          handler: function handler() {\n            var dataRow = formPanel.getRecord();\n            if (dataRow) {\n              var param = dataRow.get('ENTRYPARAM');\n              var progId = dataRow.get('PROGID');\n              if (progId) {\n                if (param.length > 0) param = Ext.decode(param).ParamStore;else param = undefined;\n                Ax.utils.LibEntryParam.createForm(proxyVcl, progId, param);\n              } else alert('请先选择功能。');\n            }\n          }\n        }, {\n          xtype: 'button',\n          text: '清除入口参数',\n          handler: function handler() {\n            clearParam('ENTRYPARAM');\n          }\n        }, {\n          xtype: 'button',\n          text: '设置条件',\n          handler: function handler() {\n            var dataRow = formPanel.getRecord();\n            if (dataRow) {\n              var execCondition = dataRow.get('CONDITION');\n              var execProgId = dataRow.get('PROGID');\n              if (execProgId) {\n                if (execCondition.length > 0) execCondition = Ext.decode(execCondition).QueryFields;else execCondition = undefined;\n                Ax.utils.LibQueryForm.createForm(proxyVcl, execProgId, execCondition);\n              } else alert('请先选择功能。');\n            }\n          }\n        }, {\n          xtype: 'button',\n          text: '清除条件',\n          handler: function handler() {\n            clearParam('CONDITION');\n          }\n        }],\n        border: false,\n        items: [{\n          xtype: 'container',\n          layout: { type: 'table', columns: 1 },\n          style: { marginTop: '6px', marginBottom: '6px' },\n          defaults: { labelAlign: 'right' },\n          defaultType: 'libTextField',\n          items: [{\n            xtype: 'libTextField',\n            height: 24,\n            width: 600,\n            colspan: 1,\n            fieldLabel: '清单名称',\n            name: 'MENUITEM',\n            tableIndex: 0\n          }, {\n            xtype: 'libSearchfield',\n            height: 24,\n            width: 600,\n            colspan: 2,\n            fieldLabel: '功能',\n            relSource: { 'axp.FuncList': '' },\n            relName: 'PROGNAME',\n            relPk: '',\n            selParams: [],\n            name: 'PROGID',\n            tableIndex: 0,\n            selectFields: 'A.PROGNAME,A.BILLTYPE',\n            condition: 'A.CANMENU=1'\n          }, {\n            xtype: 'libTextField',\n            height: 24,\n            width: 600,\n            colspan: 1,\n            readOnly: true,\n            fieldLabel: '(功能名称)',\n            name: 'PROGNAME',\n            tableIndex: 0\n          }, {\n            xtype: 'libComboboxField',\n            height: 24,\n            width: 600,\n            colspan: 1,\n            readOnly: true,\n            fieldLabel: '(功能类型)',\n            queryMode: 'local',\n            editable: false,\n            displayField: 'value',\n            valueField: 'key',\n            store: Ext.create('Ext.data.Store', {\n              fields: ['key', 'value'],\n              data: [{ 'key': 0, 'value': '主数据' }, { 'key': 1, 'value': '单据' }, { 'key': 2, 'value': '数据维护功能' }, { 'key': 3, 'value': '自定义功能' }, { 'key': 4, 'value': '报表' }, { 'key': 5, 'value': '日报表' }]\n            }), name: 'BILLTYPE', tableIndex: 0\n          }, {\n            xtype: 'libTextAreaField',\n            height: 100,\n            width: 600,\n            colspan: 1,\n            readOnly: true,\n            fieldLabel: '(入口参数)',\n            name: 'ENTRYPARAM',\n            tableIndex: 0\n          }, {\n            xtype: 'libCheckboxField',\n            fieldLabel: '是否看板',\n            name: 'ISVISUAL',\n            tableIndex: 0\n          }, {\n            xtype: 'libTextAreaField',\n            height: 200,\n            width: 600,\n            colspan: 1,\n            readOnly: true,\n            fieldLabel: '(条件)',\n            name: 'CONDITION',\n            tableIndex: 0\n          }]\n        }]\n      });\n      var record = Ext.create('LibMenuSettingModel', {\n        MENUITEM: '',\n        PROGID: '',\n        PROGNAME: '',\n        BILLTYPE: 1,\n        ENTRYPARAM: '',\n        CONDITION: '',\n        ISVISUAL: false\n      });\n      formPanel.loadRecord(record);\n\n      var splitter = Ext.create('Ext.resizer.Splitter', {\n        border: 5,\n        style: {\n          borderColor: '#eae4e4',\n          borderStyle: 'solid'\n        }\n      });\n\n      var proxyVcl = {\n        proxy: true,\n        vclHandler: function vclHandler(sender, e) {\n          switch (e.libEventType) {\n            case LibEventTypeEnum.Validating:\n              if (Ext.Array.contains(fixNodes, e.dataInfo.dataRow.get('MENUITEM'))) e.dataInfo.cancel = true;\n              break;\n            case LibEventTypeEnum.Validated:\n              if (e.dataInfo.fieldName == 'PROGID') {\n                var progName = e.dataInfo.dataRow.get('PROGNAME');\n                var ctrl = Ext.getCmp('PROGNAME0_' + id);\n                ctrl.setValue(progName);\n                ctrl = Ext.getCmp('MENUITEM0_' + id);\n                ctrl.setValue(progName);\n                ctrl = Ext.getCmp('ISVISUAL0_' + id);\n                ctrl.setValue(false);\n                ctrl = Ext.getCmp('CONDITION0_' + id);\n                ctrl.setValue('');\n                ctrl = Ext.getCmp('ENTRYPARAM0_' + id);\n                ctrl.setValue('');\n                var selectedNode = treePanel.getSelectionModel().getLastSelected();\n                if (selectedNode) {\n                  selectedNode.beginEdit();\n                  try {\n                    selectedNode.set('MENUITEM', progName);\n                    selectedNode.set('PROGID', e.dataInfo.value);\n                    selectedNode.set('PROGNAME', progName);\n                    selectedNode.set('BILLTYPE', e.dataInfo.dataRow.get('BILLTYPE'));\n                    selectedNode.set('ISVISUAL', false);\n                    selectedNode.set('CONDITION', '');\n                    selectedNode.set('ENTRYPARAM', '');\n                    selectedNode.set('leaf', e.dataInfo.value != '');\n                  } finally {\n                    selectedNode.endEdit();\n                  }\n                }\n              } else if (e.dataInfo.fieldName == 'MENUITEM' || e.dataInfo.fieldName == 'ISVISUAL') {\n                var _selectedNode = treePanel.getSelectionModel().getLastSelected();\n                if (_selectedNode) {\n                  _selectedNode.beginEdit();\n                  try {\n                    _selectedNode.set(e.dataInfo.fieldName, e.dataInfo.value);\n                  } finally {\n                    _selectedNode.endEdit();\n                  }\n                }\n              }\n              if (sender.xtype == 'libSearchfield') {\n                var dataInfo = e.dataInfo;\n                var tableIndex = dataInfo ? dataInfo.tableIndex : 0;\n                var fieldName = dataInfo ? dataInfo.fieldName : '';\n\n                var index = sender.store.find('Id', dataInfo.value);\n                if (index != -1) dataInfo.dataRow.set(sender.relName, sender.store.data.items[index].get('Name'));else dataInfo.dataRow.set(sender.relName, '');\n\n                var realRelSource;\n                if (sender.realRelSource) {\n                  realRelSource = sender.realRelSource;\n                } else {\n                  var obj = {};\n                  realRelSource = Ax.utils.LibSysUtils.getRelSource(sender, dataInfo, sender.xcontainer.vcl, obj);\n                  if (obj.hasRealRelSource) {\n                    sender.realRelSource = realRelSource;\n                  }\n                }\n                if (sender.win.vcl.proxy === true) {\n                  if (sender.selectFields) {\n                    var fn = function fn(realRelSource) {\n                      var condition = typeof this.condition == \"function\" ? this.condition() : this.condition ? 'and ' + this.condition : '';\n                      var returnValue;\n                      Ext.Ajax.request({\n                        url: '/billSvc/checkFieldValue',\n                        jsonData: {\n                          handle: UserHandle,\n                          fields: sender.selectFields,\n                          relSource: realRelSource,\n                          curPk: dataInfo.value,\n                          condition: condition,\n                          tableIndex: sender.tableIndex\n                        },\n                        method: 'POST',\n                        async: false,\n                        timeout: 90000000,\n                        success: function success(response) {\n                          var result = Ext.decode(response.responseText);\n                          if (result.CheckFieldValueResult !== \"{}\") {\n                            returnValue = Ext.decode(result.CheckFieldValueResult);\n                          } else {\n                            returnValue = null;\n                          }\n                        }\n                      });\n                      if (returnValue) {\n                        for (p in returnValue) {\n                          if (!returnValue.hasOwnProperty(p)) continue;\n                          var value = returnValue[p];\n                          if (value !== undefined && value !== null) {\n                            if (dataInfo.dataRow && dataInfo.dataRow.getField(p) != null) {\n                              dataInfo.dataRow.set(p, value);\n                              var ctrl = Ext.getCmp(p + e.dataInfo.tableIndex + '_' + sender.win.getId());\n                              if (ctrl) {\n                                if (ctrl.xtype == 'libSearchfield') {\n                                  ctrl.store.add({ Id: returnValue[ctrl.name], Name: returnValue[ctrl.relName] });\n                                  ctrl.select(returnValue[ctrl.name]);\n                                } else ctrl.setValue(value);\n                              }\n                            }\n                          }\n                        }\n                      } else {\n                        dataInfo.dataRow.set(sender.relName, '');\n                        dataInfo.dataRow.set('PROGID', '');\n                      }\n                    };\n                    fn.call(sender, realRelSource);\n                  }\n                } else {\n                  sender.win.vcl.doCheckField(dataInfo.tableIndex, dataInfo.fieldName, realRelSource, sender.relPk, dataInfo.value, dataInfo.dataRow, dataInfo.curGrid);\n                }\n                if (dataInfo.curForm) dataInfo.curForm.loadRecord(dataInfo.dataRow);\n              }\n              break;\n          }\n        },\n        formCallBackHandler: function formCallBackHandler(tag, param) {\n          if (tag == 'SYSTEM_QUERY') {\n            var value = Ext.encode({ QueryFields: param.condition });\n            setCondition('CONDITION', value);\n          } else if (tag == 'ENTRY_PARAM') {\n            var _value = Ext.encode(param.condition);\n            setCondition('ENTRYPARAM', _value);\n          }\n        }\n      };\n\n      var setCondition = function setCondition(name, value) {\n        var dataRow = formPanel.getRecord();\n        if (dataRow) {\n          dataRow.set(name, value);\n          var selectedNode = treePanel.getSelectionModel().getLastSelected();\n          if (selectedNode) {\n            selectedNode.beginEdit();\n            try {\n              selectedNode.set(name, value);\n            } finally {\n              selectedNode.endEdit();\n            }\n          }\n          var ctrl = Ext.getCmp(name + '0_' + id);\n          ctrl.setValue(value);\n        }\n      };\n\n      var panel = Ext.create('Ext.panel.Panel', {\n        containerpanel: true,\n        id: id,\n        isVcl: true,\n        title: '菜单设置',\n        autoScroll: true,\n        width: '100%',\n        height: '100%',\n        layout: { type: 'hbox', align: 'stretch' },\n        minimizable: false,\n        maximizable: false,\n        modal: true,\n        vcl: proxyVcl,\n        items: [treePanel, splitter, formPanel],\n        renderTo: el\n      });\n      return panel;\n    }\n  }]);\n\n  return MenuConfig;\n}();\n\n\n\n/***/ }),\n\n/***/ 634:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return MessageControl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(153);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_items_console_items__ = __webpack_require__(243);\n\n\n\n\n\n\nvar MessageControl = function () {\n  function MessageControl() {\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, MessageControl);\n  }\n\n  __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default()(MessageControl, null, [{\n    key: 'getControl',\n    value: function getControl() {\n      var panel = Ext.create('Container.MessageControl', {\n        height: '100%',\n        width: '100%'\n      });\n      return panel;\n    }\n  }]);\n\n  return MessageControl;\n}();\n\nMessageControl.id = __WEBPACK_IMPORTED_MODULE_3__components_items_console_items__[\"ConsoleItemKey\"].MESSAGES;\n\n\nExt.define('Container.MessageControl', {\n  extend: 'Ext.panel.Panel',\n  header: true,\n  title: '我的消息',\n  animCollapse: false,\n  constrainHeader: true,\n  closable: true,\n  layout: { type: 'vbox', align: 'stretch' },\n  requires: ['Ext.data.ArrayStore', 'Ext.util.Format', 'Ext.grid.Panel', 'Ext.grid.RowNumberer'],\n\n  init: function init() {\n    this.launcher = {\n      text: '我的消息',\n      iconCls: 'msgIco'\n    };\n  },\n  create: function create() {\n    var modelName = \"MyMessage\";\n    var modelType = Ext.data.Model.schema.getEntity(modelName);\n    if (modelType === null) {\n      modelType = Ext.define(modelName, {\n        extend: 'Ext.data.Model',\n        fields: [{ name: 'NewsId', type: 'string' }, { name: 'Title', type: 'string' }, { name: 'MainContent', type: 'string' }, { name: 'InfoId', type: 'string' }, { name: 'PersonName', type: 'string' }, { name: 'CreateDate', type: 'int' }, { name: 'CreateTime', type: 'int' }, { name: 'IsRead', type: 'bool' }, { name: 'ProgId', type: 'string' }, { name: 'DisplayText', type: 'string' }, { name: 'BillType', type: 'int' }, { name: 'CurPks', type: 'string' }, { name: 'EntryParam', type: 'string' }, { name: 'SourceSiteId', type: 'string' }, { name: 'SourceSiteName', type: 'string' }, { name: 'SourceSiteFullName', type: 'string' }, { name: 'SourceSiteUrl', type: 'string' }]\n      });\n    }\n    var data = [];\n    Ext.Ajax.request({\n      url: 'billSvc/getMyNews',\n      method: 'POST',\n      jsonData: {\n        handle: UserHandle, startTime: 0, onlyUnRead: true\n      },\n      async: false,\n      timeout: 90000000,\n      success: function success(response) {\n        var ret = Ext.decode(response.responseText);\n        data = ret.GetMyNewsResult;\n      }\n    });\n\n    var store = Ext.create('Ext.data.Store', {\n      model: modelType,\n      data: data,\n      sorters: [{ property: 'CreateDate', direction: 'DESC' }, { property: 'CreateTime', direction: 'DESC' }]\n    });\n\n    var isShowReaded = Ext.create('Ext.form.field.Checkbox', {\n      boxLabel: '显示已读信息',\n      labelAlign: 'right'\n    });\n\n    var grid = Ext.create('Ext.grid.Panel', {\n      store: store,\n      collapsible: false,\n      selType: 'checkboxmodel',\n      multiSelect: true,\n      plugins: [{\n        ptype: 'rowexpander',\n        rowBodyTpl: new Ext.XTemplate('<p>{MainContent}</p>')\n      }],\n      dockedItems: [{\n        dock: 'top',\n        xtype: 'toolbar',\n        items: [{\n          text: '标记为已读',\n          handler: function handler() {\n            var newsList = [];\n            var records = grid.getSelectionModel().getSelection();\n            for (var i = 0; i < records.length; i++) {\n              if (!records[i].get('IsRead')) {\n                records[i].set('IsRead', true);\n                newsList.push(records[i].get('NewsId'));\n              }\n            }\n            if (newsList.length > 0) {\n              Ext.Ajax.request({\n                url: 'billSvc/setMyNewsReadState',\n                method: 'POST',\n                jsonData: {\n                  handle: UserHandle, newsList: newsList\n                },\n                async: false,\n                timeout: 90000000,\n                success: function success(response) {\n                  var ret = Ext.decode(response.responseText);\n                  ret = ret.SetMyNewsReadStateResult;\n                  if (ret == null || ret == '') ret = '已标记成功。';\n                  Ext.Msg.alert('提示', ret);\n                }\n              });\n            }\n          }\n        }, isShowReaded, {\n          text: '刷新列表',\n          handler: function handler() {\n            Ext.Ajax.request({\n              url: 'billSvc/getMyNews',\n              method: 'POST',\n              jsonData: {\n                handle: UserHandle, startTime: 0, onlyUnRead: !isShowReaded.getValue()\n              },\n              async: false,\n              timeout: 90000000,\n              success: function success(response) {\n                var ret = Ext.decode(response.responseText);\n                data = ret.GetMyNewsResult;\n                grid.getStore().loadData(data);\n              }\n            });\n          }\n        }]\n      }],\n      columns: [{\n        text: '主题',\n        flex: 1,\n        dataIndex: 'Title',\n        summaryType: 'count',\n        summaryRenderer: function summaryRenderer(value, summaryData, dataIndex) {\n          return value === 0 || value > 1 ? '(' + value + ' 条)' : '(1 条)';\n        }\n      }, {\n        text: '信息',\n        xtype: 'actioncolumn',\n        width: 60,\n        items: [{\n          iconCls: 'icon-grid',\n          tooltip: '查看',\n          scope: this,\n          handler: function handler(grid, rowIndex, colIndex) {\n            var rec = grid.getStore().getAt(rowIndex);\n\n            function canUseFunc(progId) {\n              var canUse = false;\n              Ext.Ajax.request({\n                url: 'billSvc/canUseFunc',\n                method: 'POST',\n                jsonData: {\n                  handle: UserHandle, progId: progId\n                },\n                async: false,\n                timeout: 90000000,\n                success: function success(response) {\n                  var ret = Ext.decode(response.responseText);\n                  canUse = ret.CanUseFuncResult;\n                }\n              });\n              return canUse;\n            };\n            function getCurToken() {\n              var token = '';\n              Ext.Ajax.request({\n                url: 'sysSvc/getToken',\n                method: 'POST',\n                jsonData: {\n                  userHandle: UserHandle\n                },\n                async: false,\n                timeout: 90000000,\n                success: function success(response) {\n                  var ret = Ext.decode(response.responseText);\n                  token = ret.GetTokenResult;\n                }\n              });\n              return token;\n            };\n            if (canUseFunc(rec.get('ProgId'))) {\n              var infoId = rec.get('InfoId');\n              var billType = rec.get('BillType');\n              var sourceSiteId = rec.get('SourceSiteId');\n              var sourceSiteFullName = rec.get('SourceSiteFullName');\n              if (infoId != null && infoId != '') {\n                if (sourceSiteId != null && sourceSiteId != '') {\n                  var token = getCurToken();\n\n                  var curPks = Ext.decode(rec.get('CurPks'));\n                  var entryParam = null;\n                  if (curPks && curPks.length > 0) {\n                    entryParam = rec.get('EntryParam');\n                    if (entryParam != null && entryParam != '') entryParam = Ext.decode(entryParam);\n                  }\n                  var ssoOpenBill = {\n                    UserId: UserId,\n                    Token: token,\n                    BillType: billType,\n                    ProgId: rec.get('ProgId'),\n                    CurPks: curPks,\n                    EntryParam: entryParam,\n                    InfoId: infoId,\n                    DisplayText: rec.get('DisplayText')\n                  };\n                  var siteUrl = rec.get('SourceSiteUrl');\n                  var newPageUrl = siteUrl + '/#/ssobill?bill=' + encodeURIComponent(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(ssoOpenBill));\n                  window.open(newPageUrl, sourceSiteFullName);\n                } else {\n                  switch (billType) {\n                    case 0:\n                    case 1:\n                      var curPks = Ext.decode(rec.get('CurPks'));\n                      if (curPks && curPks.length > 0) {\n                        var entryParam = rec.get('EntryParam');\n                        if (entryParam != null && entryParam != '') entryParam = Ext.decode(entryParam);\n                        Ax.utils.BillManager.openBillByF4(rec.get('ProgId'), BillActionEnum.Browse, curPks, entryParam);\n                      }\n                      break;\n                    case 4:\n                      Ax.utils.BillManager.openRpt(rec.get('ProgId'), rec.get('DisplayText'), infoId);\n                      break;\n                    case 5:\n                      Ax.utils.BillManager.openRpt(rec.get('ProgId'), rec.get('DisplayText'), infoId);\n                      break;\n                  }\n                }\n              }\n            } else alert('没有该信息的查看权限。');\n          }\n        }]\n      }, {\n        text: '发送人员',\n        width: 80,\n        dataIndex: 'PersonName'\n      }, {\n        text: '来源站点',\n        width: 100,\n        dataIndex: 'SourceSiteName'\n      }, {\n        text: '日期',\n        width: 120,\n        dataIndex: 'CreateDate',\n        xtype: 'libDatecolumn',\n        axT: 1\n      }, {\n        text: '时间',\n        width: 75,\n        dataIndex: 'CreateTime',\n        xtype: 'libDatecolumn',\n        axT: 3\n      }, {\n        text: '已读',\n        width: 75,\n        dataIndex: 'IsRead',\n        xtype: 'libCheckcolumn'\n      }]\n    });\n    this.height = '100%';\n    this.items.add(grid);\n  }\n});\n\n/***/ }),\n\n/***/ 635:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return OaHomeControl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_items_console_items__ = __webpack_require__(243);\n\n\n\n\n\nvar OaHomeControl = function () {\n  function OaHomeControl() {\n    __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default()(this, OaHomeControl);\n  }\n\n  __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default()(OaHomeControl, null, [{\n    key: 'getControl',\n    value: function getControl() {\n      var panel = Ext.create('Container.OaHomeControl', {\n        height: '100%',\n        width: '100%'\n      });\n      return panel;\n    }\n  }]);\n\n  return OaHomeControl;\n}();\n\nOaHomeControl.id = __WEBPACK_IMPORTED_MODULE_2__components_items_console_items__[\"ConsoleItemKey\"].OA_HOME;\n\n\nExt.define('Container.OaHomeControl', {\n  extend: 'Ext.panel.Panel',\n  header: true,\n  title: '首页',\n  animCollapse: false,\n  constrainHeader: true,\n  closable: true,\n  layout: { type: 'hbox', align: 'stretch' },\n\n  init: function init() {},\n  create: function create() {\n    var noticeStore = Ext.create('Ext.data.Store', {\n      model: 'OAHome.OaNotice',\n      proxy: {\n        type: 'ajax',\n        url: '/Desk/GetNoticeList',\n        reader: new Ext.data.JsonReader({ model: 'OAHome.OaNotice' })\n      },\n      autoLoad: true\n    });\n\n    var advicesPanel = Ext.create('Ext.grid.Panel', {\n      title: '公告',\n      width: '100%',\n      flex: 3,\n      border: true,\n      style: {\n        background: 'white'\n      },\n      hideHeaders: true,\n      forceFit: true,\n      store: noticeStore,\n      columns: [{ header: \"内容\", width: 50, dataIndex: \"Content\", sortable: true, hidden: true }, { header: \"标题\", dataIndex: \"Title\", flex: 1, sortable: true }, { header: \"创建时间\", width: 100, dataIndex: \"CreateTime\", sortable: true }],\n      listeners: {\n        itemdblclick: function itemdblclick(dataview, record, item, index, e) {\n          ShowMessagePanel(\"公告\", record.get('Title'), record.get('CreateTime'), record.get('Content')).show();\n        }\n      }\n    });\n\n    var newsStore = Ext.create('Ext.data.Store', {\n      model: 'OAHome.OaNotice',\n      proxy: {\n        type: 'ajax',\n        url: '/Desk/GetNewsList',\n        reader: new Ext.data.JsonReader({ model: 'OAHome.OaNotice' })\n      },\n      autoLoad: true\n    });\n\n    var newsPanel = Ext.create('Ext.grid.Panel', {\n      title: '公司动态',\n      width: '100%',\n      flex: 3,\n      border: true,\n      style: {\n        background: 'white'\n      },\n      hideHeaders: true,\n      forceFit: true,\n      store: newsStore,\n      columns: [{ header: \"内容\", width: 50, dataIndex: \"Content\", sortable: true, hidden: true }, { header: \"标题\", dataIndex: \"Title\", flex: 1, sortable: true }, { header: \"创建时间\", width: 100, dataIndex: \"CreateTime\", sortable: true }],\n      listeners: {\n        itemdblclick: function itemdblclick(dataview, record, item, index, e) {\n          ShowMessagePanel(\"公司动态\", record.get('Title'), record.get('CreateTime'), record.get('Content')).show();\n        }\n      }\n    });\n\n    var linksStore = Ext.create('Ext.data.Store', {\n      model: 'OAHome.OaNotice',\n      proxy: {\n        type: 'ajax',\n        url: '/Desk/GetLinksList',\n        reader: new Ext.data.JsonReader({ model: 'OAHome.OaNotice' })\n      },\n      autoLoad: true\n    });\n\n    var linksPanel = Ext.create('Ext.grid.Panel', {\n      title: '友情链接',\n      width: '100%',\n      flex: 2,\n      style: {\n        background: 'white'\n      },\n      hideHeaders: true,\n      forceFit: true,\n      store: linksStore,\n      columns: [{ text: '左边链接', xtype: 'templatecolumn', tpl: '<a href=\"{Content}\" target=\"_blank\">{Title}</a>', flex: 1 }, { text: '右边链接', xtype: 'templatecolumn', tpl: '<a href=\"{Content2}\" target=\"_blank\">{Title2}</a>', flex: 1 }]\n    });\n\n    var knowledgePanel = Ext.create('Ext.panel.Panel', {\n      title: '知识管理',\n      width: '100%',\n      flex: 1,\n      border: true,\n      style: {\n        background: 'white'\n      },\n      html: '<div style=\"width:100%;height:100%;\"></div>'\n    });\n\n    $.ajax({\n      dataType: \"json\",\n      url: \"/Desk/GetKnowledgeList\",\n      type: \"POST\",\n      async: true,\n      data: {},\n      contentType: \"application/x-www-form-urlencoded\",\n      success: function success(list) {\n        var html = '&nbsp;';\n        if (list.length > 0) {\n          var model = list[0];\n          html = '<div style=\"width:100%;height:100%;margin-top:10px;\">' + '<table style=\"width:100%;height:75px;\">' + '<tbody><tr>' + '<td style=\"text-align:center;word-wrap:break-word;word-break:break-all;font-size:25px;font-weight:bold;line-height:28px;\">' + model.Title + '</td>' + '<td style=\"width:100px;text-align:center;color:grey;font-size:18px;\">' + model.CreateTime + '</td>' + '</tr></tbody>' + '</table>' + '<textarea readonly=\"readonly\" class=\"x-form-text x-form-text-default x-form-textarea\" autocomplete=\"off\" style=\"padding:0px 10px;height:calc(100% - 95px);\">' + model.Content + '</textarea></div>';\n        }\n        knowledgePanel.update(html);\n      }\n    });\n\n    var picturePanel = Ext.create('Ext.panel.Panel', {\n      title: '图片区域',\n      width: '100%',\n      height: 300,\n      flex: 0,\n      border: true,\n      style: {\n        background: 'white'\n      },\n      html: '<div id=\"changeIamges\" style=\"width:100%;height:100%;display:block;position:absolute;\">&nbsp;</div>'\n    });\n\n    $.ajax({\n      dataType: \"json\",\n      url: \"/Desk/GetImageList\",\n      type: \"POST\",\n      async: true,\n      data: {},\n      contentType: \"application/x-www-form-urlencoded\",\n      success: function success(list) {\n        var html = '';\n        if (list.length > 0) {\n          for (var i = 0; i < list.length; i++) {\n            if (i == 0) {\n              html = html + '<img name=\"smallPic\" style=\"max-width:100%;max-height:100%;display: block;margin:0 auto;\" src=\"' + list[i] + '\" />';\n            } else {\n              html = html + '<img name=\"smallPic\" style=\"max-width:100%;max-height:100%;display: none;margin:0 auto;\" src=\"' + list[i] + '\" />';\n            }\n          }\n          html == '' ? '&nbsp;' : html;\n          html = '<div id=\"changeIamges\" style=\"width:100%;height:100%;display:block;position:absolute;\">' + html + '</div>';\n          var index = 1;\n          setInterval(function () {\n            var i = index == 0 ? list.length - 1 : index - 1;\n            $(\"#changeIamges\").find(\"img\").eq(i).css(\"display\", \"none\");\n            $(\"#changeIamges\").find(\"img\").eq(index).css(\"display\", \"block\");\n            index++;\n            index = index == list.length ? 0 : index;\n          }, 2000);\n        }\n        picturePanel.update(html);\n      }\n    });\n    this.items.add(Ext.create('Ext.panel.Panel', {\n      flex: 2,\n      layout: 'vbox',\n      height: '100%',\n      items: [advicesPanel, newsPanel, linksPanel]\n    }));\n    this.items.add(Ext.create('Ext.panel.Panel', {\n      flex: 3,\n      layout: 'vbox',\n      height: '100%',\n      items: [picturePanel, knowledgePanel]\n    }));\n  }\n});\n\nExt.define('OAHome.OaNotice', {\n  extend: 'Ext.data.Model',\n  fields: [{ name: 'Title', type: 'string' }, { name: 'CreateTime', type: 'string' }, { name: 'Content', type: 'string' }, { name: 'Title2', type: 'string' }, { name: 'Content2', type: 'string' }]\n});\n\nfunction ShowMessagePanel(panelTitle, title, createTime, content) {\n  var messageWindow = Ext.create('Ext.window.Window', {\n    align: 'middle',\n    closable: true,\n    constrain: true,\n    width: '60%',\n    height: '80%',\n    plain: true,\n    resizable: false,\n    title: panelTitle,\n    titleAlign: 'center',\n    layout: 'fit',\n    items: [Ext.create('Ext.panel.Panel', {\n      border: true,\n      flex: 1,\n      style: {\n        background: 'white'\n      },\n      html: '<div style=\"width:100%;height:100%;margin-top:10px;\">' + '<table border=\"0\" style=\"width:100%;height:75px;\">' + '<tbody><tr>' + '<td style=\"text-align:center;word-wrap:break-word;word-break:break-all;font-size:25px;font-weight:bold;line-height:28px;\">' + title + '</td>' + '<td style=\"width:100px;text-align:center;color:grey;font-size:18px;\">' + createTime + '</td>' + '</tr></tbody>' + '</table>' + '<textarea readonly=\"readonly\" class=\"x-form-text x-form-text-default x-form-textarea\" autocomplete=\"off\" style=\"padding: 0px 10px;height: calc(100% - 95px);\">' + content + '</textarea></div>'\n    })]\n  });\n  return messageWindow;\n}\n\n/***/ }),\n\n/***/ 636:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Workbench; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__ = __webpack_require__(149);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__oa_home_control__ = __webpack_require__(635);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__message_control__ = __webpack_require__(634);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_items_console_items__ = __webpack_require__(243);\n\n\n\n\n\n\n\nvar controlItems = [__WEBPACK_IMPORTED_MODULE_4__message_control__[\"a\" /* MessageControl */], __WEBPACK_IMPORTED_MODULE_3__oa_home_control__[\"a\" /* OaHomeControl */]];\n\nvar Workbench = function () {\n  function Workbench() {\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, Workbench);\n  }\n\n  __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default()(Workbench, null, [{\n    key: 'getControl',\n    value: function getControl(el) {\n      var panel = Ext.create('Ext.tab.Panel', {\n        containerpanel: true,\n        renderTo: el,\n        height: '100%',\n        width: '100%',\n        itemClick: function itemClick(record) {\n          var me = this;\n          var tabId = record[\"PROGID\"];\n          var displayText = record[\"MENUITEM\"];\n          if (tabId === __WEBPACK_IMPORTED_MODULE_5__components_items_console_items__[\"ConsoleItemKey\"].SUPPLATFORM) {\n            var userId = Ext.util.Cookies.get('loginUserId');\n            var password = Ext.util.Cookies.get('loginPassword');\n            Ext.Ajax.request({\n              url: '/sysSvc/vendorLogin',\n              async: false,\n              method: 'POST',\n              jsonData: { userId: userId, password: password },\n              timeout: 60000,\n              success: function success(response) {\n                var ret = Ext.decode(response.responseText);\n                var params = Ext.encode(ret.VendorLoginResult);\n                if (true) {\n                  window.open(\"http://192.168.1.17:9996?params=\" + params);\n                }\n                console.log(params);\n              }\n            });\n          } else {\n            var tab = me.items.get(tabId);\n            if (tab) {\n              tab.show();\n            } else {\n              var tab = null;\n              var _iteratorNormalCompletion = true;\n              var _didIteratorError = false;\n              var _iteratorError = undefined;\n\n              try {\n                for (var _iterator = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(controlItems), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  var item = _step.value;\n\n                  if (item.id === tabId) {\n                    tab = item.getControl();\n                  }\n                }\n              } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                  }\n                } finally {\n                  if (_didIteratorError) {\n                    throw _iteratorError;\n                  }\n                }\n              }\n\n              if (tab) {\n                tab.title = displayText;\n                tab.id = tabId;\n                tab.create();\n                var addTab = function () {\n                  me.add(tab).show();\n                }();\n              }\n            }\n          }\n        }\n      });\n      return panel;\n    }\n  }]);\n\n  return Workbench;\n}();\n\n\n\n/***/ }),\n\n/***/ 637:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__);\n\n\n\nvar Toastr = function () {\n  function Toastr() {\n    __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default()(this, Toastr);\n  }\n\n  __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default()(Toastr, null, [{\n    key: \"toastrInit\",\n    value: function toastrInit() {\n      var messageOpts = {\n        \"closeButton\": true,\n        \"debug\": false,\n        \"positionClass\": \"toast-bottom-right\",\n        \"onclick\": null,\n        \"showDuration\": \"300\",\n        \"hideDuration\": \"1000\",\n        \"timeOut\": \"5000\",\n        \"extendedTimeOut\": \"1000\",\n        \"showEasing\": \"swing\",\n        \"hideEasing\": \"linear\",\n        \"showMethod\": \"fadeIn\",\n        \"hideMethod\": \"fadeOut\" };\n      toastr.options = messageOpts;\n    }\n  }]);\n\n  return Toastr;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Toastr);\n\n/***/ }),\n\n/***/ 638:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(641), __esModule: true };\n\n/***/ }),\n\n/***/ 639:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(642), __esModule: true };\n\n/***/ }),\n\n/***/ 640:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nvar _iterator = __webpack_require__(639);\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = __webpack_require__(638);\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};\n\n/***/ }),\n\n/***/ 641:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(647);\n__webpack_require__(159);\n__webpack_require__(648);\n__webpack_require__(649);\nmodule.exports = __webpack_require__(34).Symbol;\n\n\n/***/ }),\n\n/***/ 642:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(73);\n__webpack_require__(98);\nmodule.exports = __webpack_require__(608).f('iterator');\n\n\n/***/ }),\n\n/***/ 643:\n/***/ (function(module, exports, __webpack_require__) {\n\n// all enumerable object keys, includes symbols\nvar getKeys = __webpack_require__(245);\nvar gOPS = __webpack_require__(611);\nvar pIE = __webpack_require__(606);\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n\n\n/***/ }),\n\n/***/ 644:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar getKeys = __webpack_require__(245);\nvar toIObject = __webpack_require__(94);\nmodule.exports = function (object, el) {\n  var O = toIObject(object);\n  var keys = getKeys(O);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) if (O[key = keys[index++]] === el) return key;\n};\n\n\n/***/ }),\n\n/***/ 645:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar pIE = __webpack_require__(606);\nvar createDesc = __webpack_require__(95);\nvar toIObject = __webpack_require__(94);\nvar toPrimitive = __webpack_require__(247);\nvar has = __webpack_require__(66);\nvar IE8_DOM_DEFINE = __webpack_require__(252);\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = __webpack_require__(38) ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n\n\n/***/ }),\n\n/***/ 646:\n/***/ (function(module, exports, __webpack_require__) {\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = __webpack_require__(94);\nvar gOPN = __webpack_require__(610).f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n\n\n/***/ }),\n\n/***/ 647:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// ECMAScript 6 symbols shim\nvar global = __webpack_require__(39);\nvar has = __webpack_require__(66);\nvar DESCRIPTORS = __webpack_require__(38);\nvar $export = __webpack_require__(40);\nvar redefine = __webpack_require__(255);\nvar META = __webpack_require__(156).KEY;\nvar $fails = __webpack_require__(72);\nvar shared = __webpack_require__(158);\nvar setToStringTag = __webpack_require__(96);\nvar uid = __webpack_require__(97);\nvar wks = __webpack_require__(27);\nvar wksExt = __webpack_require__(608);\nvar wksDefine = __webpack_require__(607);\nvar keyOf = __webpack_require__(644);\nvar enumKeys = __webpack_require__(643);\nvar isArray = __webpack_require__(253);\nvar anObject = __webpack_require__(58);\nvar toIObject = __webpack_require__(94);\nvar toPrimitive = __webpack_require__(247);\nvar createDesc = __webpack_require__(95);\nvar _create = __webpack_require__(157);\nvar gOPNExt = __webpack_require__(646);\nvar $GOPD = __webpack_require__(645);\nvar $DP = __webpack_require__(35);\nvar $keys = __webpack_require__(245);\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function';\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  __webpack_require__(610).f = gOPNExt.f = $getOwnPropertyNames;\n  __webpack_require__(606).f = $propertyIsEnumerable;\n  __webpack_require__(611).f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !__webpack_require__(246)) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(key) {\n    if (isSymbol(key)) return keyOf(SymbolRegistry, key);\n    throw TypeError(key + ' is not a symbol!');\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    if (it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    replacer = args[1];\n    if (typeof replacer == 'function') $replacer = replacer;\n    if ($replacer || !isArray(replacer)) replacer = function (key, value) {\n      if ($replacer) value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || __webpack_require__(45)($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n\n\n/***/ }),\n\n/***/ 648:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(607)('asyncIterator');\n\n\n/***/ }),\n\n/***/ 649:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(607)('observable');\n\n\n/***/ }),\n\n/***/ 659:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(588)(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\\n.contrainer-hide[data-v-49f23532] {\\n  height: 0;\\n  width: 0;\\n}\\n.contrainer-show[data-v-49f23532] {\\n  height: 100%;\\n  width: 100%;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"D:/TEMP/Vue/ax-jikon-adminlte/src/components/content/layout.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,UAAU;EACV,SAAS;CACV;AACD;EACE,aAAa;EACb,YAAY;CACb\",\"file\":\"layout.vue\",\"sourcesContent\":[\"\\n.contrainer-hide[data-v-49f23532] {\\n  height: 0;\\n  width: 0;\\n}\\n.contrainer-show[data-v-49f23532] {\\n  height: 100%;\\n  width: 100%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 678:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(659);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(589)(\"91216904\", content, true);\n// Hot Module Replacement\nif(false) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/_css-loader@0.27.3@css-loader/index.js?sourceMap!../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/style-rewriter.js?{\\\"id\\\":\\\"data-v-49f23532\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/selector.js?type=styles&index=0!./layout.vue\", function() {\n     var newContent = require(\"!!../../../node_modules/_css-loader@0.27.3@css-loader/index.js?sourceMap!../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/style-rewriter.js?{\\\"id\\\":\\\"data-v-49f23532\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/selector.js?type=styles&index=0!./layout.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 701:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"content-section\"\n  }, [_vm._l((_vm.contrainers), function(container) {\n    return _c('section', {\n      directives: [{\n        name: \"show\",\n        rawName: \"v-show\",\n        value: (_vm.isExt),\n        expression: \"isExt\"\n      }],\n      ref: container,\n      refInFor: true\n    })\n  }), _vm._v(\" \"), _c('router-view', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.isExt),\n      expression: \"!isExt\"\n    }]\n  })], 2)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// Scripts/js/1.e0c0f8cfa14fe5dded5f.js","\n/* styles */\nrequire(\"!!../../../node_modules/_extract-text-webpack-plugin@2.1.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/style-rewriter?{\\\"id\\\":\\\"data-v-49f23532\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/selector?type=styles&index=0!./layout.vue\")\n\nvar Component = require(\"!../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/selector?type=script&index=0!./layout.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/template-compiler?{\\\"id\\\":\\\"data-v-49f23532\\\"}!../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/selector?type=template&index=0!./layout.vue\"),\n  /* scopeId */\n  \"data-v-49f23532\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/content/layout.vue\n// module id = 160\n// module chunks = 1","/**\r\n * Created by Administrator on 2017/6/22.\r\n */\r\nconst ConsoleItemKey = {\r\n  'OA_HOME': 'OA_HOME',\r\n  'MESSAGES': 'MESSAGES',\r\n  'SUPPLATFORM': 'SUPPLATFORM',\r\n  'PUBLISH': 'PUBLISH'\r\n}\r\nconst ConsoleItems = [\r\n  {\r\n    PROGID: ConsoleItemKey.OA_HOME,\r\n    MENUITEM: 'OA首页',\r\n    enabled: false,\r\n    index: 0\r\n  }, {\r\n    PROGID: ConsoleItemKey.MESSAGES,\r\n    MENUITEM: '我的消息',\r\n    enabled: true,\r\n    index: 1\r\n  }, {\r\n    PROGID: ConsoleItemKey.SUPPLATFORM,\r\n    MENUITEM: '供应商平台',\r\n    enabled: false,\r\n    index: 2\r\n  }, {\r\n    PROGID: ConsoleItemKey.PUBLISH,\r\n    MENUITEM: '新功能发布',\r\n    enabled: true,\r\n    index: 3\r\n  }\r\n]\r\nexport {ConsoleItems, ConsoleItemKey}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/items/console-items.js","/**\r\n * Created by Administrator on 2017/3/16.\r\n */\r\n/* 顶部菜单栏枚举类 */\r\nclass EnumNavHeader {\r\n  static workbench = 'workbench'\r\n  static business = 'business'\r\n  static report = 'report'\r\n  static kpi = 'kpi'\r\n  static board = 'board'\r\n  static document = 'document'\r\n  static menuConfig = 'menuConfig'\r\n  static cpsModel = 'cpsModel'\r\n}\r\nconst defaultHeaderItem = {\r\n  key: EnumNavHeader.workbench,\r\n  text: '工作台',\r\n  contrainer: 'workbench',\r\n  enabled: true\r\n}\r\nconst NavHeaderItems = [\r\n  defaultHeaderItem,\r\n  {\r\n    key: EnumNavHeader.business,\r\n    text: '业务功能',\r\n    contrainer: EnumNavHeader.business,\r\n    enabled: true\r\n  },\r\n  {\r\n    key: EnumNavHeader.report,\r\n    text: '报表管理',\r\n    contrainer: EnumNavHeader.business,\r\n    enabled: true\r\n  },\r\n  {\r\n    key: EnumNavHeader.kpi,\r\n    text: 'KPI管理',\r\n    contrainer: EnumNavHeader.business,\r\n    enabled: true\r\n  },\r\n  {\r\n    key: EnumNavHeader.board,\r\n    text: '看板管理',\r\n    contrainer: EnumNavHeader.business,\r\n    enabled: false\r\n  },\r\n  {\r\n    key: EnumNavHeader.document,\r\n    text: '文档管理',\r\n    contrainer: EnumNavHeader.document,\r\n    enabled: true\r\n  },\r\n  {\r\n    key: EnumNavHeader.cpsModel,\r\n    text: 'CPS建模',\r\n    contrainer: 'cpsModel',\r\n    enabled: true\r\n  },\r\n  {\r\n    key: EnumNavHeader.menuConfig,\r\n    text: '功能菜单',\r\n    contrainer: EnumNavHeader.menuConfig,\r\n    enabled: true\r\n  }\r\n]\r\n\r\nclass NavHeaderItemUtility {\r\n  /* 获取默认顶部菜单项 */\r\n  static getDefaultHeaderItem () {\r\n    return defaultHeaderItem\r\n  }\r\n\r\n  /* 获取顶部菜单栏容器数组 */\r\n  static getContrainers () {\r\n    return Array.from(new Set(NavHeaderItems.map((item) => {\r\n      return item.contrainer\r\n    })))\r\n  }\r\n}\r\nexport {EnumNavHeader, NavHeaderItems, NavHeaderItemUtility}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/items/nav-header-items.js","/**********************************************************************\r\n * CopyRight 2017 杭州集控科技有限公司 版权所有\r\n * 功能描述：CPS建模功能通用类模块\r\n * 创建标识：Huangwz 2017/05/02\r\n *\r\n * 修改标识：Huangwz 2017/05/02\r\n *\r\n ************************************************************************/\r\nimport {CpsPolylineAttr} from './CpsPolylineAttr'\r\nclass CpsCommonConst {\r\n  static mainPanelId = '#cpsMainPanel'      // 主体模块ID\r\n  static canvasId = '#cpsCanvas'            // 画板模块Dom的ID\r\n  static controlsId = '#controlModule'      // 组件模块Dom的ID\r\n  static cpsControlsId = '#cpsControls'     // CPS动态组件模块Dom的ID\r\n  static sysControlsId = '#sysControls'     // 系统组件模块Dom的ID\r\n  static drawSVGId = '#drawSVGView'         // 画板模块Dom的ID\r\n  static comTechRouteType = 'comTechRouteType_'           //标准工艺类别\r\n  static comMaterial = 'comMaterial_'                     //物料\r\n  static comWorkshopSection = 'comWorkshopSection_'       //工段\r\n  static comWorkProcess = 'comWorkProcess_'               //工序\r\n  static comWorkstationConfig = 'comWorkstationConfig_'   //站点配置\r\n  static comMaterialType = 'comMaterialType_'             //物料类别\r\n  static comTechRoute = 'comTechRoute_'                   //标准工艺路线\r\n  static comProduceLine = 'comProduceLine_'               //生产线\r\n  static comWorkstation = 'comWorkstation_'               //工作站点\r\n  static materialTypeSize = 50             //物料类别标准宽（横向布局）高（竖向布局）度\r\n  static materialSize = 50                 //物料标准宽（横向布局）高（竖向布局）度\r\n  static workstationConfigSize = 50        //站点配置标准宽（横向布局）高（竖向布局）度\r\n  static workProcessSize = 60              //工序标准宽（横向布局）高（竖向布局）度\r\n  static techRouteTypeSize = 50            //标准工艺类别标准宽（横向布局）高（竖向布局）度\r\n  static workshopSectionSize = 60          //工段标准宽（横向布局）高（竖向布局）度\r\n}\r\nclass CpsCommonVar {\r\n  static renderTo = null                 // CPS建模模块所要放置的元素\r\n  static controlLineModels = null        // 记录画板上所有组件配置的数据\r\n  static drawSvgWidth = 0                // 画板模块Dom的实际宽度\r\n  static drawSvgHeight = 0               // 画板模块Dom的实际高度\r\n\r\n  static attrFormPanels = null           // 包含组件属性模块和矢量线属性模块\r\n  static controlsAttrPanel = null        // 组件属性模块\r\n  static polylineAttrPanel = null        // 矢量线属性模块\r\n  static munePanel = null                // 右键菜单模块\r\n  static descToolTip = null              // 提示框模块\r\n  static masterVcl = null                // CPS产线配置视图面板\r\n\r\n  static useToolTip = false               // 是否使用描述框\r\n  static useVectorLine = false            // 是否使用画线功能\r\n  static redrawVectorLine = false         // 是否重新绘制矢量线\r\n  static vectorLineIndex = 1              // 拉伸所选择的矢量线移动端,0代表非箭头方向移动，1代表箭头方向移动\r\n  static positionRectPoints = null        // 组件圆点坐标集，存储圆点的坐标，半径，组件ID，位置类型【0是位于SVG的起结点，1-4（1-8）是位于组件上的起结点】\r\n  static redrawCpsControl = false         // 是否重新绘制CPS功能组件\r\n  static cpsControlPoint = null           // CPS功能组件的拉伸圆点的坐标\r\n\r\n  static selControlId = null              // 所点击选中的功能组件的组件ID\r\n  static selVectorLineId = null           // 所点击选中的矢量线的矢量ID\r\n  static selCpsControl = null            // 要复制的CPS功能组件\r\n  static selSvgPolyline = null           // 要复制的SVG矢量线\r\n  static isSelCpsControl = true          // 要复制的是不是CPS功能组件，true表示为CPS功能组件，false表示为VG矢量线\r\n}\r\nclass CpsCommonFunc {\r\n  /** 通过后端的方法GetProduceControlLineModel获取CPS产线模型数据列表，并将此数据列表返回回去\r\n   * produceControlLineId：CPS产线模型代码，为CPS产线模型中的唯一标识，默认为空\r\n   * callback：回调函数，可以将变量当做参数返回给另一个函数\r\n   * */\r\n  static getProduceControlLineList(produceControlLineId, callback) {\r\n    Ext.Ajax.request({\r\n      url: '/CpsModule/GetProduceControlLineModel',\r\n      jsonData: {produceControlLineId: produceControlLineId},\r\n      method: 'POST',\r\n      async: true,\r\n      timeout: 90000000,\r\n      success: function (response) {\r\n        var list = Ext.JSON.decode(response.responseText)\r\n        CpsCommonVar.controlLineModels = list\r\n        callback(list)\r\n      },\r\n      failure: function (response) {\r\n        Ext.Msg.alert('提示', '获取CPS产线模型数据出现异常')\r\n        callback(null)\r\n        $('#cpsLoading').css('display', 'none')\r\n      }\r\n    })\r\n  }\r\n\r\n  /** 通过后端的方法GetCurrentConfig获取CPS动态组件数据列表，并将此数据列表返回回去\r\n   * controlConfigId：CPS产线模型中所关联的CPS组件配置代码，默认为空\r\n   * factoryModuleType：工厂建模模型，用于获取CPS组件配置下此模型的最新数据\r\n   * callback：回调函数，可以将变量当做参数返回给另一个函数\r\n   * */\r\n  static getCpsControlConfigureList(controlConfigId, factoryModuleType, callback) {\r\n    Ext.Ajax.request({\r\n      url: '/CpsModule/GetCurrentConfig',\r\n      jsonData: {controlConfigId: controlConfigId, factoryModuleType: factoryModuleType},\r\n      method: 'POST',\r\n      async: true,\r\n      timeout: 90000000,\r\n      success: function (response) {\r\n        let list = Ext.JSON.decode(response.responseText)\r\n        CpsCommonVar.controlLineModels.ControlConfigId = list.ControlConfigId\r\n        CpsCommonVar.controlLineModels.FactoryModuleType = list.FactoryModuleType\r\n        callback(list)\r\n      },\r\n      failure: function (response) {\r\n        Ext.Msg.alert('提示', '获取当前CPS组件配置数据出现异常')\r\n        callback(null)\r\n        $('#cpsLoading').css('display', 'none')\r\n      }\r\n    })\r\n  }\r\n\r\n  /** 根据功能组件或矢量线得到其周围圆点或方点属性数据（坐标、大小、关联ID）\r\n   * element：所要操作的功能组件或矢量线元素\r\n   * elementType：所要操作的功能组件或矢量线元素的元素类型，以便获取不同类型的坐标属性\r\n   * */\r\n  static getElementPoints(element, elementType) {\r\n    // 定义一个数组变量pointsAttr用于存储此功能组件或矢量线周围的圆点或方点属性数据\r\n    let pointsAttr = []\r\n    // 当元素类型是矢量线时，计算得到矢量线两端的拉伸圆点的坐标属性\r\n    if (elementType === 'drawCircle') {\r\n      let lineId = element.attr('id')\r\n      // 获得矢量线的起始点在组件上的位置方点的所在位置类型【上右下左-1234】或默认未连接到组件的位置类型0\r\n      let controlStartType = parseInt(element.attr('data-starttype'))\r\n      // 获得矢量线的矢量坐标\r\n      let points = element.attr('points').split(' ')\r\n      let x1 = parseInt(points[0].split(',')[0])\r\n      let y1 = parseInt(points[0].split(',')[1])\r\n      let x2 = parseInt(points[points.length - 1].split(',')[0])\r\n      let y2 = parseInt(points[points.length - 1].split(',')[1])\r\n      // 根据矢量线的起始点所在位置类型，计算得出不同位置下矢量线的两端的拉伸圆点的坐标\r\n      if (controlStartType === 1) {\r\n        y1 = y1 - 5\r\n      } else if (controlStartType === 2) {\r\n        x1 = x1 + 5\r\n      } else if (controlStartType === 3) {\r\n        y1 = y1 + 5\r\n      } else if (controlStartType === 4) {\r\n        x1 = x1 - 5\r\n      }\r\n      // 为数组变量pointsAttr赋值\r\n      pointsAttr = [\r\n        {'x': x1, 'y': y1, 'lineId': lineId, 'index': 1},\r\n        {'x': x2, 'y': y2, 'lineId': lineId, 'index': 2}\r\n      ]\r\n    } else {\r\n      // 当元素类型是功能组件时,获得组件的组件ID、X坐标、Y坐标、宽度、高度值，计算得到功能组件周围的位置方点或拉伸方点的坐标属性\r\n      let controlId = element.attr('id')\r\n      let x = Math.round(element.css('left').replace('px', ''))\r\n      let y = Math.round(element.css('top').replace('px', ''))\r\n      let w = Math.round(element.css('width').replace('px', ''))\r\n      let h = Math.round(element.css('height').replace('px', ''))\r\n      // 计算得出功能组件周围的位置方点的坐标属性并给数组变量pointsAttr赋值\r\n      if (elementType === 'controlRect') {\r\n        pointsAttr = [\r\n          {'x': x + parseInt(w / 2) - 3, 'y': y - 3, 'controlId': controlId, 'width': 7, 'height': 7, 'index': 1},\r\n          {'x': x + w - 4, 'y': y + parseInt(h / 2) - 3, 'controlId': controlId, 'width': 7, 'height': 7, 'index': 2},\r\n          {'x': x + parseInt(w / 2) - 3, 'y': y + h - 4, 'controlId': controlId, 'width': 7, 'height': 7, 'index': 3},\r\n          {'x': x - 3, 'y': y + parseInt(h / 2) - 3, 'controlId': controlId, 'width': 7, 'height': 7, 'index': 4}\r\n        ]\r\n      }\r\n      // 计算得出功能组件周围的拉伸方点的坐标属性并给数组变量pointsAttr赋值\r\n      if (elementType === 'zoomCircle') {\r\n        pointsAttr = [\r\n          {'x': x + 2, 'y': y + 2, 'controlId': controlId, 'r': 5, 'index': 1},\r\n          {'x': x + parseInt(w / 2), 'y': y, 'controlId': controlId, 'r': 5, 'index': 2},\r\n          {'x': x + w - 2, 'y': y + 2, 'controlId': controlId, 'r': 5, 'index': 3},\r\n          {'x': x + w, 'y': y + parseInt(h / 2), 'controlId': controlId, 'r': 5, 'index': 4},\r\n          {'x': x + w - 2, 'y': y + h - 2, 'controlId': controlId, 'r': 5, 'index': 5},\r\n          {'x': x + parseInt(w / 2), 'y': y + h, 'controlId': controlId, 'r': 5, 'index': 6},\r\n          {'x': x + 2, 'y': y + h - 2, 'controlId': controlId, 'r': 5, 'index': 7},\r\n          {'x': x, 'y': y + parseInt(h / 2), 'controlId': controlId, 'r': 5, 'index': 8}\r\n        ]\r\n      }\r\n    }\r\n    return pointsAttr\r\n  }\r\n\r\n  /** 显示功能组件或矢量线的周围圆点或方点\r\n   * element：所要操作的功能组件或矢量线元素\r\n   * elementType：所要操作的功能组件或矢量线元素的元素类型\r\n   * */\r\n  static showElementPoints(element, elementType) {\r\n    let elementPoints = CpsCommonFunc.getElementPoints(element, elementType)\r\n    if (elementType === 'drawCircle') {\r\n      for (let i = 0; i < elementPoints.length; i++) {\r\n        $(CpsCommonConst.drawSVGId).find('circle[id=\\'' + elementType + i + '\\']').attr({\r\n          'cx': elementPoints[i].x,\r\n          'cy': elementPoints[i].y,\r\n          'data-lineid': elementPoints[i].lineId\r\n        })\r\n      }\r\n      $(CpsCommonConst.drawSVGId).find('circle[name=\\'' + elementType + '\\']').css('display', 'block')\r\n    } else {\r\n      if (elementType === 'zoomCircle') {\r\n        for (let i = 0; i < elementPoints.length; i++) {\r\n          $(CpsCommonConst.drawSVGId).find('circle[id=\\'' + elementType + i + '\\']').attr({\r\n            'cx': elementPoints[i].x,\r\n            'cy': elementPoints[i].y,\r\n            'data-controlid': elementPoints[i].controlId\r\n          })\r\n        }\r\n        $(CpsCommonConst.drawSVGId).find('circle[name=\\'' + elementType + '\\']').css('display', 'block')\r\n      }\r\n      if (elementType === 'controlRect') {\r\n        for (let i = 0; i < elementPoints.length; i++) {\r\n          $(CpsCommonConst.drawSVGId).find('rect[id=\\'' + elementType + i + '\\']').attr({\r\n            'x': elementPoints[i].x,\r\n            'y': elementPoints[i].y,\r\n            'data-controlid': elementPoints[i].controlId\r\n          })\r\n        }\r\n        CpsCommonVar.positionRectPoints = elementPoints\r\n      }\r\n      $(CpsCommonConst.drawSVGId).find('rect[name=\\'' + elementType + '\\']').css('display', 'block')\r\n    }\r\n  }\r\n\r\n  /** 根据矢量线起尾点所关联的组件的位置方点类型计算出此方点的实际吸附点的坐标并返回\r\n   * x：组件上某一位置方点的X坐标\r\n   * y：组件上某一位置方点的X坐标\r\n   * controlType：组件上某一位置方点的所在位置类型【上右下左-1234】\r\n   * isStartPoint:矢量线起点吸附或尾点吸附\r\n   * */\r\n  static getPolylineStartOrEndPoint(x, y, controlType, isStartPoint) {\r\n    if (isStartPoint) {\r\n      if (controlType === 1) {\r\n        x = x + 3\r\n        y = y + 8\r\n      } else if (controlType === 2) {\r\n        x = x - 1\r\n        y = y + 3\r\n      } else if (controlType === 3) {\r\n        x = x + 3\r\n        y = y - 1\r\n      } else if (controlType === 4) {\r\n        x = x + 8\r\n        y = y + 3\r\n      }\r\n    } else {\r\n      if (controlType === 1) {\r\n        x = x + 3\r\n        y = y + 4\r\n      } else if (controlType === 2) {\r\n        x = x + 4\r\n        y = y + 3\r\n      } else if (controlType === 3) {\r\n        x = x + 3\r\n        y = y + 4\r\n      } else if (controlType === 4) {\r\n        x = x + 4\r\n        y = y + 3\r\n      }\r\n    }\r\n    return x + ',' + y\r\n  }\r\n\r\n  /** 根据矢量线的起尾点的坐标以及起尾点的位置类型【关联组件的原点位置类型：上右下左-1234；不关联组件的原点位置类型：无-0】\r\n   * x1：矢量线的起点坐标的X坐标\r\n   * y1：矢量线的起点坐标的Y坐标\r\n   * x2：矢量线的尾点坐标的X坐标\r\n   * y2：矢量线的尾点坐标的Y坐标\r\n   * controlStartType：矢量线的起点的原点位置类型【无上右下左-01234】\r\n   * controlEndType：矢量线的起点的尾点位置类型【无上右下左-01234】\r\n   * */\r\n  static getPointsByStyle(x1, y1, x2, y2, controlStartType, controlEndType) {\r\n    // 定义一个坐标变量points用于存储矢量线的矢量坐标，默认为起尾点坐标的集合，为一条直线\r\n    let points = x1 + ',' + y1 + ' ' + x2 + ',' + y2\r\n    let type = controlStartType + '_' + controlEndType\r\n    // 当起尾点坐标的X坐标或Y坐标不等或XY坐标的值差大于4或起尾点的位置类型有关联时，矢量线的矢量坐标将会是一个曲折线\r\n    switch (type) {\r\n      case '0_0':           // 矢量线: 起点-->不关联 结点-->不关联\r\n        if (x1 !== x2 && y1 !== y2 && Math.abs(x2 - x1) > 4 && Math.abs(y2 - y1) > 4) {\r\n          points = x1 + ',' + y1 + ' ' + x1 + ',' + y2 + ' ' + x2 + ',' + y2\r\n        }\r\n        break\r\n      case '0_1':           // 矢量线: 起点-->不关联 结点-->关联 上线↑\r\n        if (x1 !== x2) {\r\n          if (y1 >= y2) {\r\n            points = x1 + ',' + y1 + ' ' + x1 + ',' + Math.abs(y2 - 10) + ' ' + x2 + ',' + Math.abs(y2 - 10) + ' ' + x2 + ',' + y2\r\n          } else {\r\n            points = x1 + ',' + y1 + ' ' + x2 + ',' + y1 + ' ' + x2 + ',' + y2\r\n          }\r\n        }\r\n        break\r\n      case '0_2':           // 矢量线: 起点-->不关联 结点-->关联 右线→\r\n        if (y1 !== y2) {\r\n          if (x1 > x2) {\r\n            points = x1 + ',' + y1 + ' ' + x1 + ',' + y2 + ' ' + x2 + ',' + y2\r\n          } else {\r\n            points = x1 + ',' + y1 + ' ' + Math.abs(x2 + 10) + ',' + y1 + ' ' + Math.abs(x2 + 10) + ',' + y2 + ' ' + x2 + ',' + y2\r\n          }\r\n        }\r\n        break\r\n      case '0_3':           // 矢量线: 起点-->不关联 结点-->关联 下线↓\r\n        if (x1 !== x2) {\r\n          if (y1 > y2) {\r\n            points = x1 + ',' + y1 + ' ' + x2 + ',' + y1 + ' ' + x2 + ',' + y2\r\n          } else {\r\n            points = x1 + ',' + y1 + ' ' + x1 + ',' + Math.abs(y2 + 10) + ' ' + x2 + ',' + Math.abs(y2 + 10) + ' ' + x2 + ',' + y2\r\n          }\r\n        }\r\n        break\r\n      case '0_4':           // 矢量线: 起点-->不关联 结点-->关联 左线←\r\n        if (y1 !== y2) {\r\n          if (x1 >= x2) {\r\n            points = x1 + ',' + y1 + ' ' + Math.abs(x2 - 10) + ',' + y1 + ' ' + Math.abs(x2 - 10) + ',' + y2 + ' ' + x2 + ',' + y2\r\n          } else {\r\n            points = x1 + ',' + y1 + ' ' + x1 + ',' + y2 + ' ' + x2 + ',' + y2\r\n          }\r\n        }\r\n        break\r\n      case '1_0':           // 矢量线: 起点-->关联 上线↑ 结点-->不关联\r\n        if (x1 !== x2) {\r\n          if (y1 > y2) {\r\n            points = x1 + ',' + y1 + ' ' + x1 + ',' + y2 + ' ' + x2 + ',' + y2\r\n          } else {\r\n            points = x1 + ',' + y1 + ' ' + x1 + ',' + Math.abs(y1 - 10) + ' ' + x2 + ',' + Math.abs(y1 - 10) + ' ' + x2 + ',' + y2\r\n          }\r\n        }\r\n        break\r\n      case '1_1':           // 矢量线: 起点-->关联 上线↑ 结点-->关联 上线↑\r\n        if (x1 !== x2) {\r\n          if (y1 > y2) {\r\n            points = x1 + ',' + y1 + ' ' + x1 + ',' + Math.abs(y2 - 10) + ' ' + x2 + ',' + Math.abs(y2 - 10) + ' ' + x2 + ',' + y2\r\n          } else {\r\n            points = x1 + ',' + y1 + ' ' + x1 + ',' + Math.abs(y1 - 10) + ' ' + x2 + ',' + Math.abs(y1 - 10) + ' ' + x2 + ',' + y2\r\n          }\r\n        }\r\n        break\r\n      case '1_2':           // 矢量线: 起点-->关联 上线↑ 结点-->关联 右线→\r\n        if (x1 > x2 && y1 > y2) {\r\n          points = x1 + ',' + y1 + ' ' + x1 + ',' + y2 + ' ' + x2 + ',' + y2\r\n        } else {\r\n          points = x1 + ',' + y1 + ' ' + x1 + ',' + Math.abs(y1 - 10) + ' ' + Math.abs(x2 + 10) + ',' + Math.abs(y1 - 10) + ' ' + Math.abs(x2 + 10) + ',' + y2 + ' ' + x2 + ',' + y2\r\n        }\r\n        break\r\n      case '1_3':           // 矢量线: 起点-->关联 上线↑ 结点-->关联 下线↓\r\n        if (y1 > y2) {\r\n          points = x1 + ',' + y1 + ' ' + x1 + ',' + Math.abs(y2 + 10) + ' ' + x2 + ',' + Math.abs(y2 + 10) + ' ' + x2 + ',' + y2\r\n        } else {\r\n          points = x1 + ',' + y1 + ' ' + x1 + ',' + Math.abs(y1 - 10) + ' ' + Math.floor(x1 + (x2 - x1) / 2) + ',' + Math.abs(y1 - 10) + ' ' + Math.floor(x1 + (x2 - x1) / 2) + ',' + Math.abs(y2 + 10) + ' ' + x2 + ',' + Math.abs(y2 + 10) + ' ' + x2 + ',' + y2\r\n        }\r\n        break\r\n      case '1_4':           // 矢量线: 起点-->关联 上线↑ 结点-->关联 左线←\r\n        if (x1 < x2 && y1 > y2) {\r\n          points = x1 + ',' + y1 + ' ' + x1 + ',' + y2 + ' ' + x2 + ',' + y2\r\n        } else {\r\n          points = x1 + ',' + y1 + ' ' + x1 + ',' + Math.abs(y1 - 10) + ' ' + Math.abs(x2 - 10) + ',' + Math.abs(y1 - 10) + ' ' + Math.abs(x2 - 10) + ',' + y2 + ' ' + x2 + ',' + y2\r\n        }\r\n        break\r\n      case '2_0':           // 矢量线: 起点-->关联 右线→ 结点-->不关联\r\n        if (y1 !== y2) {\r\n          if (x1 >= x2) {\r\n            points = x1 + ',' + y1 + ' ' + Math.abs(x1 + 10) + ',' + y1 + ' ' + Math.abs(x1 + 10) + ',' + y2 + ' ' + x2 + ',' + y2\r\n          } else {\r\n            points = x1 + ',' + y1 + ' ' + x2 + ',' + y1 + ' ' + x2 + ',' + y2\r\n          }\r\n        }\r\n        break\r\n      case '2_1':           // 矢量线: 起点-->关联 右线→ 结点-->关联 上线↑\r\n        if (y1 < y2 && x1 < x2) {\r\n          points = x1 + ',' + y1 + ' ' + x2 + ',' + y1 + ' ' + x2 + ',' + y2\r\n        } else {\r\n          points = x1 + ',' + y1 + ' ' + Math.abs(x1 + 10) + ',' + y1 + ' ' + Math.abs(x1 + 10) + ',' + Math.abs(y2 - 10) + ' ' + x2 + ',' + Math.abs(y2 - 10) + ' ' + x2 + ',' + y2\r\n        }\r\n        break\r\n      case '2_2':           // 矢量线: 起点-->关联 右线→ 结点-->关联 右线→\r\n        if (y1 !== y2) {\r\n          if (x1 >= x2) {\r\n            points = x1 + ',' + y1 + ' ' + Math.abs(x1 + 10) + ',' + y1 + ' ' + Math.abs(x1 + 10) + ',' + y2 + ' ' + x2 + ',' + y2\r\n          } else {\r\n            points = x1 + ',' + y1 + ' ' + Math.abs(x2 + 10) + ',' + y1 + ' ' + Math.abs(x2 + 10) + ',' + y2 + ' ' + x2 + ',' + y2\r\n          }\r\n        }\r\n        break\r\n      case '2_3':           // 矢量线: 起点-->关联 右线→ 结点-->关联 下线↓\r\n        if (x1 < x2 && y1 > y2) {\r\n          points = x1 + ',' + y1 + ' ' + x2 + ',' + y1 + ' ' + x2 + ',' + y2\r\n        } else {\r\n          points = x1 + ',' + y1 + ' ' + Math.abs(x1 + 10) + ',' + y1 + ' ' + Math.abs(x1 + 10) + ',' + Math.abs(y2 + 10) + ' ' + x2 + ',' + Math.abs(y2 + 10) + ' ' + x2 + ',' + y2\r\n        }\r\n        break\r\n      case '2_4':           // 矢量线: 起点-->关联 右线→ 结点-->关联 左线←\r\n        if (x1 >= x2) {\r\n          points = x1 + ',' + y1 + ' ' + Math.abs(x1 + 10) + ',' + y1 + ' ' + Math.abs(x1 + 10) + ',' + Math.floor(y1 + (y2 - y1) / 2) + ' ' + Math.abs(x2 - 10) + ',' + Math.floor(y1 + (y2 - y1) / 2) + ' ' + Math.abs(x2 - 10) + ',' + y2 + ' ' + x2 + ',' + y2\r\n        } else {\r\n          points = x1 + ',' + y1 + ' ' + Math.abs(x2 - 10) + ',' + y1 + ' ' + Math.abs(x2 - 10) + ',' + y2 + ' ' + x2 + ',' + y2\r\n        }\r\n        break\r\n      case '3_0':           // 矢量线: 起点-->关联 下线↓ 结点-->不关联\r\n        if (x1 !== x2) {\r\n          if (y1 >= y2) {\r\n            points = x1 + ',' + y1 + ' ' + x1 + ',' + Math.abs(y1 + 10) + ' ' + x2 + ',' + Math.abs(y1 + 10) + ' ' + x2 + ',' + y2\r\n          } else {\r\n            points = x1 + ',' + y1 + ' ' + x1 + ',' + y2 + ' ' + x2 + ',' + y2\r\n          }\r\n        }\r\n        break\r\n      case '3_1':           // 矢量线: 起点-->关联 下线↓ 结点-->关联 上线↑\r\n        if (y1 >= y2) {\r\n          points = x1 + ',' + y1 + ' ' + x1 + ',' + Math.abs(y1 + 10) + ' ' + Math.floor(x1 + (x2 - x1) / 2) + ',' + Math.abs(y1 + 10) + ' ' + Math.floor(x1 + (x2 - x1) / 2) + ',' + Math.abs(y2 - 10) + ' ' + x2 + ',' + Math.abs(y2 - 10) + ' ' + x2 + ',' + y2\r\n        } else {\r\n          points = x1 + ',' + y1 + ' ' + x1 + ',' + Math.abs(y2 - 10) + ' ' + x2 + ',' + Math.abs(y2 - 10) + ' ' + x2 + ',' + y2\r\n        }\r\n        break\r\n      case '3_2':           // 矢量线: 起点-->关联 下线↓ 结点-->关联 右线→\r\n        if (x1 > x2 && y1 < y2) {\r\n          points = x1 + ',' + y1 + ' ' + x1 + ',' + y2 + ' ' + x2 + ',' + y2\r\n        } else {\r\n          points = x1 + ',' + y1 + ' ' + x1 + ',' + Math.abs(y1 + 10) + ' ' + Math.abs(x2 + 10) + ',' + Math.abs(y1 + 10) + ' ' + Math.abs(x2 + 10) + ',' + y2 + ' ' + x2 + ',' + y2\r\n        }\r\n        break\r\n      case '3_3':           // 矢量线: 起点-->关联 下线↓ 结点-->关联 下线↓\r\n        if (x1 !== x2) {\r\n          if (y1 >= y2) {\r\n            points = x1 + ',' + y1 + ' ' + x1 + ',' + Math.abs(y1 + 10) + ' ' + x2 + ',' + Math.abs(y1 + 10) + ' ' + x2 + ',' + y2\r\n          } else {\r\n            points = x1 + ',' + y1 + ' ' + x1 + ',' + Math.abs(y2 + 10) + ' ' + x2 + ',' + Math.abs(y2 + 10) + ' ' + x2 + ',' + y2\r\n          }\r\n        }\r\n        break\r\n      case '3_4':           // 矢量线: 起点-->关联 下线↓ 结点-->关联 左线←\r\n        if (x1 < x2 && y1 < y2) {\r\n          points = x1 + ',' + y1 + ' ' + x1 + ',' + y2 + ' ' + x2 + ',' + y2\r\n        } else {\r\n          points = x1 + ',' + y1 + ' ' + x1 + ',' + Math.abs(y1 + 10) + ' ' + Math.abs(x2 - 10) + ',' + Math.abs(y1 + 10) + ' ' + Math.abs(x2 - 10) + ',' + y2 + ' ' + x2 + ',' + y2\r\n        }\r\n        break\r\n      case '4_0':           // 矢量线: 起点-->关联 左线← 结点-->不关联\r\n        if (y1 !== y2) {\r\n          if (x1 > x2) {\r\n            points = x1 + ',' + y1 + ' ' + x2 + ',' + y1 + ' ' + x2 + ',' + y2\r\n          } else {\r\n            points = x1 + ',' + y1 + ' ' + Math.abs(x1 - 10) + ',' + y1 + ' ' + Math.abs(x1 - 10) + ',' + y2 + ' ' + x2 + ',' + y2\r\n          }\r\n        }\r\n        break\r\n      case '4_1':           // 矢量线: 起点-->关联 左线← 结点-->关联 上线↑\r\n        if (x1 > x2 && y1 < y2) {\r\n          points = x1 + ',' + y1 + ' ' + x2 + ',' + y1 + ' ' + x2 + ',' + y2\r\n        } else {\r\n          points = x1 + ',' + y1 + ' ' + Math.abs(x1 - 10) + ',' + y1 + ' ' + Math.abs(x1 - 10) + ',' + Math.abs(y2 - 10) + ' ' + x2 + ',' + Math.abs(y2 - 10) + ' ' + x2 + ',' + y2\r\n        }\r\n        break\r\n      case '4_2':           // 矢量线: 起点-->关联 左线← 结点-->关联 右线→\r\n        if (x1 > x2) {\r\n          points = x1 + ',' + y1 + ' ' + Math.abs(x2 + 10) + ',' + y1 + ' ' + Math.abs(x2 + 10) + ',' + y2 + ' ' + x2 + ',' + y2\r\n        } else {\r\n          points = x1 + ',' + y1 + ' ' + Math.abs(x1 - 10) + ',' + y1 + ' ' + Math.abs(x1 - 10) + ',' + Math.floor(y1 + (y2 - y1) / 2) + ' ' + Math.abs(x2 + 10) + ',' + Math.floor(y1 + (y2 - y1) / 2) + ' ' + Math.abs(x2 + 10) + ',' + y2 + ' ' + x2 + ',' + y2\r\n        }\r\n        break\r\n      case '4_3':           // 矢量线: 起点-->关联 左线← 结点-->关联 下线↓\r\n        if (x1 > x2 && y1 > y2) {\r\n          points = x1 + ',' + y1 + ' ' + x2 + ',' + y1 + ' ' + x2 + ',' + y2\r\n        } else {\r\n          points = x1 + ',' + y1 + ' ' + Math.abs(x1 - 10) + ',' + y1 + ' ' + Math.abs(x1 - 10) + ',' + Math.abs(y2 + 10) + ' ' + x2 + ',' + Math.abs(y2 + 10) + ' ' + x2 + ',' + y2\r\n        }\r\n        break\r\n      case '4_4':           // 矢量线: 起点-->关联 左线← 结点-->关联 左线←\r\n        if (y1 !== y2) {\r\n          if (x1 > x2) {\r\n            points = x1 + ',' + y1 + ' ' + Math.abs(x2 - 10) + ',' + y1 + ' ' + Math.abs(x2 - 10) + ',' + y2 + ' ' + x2 + ',' + y2\r\n          } else {\r\n            points = x1 + ',' + y1 + ' ' + Math.abs(x1 - 10) + ',' + y1 + ' ' + Math.abs(x1 - 10) + ',' + y2 + ' ' + x2 + ',' + y2\r\n          }\r\n        }\r\n        break\r\n      default:\r\n        points = x1 + ',' + y1 + ' ' + x2 + ',' + y2\r\n        break\r\n    }\r\n    return points\r\n  }\r\n\r\n  /** 校验矢量线的连接CPS功能组件的规则【起始组件、结束组件不可不等单次特定指向】\r\n   * model：矢量线的数据模型\r\n   * */\r\n  static checkProduceLineModel(model) {\r\n    // 定义一个数组变量checkErrorStr用于保存校验错误信息，数组中对象元素kind为错误类型【0-提示,1-警告,2-错误,3-异常】，msg表示错误信息\r\n    let checkErrorStr = []\r\n    // 校验：矢量线的起始组件和结束组件的值不可为空且不可相同且有一定的单一指向性，否则提示错误信息\r\n    if (model.StartControlId && model.EndControlId && model.StartControlId !== model.EndControlId) {\r\n      if (CpsCommonVar.controlLineModels.FactoryModuleType === 1) {\r\n        let startProduceLine = model.StartControlId.indexOf(CpsCommonConst.comProduceLine)          // 生产线 -- 开始组件\r\n        let endProduceLine = model.EndControlId.indexOf(CpsCommonConst.comProduceLine)              // 生产线 -- 结束组件\r\n        let startWorkshopSection = model.StartControlId.indexOf(CpsCommonConst.comWorkshopSection)  // 工段 -- 开始组件\r\n        let endWorkshopSection = model.EndControlId.indexOf(CpsCommonConst.comWorkshopSection)      // 工段 -- 结束组件\r\n        let startWorkProcess = model.StartControlId.indexOf(CpsCommonConst.comWorkProcess)          // 工序 -- 开始组件\r\n        let endWorkProcess = model.EndControlId.indexOf(CpsCommonConst.comWorkProcess)              // 工序 -- 结束组件\r\n        let startWorkstation = model.StartControlId.indexOf(CpsCommonConst.comWorkstation)          // 工作站点 -- 开始组件\r\n        let endWorkstation = model.EndControlId.indexOf(CpsCommonConst.comWorkstation)              // 工作站点 -- 结束组件\r\n\r\n        if ((startProduceLine === 0 && endWorkshopSection !== 0) || (endWorkshopSection === 0 && startProduceLine !== 0)) {\r\n          checkErrorStr.push({kind: 1, msg: '只能由生产线组件指向工段组件，矢量线【' + model.LineId + '】已为您自动删除！'})\r\n        } else if ((startWorkshopSection === 0 && endWorkProcess !== 0) || (endWorkProcess === 0 && startWorkshopSection !== 0)) {\r\n          checkErrorStr.push({kind: 1, msg: '只能由工段组件指向工序组件，矢量线【' + model.LineId + '】已为您自动删除！'})\r\n        } else if ((startWorkProcess === 0 && endWorkstation !== 0) || (endWorkstation === 0 && startWorkProcess !== 0)) {\r\n          checkErrorStr.push({kind: 1, msg: '只能由工序组件指向工作站点组件，矢量线【' + model.LineId + '】已为您自动删除！'})\r\n        } else if (endProduceLine === 0 && startWorkstation === 0) {\r\n          checkErrorStr.push({kind: 1, msg: '工作站点组件不能指向生产线组件，矢量线【' + model.LineId + '】已为您自动删除！'})\r\n        } else {\r\n          let oneWayVectors = $(CpsCommonConst.drawSVGId).find('polyline[data-startid=\\'' + model.StartControlId + '\\'][data-endid=\\'' + model.EndControlId + '\\']')\r\n          let twoWayVectors = $(CpsCommonConst.drawSVGId).find('polyline[data-startid!=\\'' + model.StartControlId + '\\'][data-endid=\\'' + model.EndControlId + '\\']')\r\n          if (endWorkshopSection === 0 && (oneWayVectors.length > 1 || twoWayVectors.length > 0)) {\r\n            checkErrorStr.push({kind: 1, msg: '同一工段组件只能被一个生产线组件来指向，矢量线【' + model.LineId + '】已为您自动删除！'})\r\n          } else if (endWorkProcess === 0 && (oneWayVectors.length > 1 || twoWayVectors.length > 0)) {\r\n            checkErrorStr.push({kind: 1, msg: '同一工序组件只能被一个工段组件来指向，矢量线【' + model.LineId + '】已为您自动删除！'})\r\n          } else if (endWorkstation === 0 && (oneWayVectors.length > 1 || twoWayVectors.length > 0)) {\r\n            checkErrorStr.push({kind: 1, msg: '同一工作站点组件只能被指向一个工序组件来指向，矢量线【' + model.LineId + '】已为您自动删除！'})\r\n          }\r\n        }\r\n      }\r\n      if (CpsCommonVar.controlLineModels.FactoryModuleType === 2) {\r\n        let startTechRouteType = model.StartControlId.indexOf(CpsCommonConst.comTechRouteType)                  // 标准工艺类型 -- 开始组件\r\n        let endTechRouteType = model.EndControlId.indexOf(CpsCommonConst.comTechRouteType)                      // 标准工艺类型 -- 结束组件\r\n        let startTechRoute = model.StartControlId.indexOf(CpsCommonConst.comTechRoute)                          // 标准工艺路线 -- 开始组件\r\n        let endTechRoute = model.EndControlId.indexOf(CpsCommonConst.comTechRoute)                              // 标准工艺路线 -- 结束组件\r\n        let startWorkshopSection = model.StartControlId.indexOf(CpsCommonConst.comWorkshopSection)              // 工段 -- 开始组件\r\n        let endWorkshopSection = model.EndControlId.indexOf(CpsCommonConst.comWorkshopSection)                  // 工段 -- 结束组件\r\n        let startWorkProcess = model.StartControlId.indexOf(CpsCommonConst.comWorkProcess)                      // 工序 -- 开始组件\r\n        let endWorkProcess = model.EndControlId.indexOf(CpsCommonConst.comWorkProcess)                          // 工序 -- 结束组件\r\n        let startWorkstationConfig = model.StartControlId.indexOf(CpsCommonConst.comWorkstationConfig)          // 站点配置 -- 开始组件\r\n        let endWorkstationConfig = model.EndControlId.indexOf(CpsCommonConst.comWorkstationConfig)              // 站点配置 -- 结束组件\r\n        let startMaterialType = model.StartControlId.indexOf(CpsCommonConst.comMaterialType)                    // 物料类别 -- 开始组件\r\n        let endMaterialType = model.EndControlId.indexOf(CpsCommonConst.comMaterialType)                        // 物料类别 -- 结束组件\r\n        let startMaterial = model.StartControlId.indexOf(CpsCommonConst.comMaterial)                            // 物料 -- 开始组件\r\n\r\n        if (endTechRouteType === 0) {\r\n          checkErrorStr.push({kind: 1, msg: '只能由标准工艺类型组件指向标准工艺路线组件，矢量线【' + model.LineId + '】已为您自动删除！'})\r\n        } else if (endWorkstationConfig === 0) {\r\n          checkErrorStr.push({kind: 1, msg: '只能由站点配置组件指向工序组件，矢量线【' + model.LineId + '】已为您自动删除！'})\r\n        } else if (endTechRoute === 0 && (startMaterial !== 0 && startTechRouteType !== 0)) {\r\n          checkErrorStr.push({kind: 1, msg: '只能由标准工艺类型或物料组件指向标准工艺路线组件，矢量线【' + model.LineId + '】已为您自动删除！'})\r\n        } else if ((startTechRoute === 0 && endWorkshopSection !== 0) || (endWorkshopSection === 0 && startTechRoute !== 0)) {\r\n          checkErrorStr.push({kind: 1, msg: '只能由标准工艺路线组件指向工段组件，矢量线【' + model.LineId + '】已为您自动删除！'})\r\n        } else if ((endWorkProcess !== 0 && (startWorkshopSection === 0 || startWorkstationConfig === 0 || startMaterialType === 0 || startWorkProcess === 0)) ||\r\n          ((startWorkshopSection !== 0 && startWorkstationConfig !== 0 && startMaterialType !== 0 && startWorkProcess !== 0) && endWorkProcess === 0)) {\r\n          checkErrorStr.push({kind: 1, msg: '只能由工段或站点配置或物料类别或工序组件指向工序组件，矢量线【' + model.LineId + '】已为您自动删除！'})\r\n        } else if (startMaterial === 0 && (endMaterialType !== 0 && endTechRoute !== 0)) {\r\n          checkErrorStr.push({kind: 1, msg: '只能由物料组件指向物料类别或标准工艺路线组件，矢量线【' + model.LineId + '】已为您自动删除！'})\r\n        } else {\r\n          let oneWayVectors = $(CpsCommonConst.drawSVGId).find('polyline[data-startid=\\'' + model.StartControlId + '\\']')\r\n          if (startTechRouteType === 0 && oneWayVectors.length > 1) {\r\n            checkErrorStr.push({kind: 1, msg: '同一标准工艺类型组件只能指向一个标准工艺路线组件，矢量线【' + model.LineId + '】已为您自动删除！'})\r\n          } else if (startWorkProcess === 0 && oneWayVectors.length > 1) {\r\n            checkErrorStr.push({kind: 1, msg: '同一工序组件只能指向一个工序组件，矢量线【' + model.LineId + '】已为您自动删除！'})\r\n          } else if (startWorkstationConfig === 0 && oneWayVectors.length > 1) {\r\n            checkErrorStr.push({kind: 1, msg: '同一站点配置组件只能指向一个工序组件，矢量线【' + model.LineId + '】已为您自动删除！'})\r\n          } else {\r\n            let towWayVectors = $(CpsCommonConst.drawSVGId).find('polyline[data-startid=\\'' + model.StartControlId + '\\'][data-endid!=\\'' + model.EndControlId + '\\']')\r\n            if (startTechRoute === 0 && endWorkshopSection === 0 && towWayVectors.length > 1) {\r\n              checkErrorStr.push({kind: 1, msg: '同一工段只能被一个标准工艺路线组件组件所指向，矢量线【' + model.LineId + '】已为您自动删除！'})\r\n            } else if (startWorkstationConfig === 0 && endWorkProcess === 0 && towWayVectors.length > 1) {\r\n              checkErrorStr.push({kind: 1, msg: '同一工序只能被一个站点配置组件组件所指向，矢量线【' + model.LineId + '】已为您自动删除！'})\r\n            }\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      checkErrorStr.push({kind: 1, msg: '矢量线的起始组件、结束组件均不可为空且不可相同，矢量线【' + model.LineId + '】已为您自动删除！'})\r\n    }\r\n\r\n    return checkErrorStr\r\n  }\r\n\r\n  /** 校验产线模型配置中的组件配置和矢量线配置数据，去除无效数据并提示相关信息，返回是否需要保存\r\n   * 组件校验：关联主数据ID不可为空\r\n   * 矢量线校验：起始组件、结束组件不可不同不重复且具有一定指向性，只与当前组件配置明细中的组件相关联\r\n   * */\r\n  static checkProduceControlLineModels() {\r\n    // 定义一个数组变量checkErrorStr用于保存校验错误信息，数组中对象元素kind为错误类型【0-提示,1-警告,2-错误,3-异常】，msg表示错误信息\r\n    let checkErrorStr = []\r\n    // 校验：当前产线模型配置中的组件配置和矢量线配置需全部存在相关数据，则继续校验，否则提示错误\r\n    if (CpsCommonVar.controlLineModels.ControlDetail.length > 0 && CpsCommonVar.controlLineModels.VectorLineDetail.length > 0) {\r\n      // 定义一个数组变量controlArray用于存储所有有效的功能组件，重新赋值给当前产线模型配置中的组件配置数据\r\n      let controlArray = []\r\n      // 定义一个数组变量controlIds用于存储所有组件ID值，用于校验矢量线的起始组件和结束组件是否在这个数组中和是否重复\r\n      let controlIds = []\r\n      // 校验：当前产线模型配置中的组件配置明细中的组件的关联主数据ID不可为空，否则提示错误信息\r\n      for (let i = 0; i < CpsCommonVar.controlLineModels.ControlDetail.length; i++) {\r\n        let model = CpsCommonVar.controlLineModels.ControlDetail[i]\r\n        if ($.inArray(model.ControlId, controlIds) !== -1) {\r\n          $(CpsCommonConst.canvasId).find('div[id=\\'' + model.ControlId + '\\']').remove()\r\n          CpsPolylineAttr.deletePolylineByControlId(model.ControlId)\r\n          checkErrorStr.push({kind: 2, msg: '组件的ID已存在，组件【' + model.ControlName + '】已为您自动删除！'})\r\n        } else {\r\n          if (!model.RelId) {\r\n            checkErrorStr.push({kind: 1, msg: '组件【' + model.ControlName + '】的关联主数据ID不可为空'})\r\n          }\r\n          controlIds.push(model.ControlId)\r\n          controlArray.push(model)\r\n        }\r\n      }\r\n      CpsCommonVar.controlLineModels.ControlDetail = controlArray\r\n\r\n      // 定义一个数组变量polylineArray用于存储所有有效的矢量线，重新赋值给当前产线模型配置中的矢量线配置数据\r\n      let polylineArray = []\r\n      // 定义一个数组变量polylineIds用于存储所有矢量线ID值，用于校验矢量线的矢量线ID是否重复\r\n      let polylineIds = []\r\n      // 校验：当前产线模型配置中的矢量线配置明细中的矢量线的各种数据校验，否则提示错误信息\r\n      for (let i = 0; i < CpsCommonVar.controlLineModels.VectorLineDetail.length; i++) {\r\n        let model = CpsCommonVar.controlLineModels.VectorLineDetail[i]\r\n        let errorArr = CpsCommonFunc.checkProduceLineModel(model)\r\n        if (errorArr.length > 0) {\r\n          $(CpsCommonConst.drawSVGId).find('polyline[id=\\'' + model.LineId + '\\']').remove()\r\n          checkErrorStr = checkErrorStr.concat(errorArr)\r\n        } else {\r\n          // 校验：矢量线的起始组件和结束组件的值需跟画板上的CPS功能组件相关联且不允许完全重复，否则提示错误信息\r\n          if ($.inArray(model.StartControlId, controlIds) === -1 || $.inArray(model.EndControlId, controlIds) === -1) {\r\n            $(CpsCommonConst.drawSVGId).find('polyline[id=\\'' + model.LineId + '\\']').remove()\r\n            checkErrorStr.push({kind: 1, msg: '矢量线的起始组件、结束组件需跟画板中的组件关联的规则，矢量线【' + model.LineId + '】已为您自动删除！'})\r\n          } else if ($.inArray(model.LineId, polylineIds) !== -1) {\r\n            $(CpsCommonConst.drawSVGId).find('polyline[id=\\'' + model.LineId + '\\']').remove()\r\n            checkErrorStr.push({kind: 1, msg: '矢量线的ID已存在，矢量线【' + model.LineId + '】已为您自动删除！'})\r\n          } else {\r\n            polylineIds.push(model.LineId)\r\n            polylineArray.push(model)\r\n          }\r\n        }\r\n      }\r\n      CpsCommonVar.controlLineModels.VectorLineDetail = polylineArray\r\n\r\n      $(CpsCommonConst.drawSVGId).find('circle[name=\\'drawCircle\\']').css({'display': 'none'})\r\n      CpsCommonVar.polylineAttrPanel.getForm().reset()               // 重置属性面板上的数据\r\n    } else {\r\n      checkErrorStr.push({kind: 2, msg: '画板中须存在组件以及其矢量线，否则无法继续操作！'})\r\n    }\r\n    return checkErrorStr\r\n  }\r\n\r\n  /** 保存当前CPS产线模型上的组件配置数据和矢量线配置数据\r\n   * 将返回的结果中的错误信息显示出来或保存当前产线模型数据并刷新视图\r\n   * */\r\n  static saveProduceControlLineModels() {\r\n    Ext.Ajax.request({\r\n      url: '/CpsModule/SaveProduceControlLine',\r\n      jsonData: {info: CpsCommonVar.controlLineModels},\r\n      method: 'POST',\r\n      async: false,\r\n      timeout: 90000000,\r\n      success: function (response) {\r\n        //  方法SaveProduceControlLine执行正常，将json字符串转换json对象\r\n        let result = Ext.decode(response.responseText)\r\n        // 后端校验失败, 显示出错误信息\r\n        if (result.Messages.length > 0) {\r\n          let errMsg = []\r\n          for (let i = 0; i < result.Messages.length; i++) {\r\n            errMsg.push({kind: result.Messages[i].MessageKind, msg: result.Messages[i].Message})\r\n          }\r\n          Ax.utils.LibMsg.show(errMsg)\r\n        } else {\r\n          CpsCommonFunc.removeControlSelStyle()\r\n          // 重置矢量线属性面板上的数据\r\n          CpsCommonVar.polylineAttrPanel.getForm().reset()\r\n          CpsCommonVar.controlLineModels = result.Result\r\n          // 刷新当前产线模型视图\r\n          if (CpsCommonVar.masterVcl) {\r\n            let data = CpsCommonVar.masterVcl.invorkBcf('BrowseTo', [CpsCommonVar.masterVcl.currentPk])\r\n            CpsCommonVar.masterVcl.setDataSet(data, false)\r\n            let masterRow = CpsCommonVar.masterVcl.dataSet.getTable(0).data.items[0]\r\n            for (let i = 0; i < CpsCommonVar.masterVcl.forms.length; i++) {\r\n              CpsCommonVar.masterVcl.forms[i].loadRecord(masterRow)\r\n            }\r\n          }\r\n          Ext.Msg.alert('提示', 'CPS产线建模成功')\r\n        }\r\n      },\r\n      failure: function (response) {\r\n        //  方法SaveProduceControlLine执行异常，将json字符串转换json对象，显示出异常信息\r\n        let result = '保存当前CPS建模数据失败。异常原因为：' + Ext.decode(response.responseText)\r\n        Ext.Msg.alert('提示', response.responseText)\r\n      }\r\n    })\r\n  }\r\n\r\n  /** 去除组件选中样式\r\n   * */\r\n  static removeControlSelStyle() {\r\n    // 去除组件选中样式，重新CPS组件属性from，保存数据\r\n    $(CpsCommonConst.canvasId).find('div.cps-controls-region').css({\r\n      'background-color': '#eceff4',\r\n      'border': '1px solid #bbcfde'\r\n    })\r\n    // 重置CPS功能组件属性面板上的数据\r\n    CpsCommonVar.controlsAttrPanel.getForm().reset()\r\n  }\r\n\r\n  /** 获得长度为len的随机数字符串\r\n   * len：随机字符串的长度,规则是：ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678  并默认去掉了容易混淆的字符oOLl,9gq,Vv,Uu,I1\r\n   * */\r\n  static randomString(len) {\r\n    len = len || 32\r\n    let $chars = 'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678'\r\n    /** **默认去掉了容易混淆的字符oOLl,9gq,Vv,Uu,I1****/\r\n    let maxPos = $chars.length\r\n    let pwd = ''\r\n    for (let i = 0; i < len; i++) {\r\n      pwd += $chars.charAt(Math.floor(Math.random() * maxPos))\r\n    }\r\n    return pwd\r\n  }\r\n\r\n  /** 根据功能标识progId来判断此功能是否拥有使用权限\r\n   * progId：功能标识，在功能数据中具有唯一性\r\n   * */\r\n  static canUseFunc(progId) {\r\n    // 定义一个变量canUse，用于表示当前功能是否拥有使用权限，默认false\r\n    let canUse = false\r\n    // 同步执行后端方法canUseFunc，根据当前用户对象UserHandle和功能标识progId确认当前功能的使用权限\r\n    Ext.Ajax.request({\r\n      url: '/billSvc/canUseFunc',\r\n      method: 'POST',\r\n      jsonData: {\r\n        handle: UserHandle, progId: progId\r\n      },\r\n      async: false,\r\n      timeout: 90000000,\r\n      success: function (response) {\r\n        // 将返回的json字符串转换成Json格式对象，并为使用当前功能权限赋值\r\n        let ret = Ext.decode(response.responseText)\r\n        canUse = ret.CanUseFuncResult\r\n      },\r\n      failure: function (response) {\r\n        Ext.Msg.alert('提示', '当前功能不具有使用权限')\r\n        canUse = false\r\n      }\r\n    })\r\n    return canUse\r\n  }\r\n\r\n  /** 定义查询下拉框的模型\r\n   * */\r\n  static getFilterCob() {\r\n    // 查询数据model\r\n    let filterStore = Ext.create('Ext.data.Store', {\r\n      fields: ['key', 'value'],\r\n      data: [{key: 'all', value: '无'}],\r\n      proxy: {\r\n        type: 'memory',\r\n        reader: {\r\n          type: 'json'\r\n        }\r\n      }\r\n    })\r\n    // 下拉数据model\r\n    let filterCbo = Ext.create('Ext.form.field.ComboBox', {\r\n      fieldLabel: '字段',\r\n      labelAlign: 'right',\r\n      labelWidth: 60,\r\n      margin: '0 2 2 2',\r\n      flex: 1,\r\n      queryMode: 'local',\r\n      displayField: 'value',\r\n      valueField: 'key',\r\n      store: filterStore,\r\n      editable: false,\r\n      value: 'all'\r\n    })\r\n    return filterCbo\r\n  }\r\n\r\n  /** 定义比较下拉框的模型\r\n   * */\r\n  static getCompareCbo() {\r\n    // 比较数据model\r\n    let compareStore = Ext.create('Ext.data.Store', {\r\n      fields: ['key', 'value'],\r\n      data: [{key: 0, value: '包含'},\r\n        {key: 1, value: '等于'},\r\n        {key: 2, value: '大于等于'},\r\n        {key: 3, value: '小于等于'},\r\n        {key: 4, value: '大于'},\r\n        {key: 5, value: '小于'}]\r\n    })\r\n    // 下拉比较数据model\r\n    let compareCbo = Ext.create('Ext.form.field.ComboBox', {\r\n      labelWidth: 60,\r\n      labelAlign: 'right',\r\n      margin: '0 2 2 2',\r\n      fieldLabel: '比较符',\r\n      flex: 1,\r\n      displayField: 'value',\r\n      queryMode: 'local',\r\n      valueField: 'key',\r\n      store: compareStore,\r\n      editable: false,\r\n      value: 0\r\n    })\r\n    return compareCbo\r\n  }\r\n\r\n  /** 定义文本的模型\r\n   * */\r\n  static getCompareTxt() {\r\n    let compareTxt = Ext.create('Ext.form.field.Text', {\r\n      labelWidth: 60,\r\n      labelAlign: 'right',\r\n      margin: '0 2 2 2',\r\n      flex: 2\r\n    })\r\n    return compareTxt\r\n  }\r\n\r\n  /** 定义日期下拉框的模型\r\n   * */\r\n  static getDateCbo() {\r\n    // 日期数据model\r\n    let dateStore = Ext.create('Ext.data.Store', {\r\n      fields: ['key', 'value'],\r\n      data: [{key: 0, value: '无'},\r\n        {key: 1, value: '近一周'},\r\n        {key: 2, value: '近一月'},\r\n        {key: 3, value: '近三月'}]\r\n    })\r\n    // 下拉日期数据model\r\n    let dateCbo = Ext.create('Ext.form.field.ComboBox', {\r\n      labelWidth: 60,\r\n      labelAlign: 'right',\r\n      margin: '0 2 2 2',\r\n      fieldLabel: '时间',\r\n      flex: 1,\r\n      displayField: 'value',\r\n      queryMode: 'local',\r\n      valueField: 'key',\r\n      store: dateStore,\r\n      editable: false,\r\n      value: 0\r\n    })\r\n    return dateCbo\r\n  }\r\n}\r\nexport {CpsCommonFunc, CpsCommonVar, CpsCommonConst}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/cps/CpsCommon.js","/**********************************************************************\r\n * CopyRight 2017 杭州集控科技有限公司 版权所有\r\n * 功能描述：CPS主模块的窗口，包含CPS组件模块，系统组件模块，画板模块\r\n * 创建标识：Huangwz 2017/04/28\r\n *\r\n * 修改标识：Huangwz 2017/04/28\r\n *\r\n ************************************************************************/\r\nimport {CpsCommonFunc, CpsCommonVar, CpsCommonConst} from './CpsCommon'\r\nimport {CpsEventPanel} from './CpsEventPanel'\r\nimport {CpsSystemControls} from './CpsSystemControls'\r\nimport {CpsControlsAttr} from './CpsControlsAttr'\r\nimport {CpsPolylineAttr} from './CpsPolylineAttr'\r\nclass CpsMainPanel {\r\n  // 当前可视画板的最小宽度\r\n  static minWidth = 0\r\n  // 当前可视画板的最小高度\r\n  static minHeight = 0\r\n  // CPS建模的模式选择\r\n  static factoryModuleTypeWin = null\r\n  // 标准工艺路线上所有关联组件的属性数据集合\r\n  static controlAttrArr = []\r\n\r\n  /** 创建主体模块：组件模块以及画板模块\r\n   * 通过getControlConfigureVue方法获得组件模块Vue，包含CPS组件模块、系统模块\r\n   * */\r\n  static createMainPanel() {\r\n    let mainPanelDomId = CpsCommonConst.mainPanelId.replace('#', '')\r\n    let controlsDomId = CpsCommonConst.controlsId.replace('#', '')\r\n    let canvasDomId = CpsCommonConst.canvasId.replace('#', '')\r\n    let html = '<div class=\"cps-controls-layout\" id=\"' + mainPanelDomId + '\" style=\"width:100%;height:100%;\">'\r\n    html = html + '<aside class=\"cps-controls-layout-aside\" id=\"' + controlsDomId + '\">' + CpsMainPanel.getControlConfigureVue() + '</aside>'\r\n    html = html + '<div class=\"cps-controls-layout-main\" id=\"' + canvasDomId + '\" tabindex=\"0\" style=\"position:relative;overflow:overlay;\">'\r\n    html = html + '</div>'\r\n    html = html + '<div id=\"cpsLoading\" class=\"cps-loading\"><i class=\"fa fa-refresh fa-spin\"></i></div>'\r\n    html = html + '</div>'\r\n    let mainPanel = Ext.create('Ext.panel.Panel', {\r\n      border: false,\r\n      height: '100%',\r\n      flex: 1,\r\n      html: html\r\n    })\r\n    return mainPanel\r\n  }\r\n\r\n  /** 获得控件组模块Vue\r\n   * 通过getSystemControlVue方法加载默认的系统模块Vue\r\n   * */\r\n  static getControlConfigureVue() {\r\n    let cpsControlsDomId = CpsCommonConst.cpsControlsId.replace('#', '')\r\n    let sysControlsDomId = CpsCommonConst.sysControlsId.replace('#', '')\r\n    let height = parseInt($('.content-section').css('height').replace('px', '')) - 35 * 2 - 130 - 50 - 10\r\n    let html = '<ul class=\"cps-controls-sidebar\" style=\"width:100%;height:100%;\">'\r\n    html = html + '<li>'\r\n    html = html + '<div class=\"cps-controls-title\" name=\"cpsControlTitle\">'\r\n    html = html + '<span>CPS组件</span>'\r\n    html = html + '<img src=\"/Scripts/img/cps/less_than.png\" class=\"cps-controls-openimg cps-controls-angle\" name=\"cpsImage\"></span>'\r\n    html = html + '</div>'\r\n    html = html + '<div class=\"cps-controls-table\" id=\"' + cpsControlsDomId + '\" name=\"cpsControls\" style=\"display:block;max-height:' + height + 'px;overflow-y:auto;\">'\r\n    html = html + '</div>'\r\n    html = html + '</li>'\r\n    html = html + '<li style=\"margin-top:5px;\">'\r\n    html = html + '<div class=\"cps-controls-title\" name=\"cpsControlTitle\">'\r\n    html = html + '<span>系统组件</span>'\r\n    html = html + '<img src=\"/Scripts/img/cps/less_than.png\" class=\"cps-controls-openimg cps-controls-angle\" name=\"cpsImage\"></span>'\r\n    html = html + '</div>'\r\n    html = html + '<div class=\"cps-controls-table\" id=\"' + sysControlsDomId + '\" name=\"cpsControls\" style=\"display:block;height: 130px;\">'\r\n    html = html + '</div>'\r\n    html = html + '</li>'\r\n    html = html + '</ul>'\r\n    return html\r\n  }\r\n\r\n  /** 获取SVG模板默认Vue\r\n   * 定义了            矢量线的箭头   矢量线的拉伸圆点   功能组件的连接圆点    功能组件的缩放原点\r\n   * 以ID或name值判定  markerArrow       drawCircle          controlRect         zoomCircle\r\n   * */\r\n  static getSvgLayoutVue() {\r\n    let drawSVGDomId = CpsCommonConst.drawSVGId.replace('#', '')\r\n    let html = '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" style=\"position: absolute;left:0px;top:0px;width:100%;height:100%;\" id=\"' + drawSVGDomId + '\">'\r\n    html = html + '<defs>'\r\n    html = html + '<marker id=\"markerArrow\" markerUnits=\"strokeWidth\" markerWidth=\"8\" markerHeight=\"8\" viewBox=\"0 0 12 12\" refX=\"6\" refY=\"6\" orient=\"auto\">'\r\n    html = html + '<path d=\"M2,2 L10,6 L2,10 L6,6 L2,2\" style=\"fill: red;\" />'\r\n    html = html + '</marker>'\r\n    html = html + '</defs>'\r\n    html = html + '<circle id=\"drawCircle0\" name=\"drawCircle\" cx=\"0\" cy=\"0\" r=\"5\" stroke=\"#3c8dbc\" fill=\"#ffffff\" stroke-width=\"1\" data-index=\"0\" style=\"display:none;cursor: sw-resize;\" data-lineid=\"\"/>'\r\n    html = html + '<circle id=\"drawCircle1\" name=\"drawCircle\" cx=\"0\" cy=\"0\" r=\"5\" stroke=\"#3c8dbc\" fill=\"#ffffff\" stroke-width=\"1\" data-index=\"1\" style=\"display:none;cursor: se-resize;\" data-lineid=\"\"/>'\r\n    html = html + '<rect id=\"controlRect0\" name=\"controlRect\" x=\"0\" y=\"0\" width=\"7\" height=\"7\" fill=\"#ffffff\" stroke=\"#ff0000\" stroke-width=\"1\" data-index=\"1\" style=\"display:none;cursor: pointer;\" data-controlid=\"\"/>'\r\n    html = html + '<rect id=\"controlRect1\" name=\"controlRect\" x=\"0\" y=\"0\" width=\"7\" height=\"7\" fill=\"#ffffff\" stroke=\"#ff0000\" stroke-width=\"1\" data-index=\"2\" style=\"display:none;cursor: pointer;\" data-controlid=\"\"/>'\r\n    html = html + '<rect id=\"controlRect2\" name=\"controlRect\" x=\"0\" y=\"0\" width=\"7\" height=\"7\" fill=\"#ffffff\" stroke=\"#ff0000\" stroke-width=\"1\" data-index=\"3\" style=\"display:none;cursor: pointer;\" data-controlid=\"\"/>'\r\n    html = html + '<rect id=\"controlRect3\" name=\"controlRect\" x=\"0\" y=\"0\" width=\"7\" height=\"7\" fill=\"#ffffff\" stroke=\"#ff0000\" stroke-width=\"1\" data-index=\"4\" style=\"display:none;cursor: pointer;\" data-controlid=\"\"/>'\r\n    html = html + '<circle id=\"zoomCircle0\" name=\"zoomCircle\" cx=\"0\" cy=\"0\" r=\"5\" stroke=\"#3c8dbc\" fill=\"#ffffff\" stroke-width=\"1\" data-index=\"1\" style=\"display:none;cursor: se-resize;\" data-controlid=\"\"/>'\r\n    html = html + '<circle id=\"zoomCircle1\" name=\"zoomCircle\" cx=\"0\" cy=\"0\" r=\"5\" stroke=\"#3c8dbc\" fill=\"#ffffff\" stroke-width=\"1\" data-index=\"2\" style=\"display:none;cursor: s-resize;\" data-controlid=\"\"/>'\r\n    html = html + '<circle id=\"zoomCircle2\" name=\"zoomCircle\" cx=\"0\" cy=\"0\" r=\"5\" stroke=\"#3c8dbc\" fill=\"#ffffff\" stroke-width=\"1\" data-index=\"3\" style=\"display:none;cursor: sw-resize;\" data-controlid=\"\"/>'\r\n    html = html + '<circle id=\"zoomCircle3\" name=\"zoomCircle\" cx=\"0\" cy=\"0\" r=\"5\" stroke=\"#3c8dbc\" fill=\"#ffffff\" stroke-width=\"1\" data-index=\"4\" style=\"display:none;cursor: w-resize;\" data-controlid=\"\"/>'\r\n    html = html + '<circle id=\"zoomCircle4\" name=\"zoomCircle\" cx=\"0\" cy=\"0\" r=\"5\" stroke=\"#3c8dbc\" fill=\"#ffffff\" stroke-width=\"1\" data-index=\"5\" style=\"display:none;cursor: se-resize;\" data-controlid=\"\"/>'\r\n    html = html + '<circle id=\"zoomCircle5\" name=\"zoomCircle\" cx=\"0\" cy=\"0\" r=\"5\" stroke=\"#3c8dbc\" fill=\"#ffffff\" stroke-width=\"1\" data-index=\"6\" style=\"display:none;cursor: s-resize;\" data-controlid=\"\"/>'\r\n    html = html + '<circle id=\"zoomCircle6\" name=\"zoomCircle\" cx=\"0\" cy=\"0\" r=\"5\" stroke=\"#3c8dbc\" fill=\"#ffffff\" stroke-width=\"1\" data-index=\"7\" style=\"display:none;cursor: sw-resize;\" data-controlid=\"\"/>'\r\n    html = html + '<circle id=\"zoomCircle7\" name=\"zoomCircle\" cx=\"0\" cy=\"0\" r=\"5\" stroke=\"#3c8dbc\" fill=\"#ffffff\" stroke-width=\"1\" data-index=\"8\" style=\"display:none;cursor: w-resize;\" data-controlid=\"\"/>'\r\n    html = html + '</svg>'\r\n    return html\r\n  }\r\n\r\n  /** 将CPS产线模型数据列表通过方法getControlsHtml加载组件Vue，方法getSVGHtml加载矢量线Vue\r\n   * list：CPS产线模型数据列表\r\n   * */\r\n  static loadCanvasVue(list) {\r\n    let svgVue = CpsMainPanel.getSvgLayoutVue()\r\n    $(CpsCommonConst.canvasId).empty().append(svgVue)\r\n    if (list) {\r\n      let controlsVue = CpsMainPanel.loadCanvasControlsVue(list)\r\n      $(CpsCommonConst.canvasId).append(controlsVue)\r\n      CpsMainPanel.loadCanvasSvgVue(list)\r\n    }\r\n  }\r\n\r\n  /** 根据CPS产线模型数据列表中的功能组件配置明细数据列表转换成组件Vue集合并返回\r\n   * list：功能组件配置明细数据列表\r\n   * */\r\n  static loadCanvasControlsVue(list) {\r\n    let html = ''\r\n    for (let i = 0; i < list.ControlDetail.length; i++) {\r\n      let model = list.ControlDetail[i]\r\n      let imgSize = model.ControlWidth > model.ControlHeight ? model.ControlHeight : model.ControlWidth\r\n      html = html + '<div class=\"cps-controls-td\" name=\"cpsIcon\" style=\"width:' + model.ControlWidth + 'px;height:' + model.ControlHeight + 'px;position:absolute;margin:0px;left:' + model.XCoordinate + 'px;top:' + model.YCoordinate + 'px;\"  draggable=\"true\" id=\"' + model.ControlId + '\" data-relid=\"' + model.RelId + '\" data-progid=\"' + model.ProgId + '\">'\r\n      html = html + '<div class=\"cps-controls-region\" style=\"border:1px solid #d2c06c;\">'\r\n      html = html + '<img src=\"' + model.RelIcon + '\" style=\"width: ' + (imgSize - 30) + 'px;height:' + (imgSize - 30) + 'px;\"/>'\r\n      html = html + '<div class=\"cps-controls-span\">' + model.ControlName + '</div>'\r\n      html = html + '</div>'\r\n      html = html + '</div>'\r\n    }\r\n    return html\r\n  }\r\n\r\n  /** 根据CPS产线模型数据列表中的矢量线配置明细数据列表转换成矢量线Vue并加入到SVG中\r\n   * list：功能组件配置明细数据列表\r\n   * */\r\n  static loadCanvasSvgVue(list) {\r\n    for (let i = 0; i < list.VectorLineDetail.length; i++) {\r\n      let model = list.VectorLineDetail[i]\r\n      let polyline = document.createElementNS('http://www.w3.org/2000/svg', 'polyline')\r\n      if (polyline) {\r\n        polyline.setAttribute('name', 'drawLine')\r\n        polyline.setAttribute('id', model.LineId)\r\n        polyline.setAttribute('points', model.Coordinates)\r\n        polyline.setAttribute('data-startid', model.StartControlId)\r\n        polyline.setAttribute('data-endid', model.EndControlId)\r\n        polyline.setAttribute('data-starttype', model.ControlStartType)\r\n        polyline.setAttribute('data-endtype', model.ControlEndType)\r\n        polyline.setAttribute('marker-end', 'url(#markerArrow)')\r\n        polyline.setAttribute('style', 'fill:none;stroke:red;stroke-width:2;cursor:move;')\r\n        $(CpsCommonConst.drawSVGId).append(polyline)\r\n      }\r\n    }\r\n  }\r\n\r\n  /** 重置画板模块的宽高度，以修正可视区域的滚动条（拓展到画板最小的宽高度）\r\n   * element：此为移动中和复制的CPS功能组件元素\r\n   * 此处应在CPS功能组件的移动（新增，拉伸）中，删除，复制等操作上使用\r\n   * */\r\n  static resizeDrawSvg(element) {\r\n    if (!element || element.length === 0)\r\n      return\r\n    let minWidth = CpsMainPanel.minWidth\r\n    let minHeight = CpsMainPanel.minHeight\r\n    let cx = Math.round(element.css('left').replace('px', '')) + Math.round(element.css('width').replace('px', ''))\r\n    let cy = Math.round(element.css('top').replace('px', '')) + Math.round(element.css('height').replace('px', ''))\r\n    minWidth = cx + 20 > minWidth ? minWidth + 200 : minWidth\r\n    minHeight = cy + 20 > minHeight ? minHeight + 200 : minHeight\r\n    minWidth = CpsCommonVar.drawSvgWidth > minWidth ? CpsCommonVar.drawSvgWidth : minWidth\r\n    minHeight = CpsCommonVar.drawSvgHeight > minHeight ? CpsCommonVar.drawSvgHeight : minHeight\r\n    $(CpsCommonConst.drawSVGId).css({'width': minWidth, 'height': minHeight})\r\n    CpsMainPanel.minWidth = minWidth\r\n    CpsMainPanel.minHeight = minHeight\r\n  }\r\n\r\n  /** 设置画板模块的宽高度，以修正可视区域的滚动条（敛缩到画板最小的宽高度）\r\n   * 此处应在CPS功能组件或矢量线的移动（新增，拉伸）后等操作上使用\r\n   * */\r\n  static setSizeDrawSvg() {\r\n    let minWidth = CpsMainPanel.minWidth\r\n    let minHeight = CpsMainPanel.minHeight\r\n    let cx = 0\r\n    let cy = 0\r\n    for (let i = 0; i < CpsCommonVar.controlLineModels.ControlDetail.length; i++) {\r\n      let model = CpsCommonVar.controlLineModels.ControlDetail[i]\r\n      cx = model.XCoordinate + model.ControlWidth > cx ? model.XCoordinate + model.ControlWidth : cx\r\n      cy = model.YCoordinate + model.ControlHeight > cy ? model.YCoordinate + model.ControlHeight : cy\r\n    }\r\n    for (let j = 0; j < CpsCommonVar.controlLineModels.VectorLineDetail.length; j++) {\r\n      let model = CpsCommonVar.controlLineModels.VectorLineDetail[j]\r\n      let points = model.Coordinates.split(' ')\r\n      for (let i = 0; i < points.length; i++) {\r\n        let x = parseInt(points[i].split(',')[0])\r\n        let y = parseInt(points[i].split(',')[1])\r\n        cx = x > cx ? x : cx\r\n        cy = y > cy ? y : cy\r\n      }\r\n    }\r\n    while (minWidth - 200 > cx + 20) {\r\n      minWidth = minWidth - 200\r\n    }\r\n    while (minHeight - 200 > cy + 20) {\r\n      minHeight = minHeight - 200\r\n    }\r\n    minWidth = CpsCommonVar.drawSvgWidth > minWidth ? CpsCommonVar.drawSvgWidth : minWidth\r\n    minHeight = CpsCommonVar.drawSvgHeight > minHeight ? CpsCommonVar.drawSvgHeight : minHeight\r\n    $(CpsCommonConst.drawSVGId).css({'width': minWidth, 'height': minHeight})\r\n    CpsMainPanel.minWidth = minWidth\r\n    CpsMainPanel.minHeight = minHeight\r\n  }\r\n\r\n  /** 初始化画板模块的宽高度，以形成可视区域的滚动条（设定默认画板最大的宽高度）\r\n   * 此处应在画板初始化的新增界面或加载CPS产线的修改模型界面情况下使用\r\n   * */\r\n  static initSizeDrawSvg() {\r\n    let canvasEle = $(CpsCommonConst.canvasId)[0]\r\n    let clientWidth = canvasEle.offsetWidth - 2 > canvasEle.scrollWidth ? canvasEle.offsetWidth - 2 : canvasEle.scrollWidth\r\n    let clientHeight = canvasEle.offsetHeight > canvasEle.scrollHeight ? canvasEle.offsetHeight : canvasEle.scrollHeight\r\n    $(CpsCommonConst.drawSVGId).css({'width': clientWidth, 'height': clientHeight})\r\n    CpsCommonVar.drawSvgWidth = clientWidth\r\n    CpsCommonVar.drawSvgHeight = clientHeight\r\n    CpsMainPanel.minWidth = clientWidth\r\n    CpsMainPanel.minHeight = clientHeight\r\n  }\r\n\r\n  /** 清除工厂建模的所有事件，以便重新加载相应HTML时，减少缓存，加快浏览器反应速度\r\n   * */\r\n  static clearElementBindEvent() {\r\n    $(CpsCommonVar.renderTo).unbind('contextmenu')\r\n    $(CpsCommonVar.renderTo).unbind('mouseup')\r\n    $(CpsCommonConst.controlsId).find('div[name=\\'cpsControlTitle\\']').unbind('click')\r\n    $(CpsCommonConst.canvasId).unbind('keydown')\r\n    $(CpsCommonConst.drawSVGId).find('circle[name=\\'zoomCircle\\']').unbind('mousedown')\r\n    $(CpsCommonConst.drawSVGId).find('circle[name=\\'drawCircle\\']').unbind('mousedown')\r\n    $(CpsCommonConst.drawSVGId).find('polyline[name=\\'drawLine\\']').unbind('click')\r\n    $(CpsCommonConst.canvasId).unbind('mousedown')\r\n    $(CpsCommonConst.canvasId).unbind('mousemove')\r\n    $(CpsCommonConst.canvasId).unbind('mouseup')\r\n    $(CpsCommonConst.mainPanelId).find('div[name=\\'cpsIcon\\']').unbind('dragstart')\r\n    $(CpsCommonConst.mainPanelId).find('div[name=\\'cpsIcon\\']').unbind('dragend')\r\n    $(CpsCommonConst.canvasId).unbind('dragenter')\r\n    $(CpsCommonConst.canvasId).unbind('dragover')\r\n    $(CpsCommonConst.canvasId).find('div[name=\\'cpsIcon\\']').unbind('mouseup')\r\n    $(CpsCommonConst.canvasId).find('div[name=\\'cpsIcon\\']').unbind('click')\r\n    $(CpsCommonConst.canvasId).find('div[name=\\'cpsIcon\\']').unbind('dblclick')\r\n    $(CpsCommonConst.canvasId).find('div[name=\\'cpsIcon\\']').unbind('mouseenter')\r\n    $(CpsCommonConst.canvasId).find('div[name=\\'cpsIcon\\']').unbind('mouseleave')\r\n    $(CpsCommonConst.drawSVGId).find('polyline[name=\\'drawLine\\']').unbind('click')\r\n    $('#descriptionBox').unbind('click')\r\n    $('#pointerTool').unbind('click')\r\n    $('#vectorLine').unbind('click')\r\n  }\r\n\r\n  /** 设置CPS建模的建模模型【无，产线配置，标准工艺路线】，获取相应模型的CPS组件配置数据\r\n   * produceControlLineId：CPS产线模型代码，为CPS产线模型的唯一标识\r\n   * vcl：CPS产线模型视图界面\r\n   * */\r\n  static selFactoryModuleType(produceControlLineId, masterVcl) {\r\n    let factoryModuleTypeStore = Ext.create(\"Ext.data.Store\", {\r\n      fields: [\"Name\", \"Value\"],\r\n      data: [\r\n        {Name: \"无\", Value: 0},\r\n        {Name: \"产线配置\", Value: 1},\r\n        {Name: \"标准工艺路线\", Value: 2}\r\n      ]\r\n    });\r\n    let form = Ext.create('Ext.form.Panel', {\r\n      bodyPadding: 5,\r\n      width: '100%',\r\n      height: '100%',\r\n      defaults: {\r\n        anchor: '100%'\r\n      },\r\n      cls: 'cps-x-panel',\r\n      items: [\r\n        {\r\n          xtype: 'combobox',\r\n          name: 'FactoryModuleType',\r\n          fieldLabel: \"工厂建模模型\",\r\n          store: factoryModuleTypeStore,\r\n          displayField: \"Name\",\r\n          valueField: \"Value\",\r\n          value: 0,\r\n          triggerAction: 'all',\r\n          editable: false,\r\n          mode: \"local\",\r\n          queryMode: \"local\"\r\n        }\r\n      ],\r\n      buttons: [\r\n        {\r\n          xtype: 'button',\r\n          text: '确认',\r\n          scale: 'medium',\r\n          handler: function () {\r\n            let factoryModuleType = this.up('form').getForm().findField('FactoryModuleType').getValue()\r\n            CpsMainPanel.loadCpsConfigureView(produceControlLineId, factoryModuleType, masterVcl)\r\n            let isShowWsTip = factoryModuleType === 1 ? false : true\r\n            CpsEventPanel.sysEventPanel.items.getAt(5).setDisabled(isShowWsTip)\r\n            CpsMainPanel.factoryModuleTypeWin.close()\r\n          }\r\n        }\r\n      ]\r\n    })\r\n    CpsMainPanel.factoryModuleTypeWin = Ext.create('Ext.window.Window', {\r\n      title: 'CPS建模的模型选择',\r\n      height: 150,\r\n      width: 300,\r\n      closable: false,\r\n      layout: 'fit',\r\n      items: [form]\r\n    })\r\n    CpsMainPanel.factoryModuleTypeWin.show()\r\n  }\r\n\r\n  /** 初始化CPS建模界面，即加载产线模型数据Vue和相关的CPS动态组件配置数据Vue\r\n   * produceControlLineId：CPS产线模型代码，为CPS产线模型的唯一标识\r\n   * factoryModuleType：工厂建模模型，用于获取CPS组件配置下此模型的最新数据\r\n   * vcl：CPS产线模型视图界面\r\n   * */\r\n  static loadCpsConfigureView(produceControlLineId, factoryModuleType, vcl) {\r\n    $('#cpsLoading').css('display', 'block')\r\n    CpsMainPanel.clearElementBindEvent()\r\n    window.clearInterval(CpsEventPanel.taskNoTipInterval)\r\n    // 根据CPS产线模型代码得到此产线模型数据列表\r\n    CpsCommonFunc.getProduceControlLineList(produceControlLineId, function (list) {\r\n      // 加载相应的画板中的组件和矢量线Vue\r\n      CpsMainPanel.loadCanvasVue(list)\r\n      // 加载CPS动态组件Vue\r\n      CpsCommonFunc.getCpsControlConfigureList(CpsCommonVar.controlLineModels.ControlConfigId, factoryModuleType, function (list) {\r\n        CpsSystemControls.loadControlConfigVue(list, true)\r\n        CpsEventPanel.loadCpsConfigureEvent()    // 加载CPS工厂建模事件\r\n        $('#cpsLoading').css('display', 'none')\r\n        CpsMainPanel.initSizeDrawSvg()\r\n      })\r\n      CpsCommonVar.controlsAttrPanel.getForm().reset()\r\n      CpsCommonVar.polylineAttrPanel.getForm().reset()\r\n    })\r\n    // 给当前的CPS产线配置的视图面板赋值\r\n    CpsCommonVar.masterVcl = vcl\r\n  }\r\n\r\n  /** 显示当前CPS产线模型上的组件配置和矢量线配置明细数据\r\n   * 显示出的组件和矢量线的布局跟实际画板上的布局是一致的，且不可操作组件和矢量线，只作为显示使用\r\n   * */\r\n  static showProduceControlLineModels() {\r\n    let maxWidth = document.body.clientWidth * 0.8\r\n    let maxHeight = document.body.clientHeight * 0.7\r\n\r\n    let content = '<div class=\"cps-controls-layout-main\" style=\"min-height:' + (maxHeight - 41) + 'px;min-width:' + (maxWidth - 11) + 'px;position:relative;overflow:auto;\" id=\"cps_cavasId\">'\r\n    // 加载组件配置明细数据内容\r\n    if (CpsCommonVar.controlLineModels && CpsCommonVar.controlLineModels.ControlDetail.length > 0) {\r\n      content = content + CpsMainPanel.loadCanvasControlsVue(CpsCommonVar.controlLineModels)\r\n    }\r\n    // 加载矢量线配置明细数据内容\r\n    if (CpsCommonVar.controlLineModels && CpsCommonVar.controlLineModels.VectorLineDetail.length > 0) {\r\n      content = content + '<svg xmlns=\"http://www.w3.org/2000/svg\"  xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" width=\"100%\" height=\"100%\" style=\"position: absolute;\" id=\"cps_svgId\">'\r\n      content = content + '<defs><marker id=\"arrowPoint\" markerUnits=\"strokeWidth\" markerWidth=\"8\" markerHeight=\"8\" viewBox=\"0 0 12 12\" refX=\"6\" refY=\"6\" orient=\"auto\">'\r\n      content = content + '<path d=\"M2,2 L10,6 L2,10 L6,6 L2,2\" style=\"fill: red;\" /></marker></defs>'\r\n      for (let i = 0; i < CpsCommonVar.controlLineModels.VectorLineDetail.length; i++) {\r\n        let model = CpsCommonVar.controlLineModels.VectorLineDetail[i]\r\n        content = content + '<polyline name=\"drawLine\" id=\"' + model.LineId + '\" points=\"' + model.Coordinates + '\" data-startid=\"' + model.StartControlId + '\" data-endid=\"' + model.EndControlId + '\" data-starttype=\"' + model.ControlStartType + '\" data-endtype=\"' + model.ControlEndType + '\" marker-end=\"url(#arrowPoint)\" style=\"fill:none;stroke:red;stroke-width:2;\" />'\r\n      }\r\n      content = content + '</svg>'\r\n    }\r\n    content = content + '</div>'\r\n    // 将内容加载到panel中\r\n    let panel = Ext.create('Ext.panel.Panel', {\r\n      border: false,\r\n      width: '100%',\r\n      height: '100%',\r\n      html: content\r\n    })\r\n    let title = 'CPS产线模型配置'\r\n    if (CpsCommonVar.controlLineModels.ProduceControlLineName) {\r\n      title = CpsCommonVar.controlLineModels.ProduceControlLineName\r\n    }\r\n    // 创建window，将上面的panel加载到这个弹框中并显示出来\r\n    let win = Ext.create('Ext.window.Window', {\r\n      title: title,\r\n      titleAlign: 'center',\r\n      constrain: true,\r\n      closable: true,\r\n      draggable: true,\r\n      resizable: false,\r\n      width: maxWidth,\r\n      height: maxHeight,\r\n      border: false,\r\n      layout: 'fit',\r\n      items: panel\r\n    })\r\n    win.show()\r\n    // 计算出当前显示内容的实际宽高度并给画板赋值\r\n    $('#cps_svgId').attr({\r\n      'height': $('#cps_cavasId')[0].scrollHeight + 'px',\r\n      'width': $('#cps_cavasId')[0].scrollWidth + 'px'\r\n    })\r\n  }\r\n\r\n  /** 双击打开标准工艺路线的新增或修改页面，并进行模型数据的附加\r\n   * vcl：当前标准工艺路线的数据表逻辑结构\r\n   * data：标准工艺路线的模型数据\r\n   * */\r\n  static FillTechRouteGridData(vcl, data) {\r\n    let masterRow = vcl.dataSet.getTable(0).data.items[0]\r\n    masterRow.set('TECHROUTEID', data.TechRouteId)\r\n    masterRow.set('TECHROUTENAME', data.TechRouteName)\r\n    masterRow.set('TECHROUTETYPEID', data.TechRouteTypeId)\r\n    masterRow.set('TECHROUTETYPENAME', data.TechRouteTypeName)\r\n    masterRow.set('ISPARALLELTECHROUTE', data.IsParallelTechRoute)\r\n    masterRow.set('BIZATTR', data.BizAttr)\r\n    masterRow.set('VERSION', data.Version)\r\n    masterRow.set('MATERIALID', data.MaterialId)\r\n    masterRow.set('MATERIALNAME', data.MaterialName)\r\n    masterRow.set('MATERIALSPEC', data.MaterialSpec)\r\n    masterRow.set('UNITID', data.UnitId)\r\n    masterRow.set('UNITNAME', data.UnitName)\r\n    vcl.forms[0].loadRecord(masterRow)\r\n\r\n    // 关闭Ext布局\r\n    Ext.suspendLayouts();\r\n    let curStore = vcl.dataSet.getTable(1);\r\n    // 关闭store事件\r\n    curStore.suspendEvents();\r\n    try {\r\n      // 删除当前grid的数据\r\n      vcl.dataSet.getTable(1).removeAll();\r\n      vcl.dataSet.getTable(2).removeAll();\r\n      // 找到表头的数据\r\n      let masterRow = vcl.dataSet.getTable(0).data.items[0];\r\n      // 一般是中间层返回来的数据，中间可能定义的是dictionary,在前段反序列化之后是对象\r\n      if (data != undefined && data.WorkProcessDetail.length > 0) {\r\n        for (let i = 0; i < data.WorkProcessDetail.length; i++) {\r\n          let info = data.WorkProcessDetail[i];\r\n          // 这个方法第一个参数是表头数据行，第二个参数是当前grid数据源store所属第几个表\r\n          let newRow = vcl.addRow(masterRow, 1);\r\n          newRow.set(\"TECHROUTEID\", info.TechRouteId);\r\n          newRow.set(\"ROW_ID\", info.RowId);\r\n          newRow.set(\"ROWNO\", info.RowNo);\r\n          newRow.set(\"WORKSHOPSECTIONID\", info.WorkShopSectionId);\r\n          newRow.set(\"WORKSHOPSECTIONNAME\", info.WorkShopSectionName);\r\n          newRow.set(\"WORKPROCESSID\", info.WorkProcessId);\r\n          newRow.set(\"WORKPROCESSNAME\", info.WorkProcessName);\r\n          newRow.set(\"PRODUCTDETAIL\", info.ProductDetail);\r\n          newRow.set(\"WORKSTATIONCONFIGID\", info.WorkStationConfigId);\r\n          newRow.set(\"WORKSTATIONCONFIGNAME\", info.WorkStationConfigName);\r\n          newRow.set(\"WORKPROCESSNO\", info.WorkProcessNo);\r\n          newRow.set(\"TRANSFERWORKPROCESSNO\", info.TransferWorkProcessNo);\r\n          newRow.set(\"NEEDGATHER\", info.NeedGather);\r\n          newRow.set(\"DOWORKPROCESS\", info.DoWorkProcess);\r\n          for (let j = 0; j < info.ProductOuterDetail.length; j++) {\r\n            let product = info.ProductOuterDetail[j];\r\n            let subRow = vcl.addRow(newRow, 2);\r\n            subRow.set(\"TECHROUTEID\", product.TechRouteId);\r\n            subRow.set(\"PARENTROWID\", product.ParentRowId);\r\n            subRow.set(\"ROW_ID\", product.RowId);\r\n            subRow.set(\"ROWNO\", product.RowNo);\r\n            subRow.set(\"MATERIALID\", product.MaterialId);\r\n            subRow.set(\"MATERIALNAME\", product.MaterialName);\r\n            subRow.set(\"MATERIALTYPEID\", product.MaterialTypeId);\r\n            subRow.set(\"MATERIALTYPENAME\", product.MaterialTypeName);\r\n            subRow.set(\"ISPRODUCT\", product.IsProduct);\r\n          }\r\n        }\r\n      }\r\n    } finally {\r\n      // 打开store事件\r\n      curStore.resumeEvents();\r\n      if (curStore.ownGrid && curStore.ownGrid.getView().store != null)\r\n        curStore.ownGrid.reconfigure(curStore);\r\n      // 打开Ext布局\r\n      Ext.resumeLayouts(true);\r\n    }\r\n  }\r\n\r\n  /** 建立标准工艺路线上的组件布局\r\n   * techRouteControlId：标准工艺路线的组件ID\r\n   * controlName：标准工艺路线的功能名称\r\n   * techRouteId：标准工艺路线的关联主数据ID\r\n   * techRouteName：标准工艺路线的关联主数据名称\r\n   * isCopy：标准工艺路线的数据模型是否进行复制操作\r\n   * */\r\n  static buildControlLayout(techRouteControlId, controlName, techRouteId, techRouteName, isCopy) {\r\n    let materialId = undefined\r\n    // 复制当前标准工艺路线时，确保物料必须存在且有关联\r\n    if (isCopy) {\r\n      for (let i = 0; i < CpsCommonVar.controlLineModels.VectorLineDetail.length; i++) {\r\n        let lineModel = CpsCommonVar.controlLineModels.VectorLineDetail[i]\r\n        if (lineModel.EndControlId === techRouteControlId && lineModel.StartControlId.indexOf(CpsCommonConst.comMaterial) === 0) {\r\n          for (let j = 0; j < CpsCommonVar.controlLineModels.ControlDetail.length; j++) {\r\n            let controlModel = CpsCommonVar.controlLineModels.ControlDetail[j]\r\n            if (controlModel.ControlId === lineModel.StartControlId) {\r\n              materialId = controlModel.RelId\r\n              break\r\n            }\r\n          }\r\n          break\r\n        }\r\n      }\r\n    }\r\n    if (isCopy && !materialId) {\r\n      Ext.Msg.alert('提示', '复制当前标准工艺路线需要先关联上物料数据')\r\n    } else {\r\n      CpsMainPanel.getTechRouteData(techRouteId, materialId, isCopy, function (techRouteModel) {\r\n        CpsControlsAttr.setControlRelIdName(techRouteControlId, controlName, techRouteModel.TechRouteId, techRouteModel.TechRouteName)\r\n        CpsMainPanel.resetTechRouteLayout(techRouteControlId, techRouteModel)\r\n      })\r\n    }\r\n  }\r\n\r\n  /** 根据当前标准工艺路线的ID返回其本身或复制的数据模型\r\n   * techRouteId:标准工艺路线的唯一标识\r\n   * materialId:物料的唯一标识\r\n   * isCopy:是否要复制当前标准工艺路线的数据模型，true表示复制，false表示不复制\r\n   * callback:返回当前标准工艺路线本身或复制的数据模型\r\n   * */\r\n  static getTechRouteData(techRouteId, materialId, isCopy, callback) {\r\n    Ext.Ajax.request({\r\n      url: '/CpsModule/GetTechRouteInfoById',\r\n      jsonData: {techRouteId: techRouteId, materialId: materialId, isCopy: isCopy},\r\n      method: 'POST',\r\n      async: false,\r\n      timeout: 90000000,\r\n      success: function (response) {\r\n        let result = Ext.decode(response.responseText)\r\n        if (result.Messages.length > 0) {\r\n          let errMsg = []\r\n          for (let i = 0; i < result.Messages.length; i++) {\r\n            errMsg.push({kind: result.Messages[i].MessageKind, msg: result.Messages[i].Message})\r\n          }\r\n          Ax.utils.LibMsg.show(errMsg)\r\n        } else {\r\n          let techRouteModel = result.Result;\r\n          callback(techRouteModel)\r\n        }\r\n      },\r\n      failure: function (response) {\r\n        let result = Ext.decode(response.responseText)\r\n        if (result.Messages.length > 0) {\r\n          Ext.Msg.alert('异常提示', result.Messages[0].Message)\r\n        } else {\r\n          if (isCopy) {\r\n            Ext.Msg.alert('提示', '复制当前标准工艺路线[' + techRouteId + ']数据出现异常')\r\n          } else {\r\n            Ext.Msg.alert('提示', '获取当前标准工艺路线[' + techRouteId + ']数据出现异常')\r\n          }\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  /** 重置标准工艺路线的位置和大小\r\n   * techRouteControlId：标准工艺路线的组件ID\r\n   * techRouteModel：标准工艺路线的数据模型\r\n   * */\r\n  static resizeTechRouteControl(techRouteControlId, techRouteModel) {\r\n    let trModel = undefined\r\n    let workProcessCount = 0              // 标准工艺路线下的工序个数\r\n    for (let i = 0; i < techRouteModel.WorkShopSectionDetail.length; i++) {\r\n      let workShopSectionModel = techRouteModel.WorkShopSectionDetail[i]\r\n      workProcessCount = workProcessCount + workShopSectionModel.WorkProcessNodeList.length\r\n    }\r\n    for (let i = 0; i < CpsCommonVar.controlLineModels.ControlDetail.length; i++) {\r\n      let model = CpsCommonVar.controlLineModels.ControlDetail[i]\r\n      if (model.ControlId === techRouteControlId) {\r\n        let isVerticalLayout = model.ControlWidth > model.ControlHeight ? false : true      // 标准工艺路线的横向（false）和竖向（true）布局\r\n        let hSpace = isVerticalLayout ? 20 : 10                  // 组件的宽度\r\n        let vSpace = isVerticalLayout ? 10 : 20                  // 组件的宽度\r\n        let standardSize = CpsCommonConst.workProcessSize + CpsCommonConst.materialSize + CpsCommonConst.materialTypeSize + CpsCommonConst.workstationConfigSize\r\n        standardSize = isVerticalLayout ? standardSize + vSpace * 4 : standardSize + hSpace * 4       // 入口工序【包含站点配置、物料类别、物料】的标准宽高度\r\n        let size = isVerticalLayout ? workProcessCount * standardSize - vSpace : workProcessCount * standardSize - hSpace\r\n        let left = isVerticalLayout ? CpsCommonConst.techRouteTypeSize + hSpace + 10 : 10\r\n        let top = isVerticalLayout ? 10 : CpsCommonConst.techRouteTypeSize + vSpace + 10\r\n        model.XCoordinate = isVerticalLayout ? (model.XCoordinate > left ? model.XCoordinate : left) : (model.XCoordinate > 10 ? model.XCoordinate : 10)\r\n        model.YCoordinate = isVerticalLayout ? (model.YCoordinate > 10 ? model.YCoordinate : 10) : (model.YCoordinate > top ? model.YCoordinate : top)\r\n        model.ControlWidth = isVerticalLayout ? 70 : size\r\n        model.ControlHeight = isVerticalLayout ? size : 70\r\n        let cpsControl = $(CpsCommonConst.canvasId).find('div[id=\\'' + model.ControlId + '\\']')\r\n        cpsControl.css({\r\n          'width': model.ControlWidth + 'px',\r\n          'height': model.ControlHeight + 'px',\r\n          'left': model.XCoordinate + 'px',\r\n          'top': model.YCoordinate + 'px'\r\n        })\r\n        cpsControl.find('img').css({'width': '40px', 'height': '40px'})\r\n        trModel = {\r\n          'isVerticalLayout': isVerticalLayout,\r\n          'x': model.XCoordinate,\r\n          'y': model.YCoordinate,\r\n          'w': model.ControlWidth,\r\n          'h': model.ControlHeight,\r\n          'hSpace': hSpace,\r\n          'vSpace': vSpace,\r\n          'size': standardSize\r\n        }\r\n        break\r\n      }\r\n    }\r\n    return trModel\r\n  }\r\n\r\n  /** 重置标准工艺路线的组件布局并加载相关事件，创建相关组件和其矢量线\r\n   * techRouteControlId：标准工艺路线的组件ID\r\n   * techRouteModel：标准工艺路线的数据模型\r\n   * */\r\n  static resetTechRouteLayout(techRouteControlId, techRouteModel) {\r\n    CpsMainPanel.controlAttrArr = []\r\n    CpsMainPanel.clearElementBindEvent()\r\n    CpsMainPanel.delAllTechRouteControlLines(techRouteControlId)\r\n    CpsCommonFunc.removeControlSelStyle()\r\n    let trModel = CpsMainPanel.resizeTechRouteControl(techRouteControlId, techRouteModel)\r\n    if (!trModel) {\r\n      Ext.Msg.alert('提示', '标准工艺路线[' + techRouteControlId + ']数据出现异常')\r\n      return\r\n    }\r\n    let size = trModel.size\r\n    // 当布局为竖向时，组件的高度大于宽度（工序、站点配置、物料类别、物料组件宽高大小相反）\r\n    let trtHeight = trModel.isVerticalLayout ? parseInt((trModel.h - trModel.vSpace) / 2) : CpsCommonConst.techRouteTypeSize    // 标准工艺类别和物料的高度\r\n    let trtWidth = trModel.isVerticalLayout ? CpsCommonConst.techRouteTypeSize : parseInt((trModel.w - trModel.hSpace) / 2)     // 标准工艺类别和物料的宽度\r\n    let trtLeft = trModel.isVerticalLayout ? trModel.x - trtWidth - trModel.hSpace : trModel.x                                  // 标准工艺类别或物料的X坐标\r\n    let trtTop = trModel.isVerticalLayout ? trModel.y : trModel.y - trtHeight - trModel.vSpace                                  // 标准工艺类别或物料的的Y坐标\r\n    let trtIndex = trModel.isVerticalLayout ? '2-4' : '3-1'                                                                       // 物料的矢量点位置\r\n    // 标准工艺类别--标准工艺路线  竖向布局\r\n    let techRouteTypeControlId = CpsMainPanel.createCpsControl(trtLeft, trtTop, trtWidth, trtHeight, CpsCommonConst.comTechRouteType, techRouteModel.TechRouteTypeId, techRouteModel.TechRouteTypeName)\r\n    CpsMainPanel.createVectorLine(techRouteTypeControlId, techRouteControlId, trtIndex)\r\n\r\n    let mLeft = trModel.isVerticalLayout ? trtLeft : trtLeft + trModel.w - trtWidth   // 物料的X坐标\r\n    let mTop = trModel.isVerticalLayout ? trtTop + trModel.h - trtHeight : trtTop     // 物料的Y坐标\r\n    let mIndex = trModel.isVerticalLayout ? '2-4' : '3-1'                               // 物料的矢量点位置\r\n    // 物料--标准工艺路线  竖向/横向布局\r\n    let materialControlId = CpsMainPanel.createCpsControl(mLeft, mTop, trtWidth, trtHeight, CpsCommonConst.comMaterial, techRouteModel.MaterialId, techRouteModel.MaterialName)\r\n    CpsMainPanel.createVectorLine(materialControlId, techRouteControlId, mIndex)\r\n\r\n    let entryWorkProcessCount = 0     // 入口工序的个数\r\n    // 解析标准工艺路线下的工段【工序、站点配置、物料类别、物料】的布局\r\n    for (let i = 0; i < techRouteModel.WorkShopSectionDetail.length; i++) {\r\n      let workShopSectionModel = techRouteModel.WorkShopSectionDetail[i]                    // 工段模型\r\n\r\n      let wsWidth = trModel.isVerticalLayout ? CpsCommonConst.workshopSectionSize : workShopSectionModel.WorkProcessNodeList.length * size - trModel.hSpace     // 工段的宽度\r\n      let wsHeight = trModel.isVerticalLayout ? workShopSectionModel.WorkProcessNodeList.length * size - trModel.vSpace : CpsCommonConst.workshopSectionSize    // 工段的高度\r\n      let wsLeft = trModel.isVerticalLayout ? trModel.x + trModel.w + trModel.hSpace : trModel.x + entryWorkProcessCount * size                                 // 工段的X坐标\r\n      let wsTop = trModel.isVerticalLayout ? trModel.y + entryWorkProcessCount * size : trModel.y + trModel.w + trModel.vSpace                                  // 工段的Y坐标\r\n      let wsIndex = trModel.isVerticalLayout ? '2-4' : '3-1'                                                                                                      // 工段的矢量点位置\r\n      // 标准工艺路线--工段  竖向/横向布局\r\n      let workshopSectionId = CpsMainPanel.createCpsControl(wsLeft, wsTop, wsWidth, wsHeight, CpsCommonConst.comWorkshopSection, workShopSectionModel.WorkShopSectionId, workShopSectionModel.WorkShopSectionName)\r\n      CpsMainPanel.createVectorLine(techRouteControlId, workshopSectionId, wsIndex)\r\n\r\n      // 解析工段下入口工序和转入工序【站点配置、物料类别、物料】的布局\r\n      for (let j = 0; j < workShopSectionModel.WorkProcessNodeList.length; j++) {\r\n        let WorkProcessNode = workShopSectionModel.WorkProcessNodeList[j]     // 工段模型下工序关系树模型\r\n        let entryWorkProcess = WorkProcessNode.WorkProcess                    // 工段模型下工序关系树模型下入口工序\r\n        let workProcessChild = WorkProcessNode.WorkProcessChild               // 工段模型下工序关系树模型下入口工序的指向工序集\r\n\r\n        let ewcHeight = trModel.isVerticalLayout ? CpsCommonConst.workstationConfigSize : 160    // 入口工序上站点配置的高度\r\n        let ewcWidth = trModel.isVerticalLayout ? 160 : CpsCommonConst.workstationConfigSize     // 入口工序上站点配置的宽度\r\n        let ewpLeft = trModel.isVerticalLayout ? wsLeft + wsWidth + trModel.hSpace : wsLeft + j * size + ewcWidth + trModel.hSpace // 入口工序的X坐标\r\n        let ewpTop = trModel.isVerticalLayout ? wsTop + j * size + ewcHeight + trModel.vSpace : wsTop + wsHeight + trModel.vSpace // 入口工序的Y坐标\r\n        CpsMainPanel.createWorkProcessControls(trModel, workshopSectionId, entryWorkProcess, workProcessChild, ewpLeft, ewpTop)\r\n      }\r\n      entryWorkProcessCount = workShopSectionModel.WorkProcessNodeList.length + entryWorkProcessCount\r\n    }\r\n    CpsEventPanel.loadCpsConfigureEvent()    // 加载CPS工厂建模事件\r\n  }\r\n\r\n  /** 创建工序组件并创建其关联的站点配置、物料类别、物料组件和创建其关联矢量线\r\n   * trModel：标准工艺路线的组件数据模型，包括布局方式，宽高位置，标准宽高，横竖向间距等\r\n   * startControlId：工序的连接矢量线的起始组件\r\n   * workProcess：工序的数据模型\r\n   * workProcessChild：工序关系树模型下入口工序的指向工序集\r\n   * wpLeft：工序的X坐标\r\n   * wpTop：工序的Y坐标\r\n   * */\r\n  static createWorkProcessControls(trModel, startControlId, workProcess, workProcessChild, wpLeft, wpTop) {\r\n    let wpHeight = trModel.isVerticalLayout ? CpsCommonConst.workProcessSize : 160          // 入口工序、转入工序的高度\r\n    let wpWidth = trModel.isVerticalLayout ? 160 : CpsCommonConst.workProcessSize           // 入口工序、转入工序的宽度\r\n    let wpIndex = trModel.isVerticalLayout ? '2-4' : '3-1'                                    // 入口工序、转入工序的矢量点位置\r\n    // 工段--入口工序或入口工序--转入工序  横向/竖向布局\r\n    let workProcessId = CpsMainPanel.createCpsControl(wpLeft, wpTop, wpWidth, wpHeight, CpsCommonConst.comWorkProcess, workProcess.WorkProcessId, workProcess.WorkProcessName)\r\n    CpsMainPanel.createVectorLine(startControlId, workProcessId, wpIndex)\r\n    if (workProcess.WorkStationConfigId) {\r\n      let wcHeight = trModel.isVerticalLayout ? CpsCommonConst.workstationConfigSize : 160    // 入口工序/转入工序上站点配置的高度\r\n      let wcWidth = trModel.isVerticalLayout ? 160 : CpsCommonConst.workstationConfigSize     // 入口工序/转入工序上站点配置的宽度\r\n      let wcLeft = trModel.isVerticalLayout ? wpLeft : wpLeft - wcWidth - trModel.hSpace      // 入口工序/转入工序上站点配置的Y坐标\r\n      let wcTop = trModel.isVerticalLayout ? wpTop - wcHeight - trModel.vSpace : wpTop        // 入口工序/转入工序上站点配置的Y坐标\r\n      let wcIndex = trModel.isVerticalLayout ? '3-1' : '2-4'                                    // 入口工序/转入工序上站点配置的矢量点位置\r\n      // 站点配置--入口工序/转入工序  横向/竖向布局\r\n      let workstationConfigId = CpsMainPanel.createCpsControl(wcLeft, wcTop, wcWidth, wcHeight, CpsCommonConst.comWorkstationConfig, workProcess.WorkStationConfigId, workProcess.WorkStationConfigName)\r\n      CpsMainPanel.createVectorLine(workstationConfigId, workProcessId, wcIndex)\r\n    }\r\n\r\n    for (let k = 0; k < workProcess.ProductOuterDetail.length; k++) {\r\n      let productOuterDetail = workProcess.ProductOuterDetail[k]\r\n      if (productOuterDetail.MaterialTypeId) {\r\n        let wtHeight = trModel.isVerticalLayout ? CpsCommonConst.materialTypeSize : 160                                       // 入口工序/转入工序上物料类别的高度\r\n        let wtWidth = trModel.isVerticalLayout ? 160 : CpsCommonConst.materialTypeSize                                        // 入口工序/转入工序上物料类别的宽度\r\n        let wtLeft = trModel.isVerticalLayout ? wpLeft + k * (wpWidth + trModel.hSpace) : wpLeft + wpWidth + trModel.hSpace   // 入口工序/转入工序上物料类别的X坐标\r\n        let wtTop = trModel.isVerticalLayout ? wpTop + wpHeight + trModel.vSpace : wpTop + k * (wpHeight + trModel.vSpace)    // 入口工序/转入工序上物料类别的Y坐标\r\n        let wtIndex = trModel.isVerticalLayout ? '1-3' : '4-2'                                                                  // 入口工序/转入工序上物料类别的矢量点位置\r\n        // 物料类别--入口工序/转入工序  横向/竖向布局\r\n        let materialTypeId = CpsMainPanel.createCpsControl(wtLeft, wtTop, wtWidth, wtHeight, CpsCommonConst.comMaterialType, productOuterDetail.MaterialTypeId, productOuterDetail.MaterialTypeName)\r\n        CpsMainPanel.createVectorLine(materialTypeId, workProcessId, wtIndex)\r\n        if (productOuterDetail.MaterialId) {\r\n          let ewHeight = trModel.isVerticalLayout ? CpsCommonConst.materialSize : 160             // 入口工序/转入工序上物料的高度\r\n          let ewWidth = trModel.isVerticalLayout ? 160 : CpsCommonConst.materialSize              // 入口工序/转入工序上物料的宽度\r\n          let ewLeft = trModel.isVerticalLayout ? wtLeft : wtLeft + wtWidth + trModel.hSpace      // 入口工序/转入工序上物料的X坐标\r\n          let ewTop = trModel.isVerticalLayout ? wtTop + wtHeight + trModel.vSpace : wtTop        // 入口工序/转入工序上物料的Y坐标\r\n          let ewIndex = trModel.isVerticalLayout ? '1-3' : '4-2'                                    // 入口工序/转入工序上物料的矢量点位置\r\n          // 物料--物料类别  横向/竖向布局\r\n          let materialId = CpsMainPanel.createCpsControl(ewLeft, ewTop, ewWidth, ewHeight, CpsCommonConst.comMaterial, productOuterDetail.MaterialId, productOuterDetail.MaterialName)\r\n          CpsMainPanel.createVectorLine(materialId, materialTypeId, ewIndex)\r\n        }\r\n      }\r\n    }\r\n    // 在入口工序的指向工序集中找到当前工序的下一级工序【若在标准工艺路线上所有关联组件的属性数据集合中已存在此转入工序，则停止循环创建工序】\r\n    let transferWorkProcess = undefined\r\n    for (let i = 0; i < workProcessChild.length; i++) {\r\n      if (workProcess.TransferWorkProcessNo === workProcessChild[i].WorkProcessNo) {\r\n        transferWorkProcess = workProcessChild[i]\r\n        for (let i = 0; i < CpsMainPanel.controlAttrArr.length; i++) {\r\n          let controlAttr = CpsMainPanel.controlAttrArr[i]\r\n          if (controlAttr.relId === transferWorkProcess.WorkProcessId && controlAttr.controlFilter === CpsCommonConst.comWorkProcess && controlAttr.relName === transferWorkProcess.WorkProcessName) {\r\n            CpsMainPanel.createVectorLine(workProcessId, controlAttr.controlId, wpIndex)\r\n            transferWorkProcess = undefined\r\n            break\r\n          }\r\n        }\r\n        break\r\n      }\r\n    }\r\n    if (transferWorkProcess) {\r\n      wpLeft = trModel.isVerticalLayout ? wpLeft + wpWidth + trModel.hSpace : wpLeft   // 转入工序的X坐标\r\n      wpTop = trModel.isVerticalLayout ? wpTop : wpTop + wpHeight + trModel.vSpace     // 转入工序的Y坐标\r\n      CpsMainPanel.createWorkProcessControls(trModel, workProcessId, transferWorkProcess, workProcessChild, wpLeft, wpTop)\r\n    }\r\n  }\r\n\r\n  /** 创建CPS组件\r\n   * x：组件的X坐标\r\n   * y：组件的Y坐标\r\n   * w：组件的宽度\r\n   * h：组件的高度\r\n   * controlFilter：组件的功能类型\r\n   * relId：组件的关联主数据ID\r\n   * relName：组件的关联主数据名称\r\n   * */\r\n  static createCpsControl(x, y, w, h, controlFilter, relId, relName) {\r\n    let controlId = undefined\r\n    for (let i = 0; i < CpsMainPanel.controlAttrArr.length; i++) {\r\n      let controlAttr = CpsMainPanel.controlAttrArr[i]\r\n      if (controlAttr.relId === relId && controlAttr.controlFilter === controlFilter && controlAttr.relName === relName) {\r\n        controlAttr.OccurrenceTimes = controlAttr.OccurrenceTimes + 1\r\n        controlId = controlAttr.controlId\r\n        break\r\n      }\r\n    }\r\n    if (!controlId) {\r\n      let cpsControlId = controlFilter.substring(0, controlFilter.length - 1);\r\n      let cpsControl = $(CpsCommonConst.cpsControlsId).find('div[id=\\'' + cpsControlId + '\\']').clone()\r\n      if (cpsControl) {\r\n        controlId = cpsControlId + '_' + parseInt(Math.random() * 1000)\r\n        while ($(CpsCommonConst.canvasId).find('div[id=\\'' + id + '\\']').length > 0) {\r\n          controlId = cpsControlId + '_' + parseInt(Math.random() * 1000)\r\n        }\r\n        let imgSize = w > h ? h - 30 : w - 30\r\n        let controlName = cpsControl.find('div.cps-controls-span').text() + '[' + relName + ']'\r\n        cpsControl = cpsControl.attr({'id': controlId, 'data-relid': relId})\r\n        cpsControl.css({\r\n          'position': 'absolute',\r\n          'margin': '0',\r\n          'width': w + 'px',\r\n          'height': h + 'px',\r\n          'left': x + 'px',\r\n          'top': y + 'px'\r\n        })\r\n        cpsControl.find('div.cps-controls-region').css('border', '1px solid #d2c06c')\r\n        cpsControl.find('img').css({'width': imgSize + 'px', 'height': imgSize + 'px'})\r\n        cpsControl.find('div.cps-controls-span').text(controlName)\r\n        let model = CpsControlsAttr.getControlAttr(cpsControl)\r\n        CpsCommonVar.controlLineModels.ControlDetail.push(model)\r\n        $(CpsCommonConst.canvasId).append(cpsControl)\r\n        CpsMainPanel.resizeDrawSvg(cpsControl)\r\n        let controlAttr = {\r\n          'x': x,\r\n          'y': y,\r\n          'w': w,\r\n          'h': h,\r\n          'controlId': controlId,\r\n          'relId': relId,\r\n          'relName': relName,\r\n          'controlFilter': controlFilter,\r\n          'OccurrenceTimes': 1\r\n        }\r\n        CpsMainPanel.controlAttrArr.push(controlAttr)\r\n      }\r\n    }\r\n    return controlId\r\n  }\r\n\r\n  /** 创建CPS组件关联的矢量线\r\n   * startControlId：矢量线的起始组件\r\n   * endControlId：矢量线的结束组件\r\n   * pointIndex：矢量线的组件连接类型，用'-'分隔表示起始组件类型和结束组件类型\r\n   * */\r\n  static createVectorLine(startControlId, endControlId, pointIndex) {\r\n    // 若矢量线已存在，将不再重建一条矢量线\r\n    let polyline = $(CpsCommonConst.drawSVGId).find('polyline[data-startid=\\'' + startControlId + '\\'][data-endid=\\'' + endControlId + '\\']')\r\n    if (polyline && polyline.length > 0) {\r\n      return\r\n    }\r\n    let startControl = $(CpsCommonConst.canvasId).find('div[id=\\'' + startControlId + '\\']')\r\n    let endControl = $(CpsCommonConst.canvasId).find('div[id=\\'' + endControlId + '\\']')\r\n    let startPointIndex = parseInt(pointIndex.split('-')[0])\r\n    let endPointIndex = parseInt(pointIndex.split('-')[1])\r\n    if (startControl && endControl) {\r\n      let startRectPoints = CpsCommonFunc.getElementPoints(startControl, 'controlRect')\r\n      let endRectPoints = CpsCommonFunc.getElementPoints(endControl, 'controlRect')\r\n      let startRectIndex = startPointIndex - 1\r\n      let endRectIndex = endPointIndex - 1\r\n      let startControlPoint = CpsCommonFunc.getPolylineStartOrEndPoint(startRectPoints[startRectIndex].x, startRectPoints[startRectIndex].y, startPointIndex, true)\r\n      let endControlPoint = CpsCommonFunc.getPolylineStartOrEndPoint(endRectPoints[endRectIndex].x, endRectPoints[endRectIndex].y, endPointIndex, false)\r\n      let x1 = parseInt(startControlPoint.split(',')[0])\r\n      let y1 = parseInt(startControlPoint.split(',')[1])\r\n      let x2 = parseInt(endControlPoint.split(',')[0])\r\n      let y2 = parseInt(endControlPoint.split(',')[1])\r\n      let points = CpsCommonFunc.getPointsByStyle(x1, y1, x2, y2, startPointIndex, endPointIndex)\r\n      let polyline = CpsEventPanel.createSvgPolyline(points, startControlId, startPointIndex, endControlId, endPointIndex)\r\n      if (polyline) {\r\n        $(CpsCommonConst.drawSVGId).append(polyline)\r\n        let model = {\r\n          'ProduceControlLineId': '',\r\n          'RowId': 0,\r\n          'RowNo': 0,\r\n          'StartControlId': startControlId,\r\n          'EndControlId': endControlId,\r\n          'LineId': $(polyline).attr('id'),\r\n          'Coordinates': points,\r\n          'ControlStartType': startPointIndex,\r\n          'ControlEndType': endPointIndex\r\n        }\r\n        CpsCommonVar.controlLineModels.VectorLineDetail.push(model)\r\n      }\r\n    }\r\n  }\r\n\r\n  /** 去除当前标准工艺路线下的组件布局\r\n   * controlId：当前标准工艺路线的组件ID\r\n   * */\r\n  static delAllTechRouteControlLines(controlId) {\r\n    let controlIdArr = []\r\n    // 检索出跟标准工艺路线相关联的工段的组件ID数组\r\n    let workshopSectionIdArr = []\r\n    // 标准工艺路线去除相关联的组件矢量线的矢量线数据数组\r\n    let trVectorArray = []\r\n    // 检索出所有跟标准工艺路线相关联的物料/标准工艺类型/工段的组件ID放入controlIdArr并删除其矢量线和矢量线数据\r\n    for (let i = 0; i < CpsCommonVar.controlLineModels.VectorLineDetail.length; i++) {\r\n      let model = CpsCommonVar.controlLineModels.VectorLineDetail[i]\r\n      // 检索出所有跟标准工艺路线相关联的起始物料/起始标准工艺类型/结束工段的组件ID\r\n      if (model.EndControlId === controlId && (model.StartControlId.indexOf(CpsCommonConst.comMaterial) === 0 || model.StartControlId.indexOf(CpsCommonConst.comTechRouteType) === 0)) {\r\n        $(CpsCommonConst.drawSVGId).find('polyline[id=\\'' + model.LineId + '\\']').remove()\r\n        controlIdArr.push(model.StartControlId)\r\n      } else if (model.StartControlId === controlId && model.EndControlId.indexOf(CpsCommonConst.comWorkshopSection) === 0) {\r\n        $(CpsCommonConst.drawSVGId).find('polyline[id=\\'' + model.LineId + '\\']').remove()\r\n        controlIdArr.push(model.EndControlId)\r\n        workshopSectionIdArr.push(model.EndControlId)\r\n      } else {\r\n        trVectorArray.push(model)\r\n      }\r\n    }\r\n    // 检索出所有跟工段相关联的入口工序的组件ID数组\r\n    let workProcessIdArray = []\r\n    // 工段去除相关联的组件矢量线的矢量线数据数组\r\n    let wsVectorArray = []\r\n    // 检索出所有跟工段相关联的工序的组件ID并删除其矢量线和矢量线数据\r\n    for (let i = 0; i < trVectorArray.length; i++) {\r\n      let model = trVectorArray[i]\r\n      // 检索出所有跟工段相关联的入口工序的组件ID\r\n      if ($.inArray(model.StartControlId, workshopSectionIdArr) !== -1 && model.EndControlId.indexOf(CpsCommonConst.comWorkProcess) === 0) {\r\n        $(CpsCommonConst.drawSVGId).find('polyline[id=\\'' + model.LineId + '\\']').remove()\r\n        controlIdArr.push(model.EndControlId)\r\n        workProcessIdArray.push(model.EndControlId)\r\n      } else {\r\n        wsVectorArray.push(model)\r\n      }\r\n    }\r\n\r\n    CpsCommonVar.controlLineModels.VectorLineDetail = wsVectorArray\r\n    // 检索出所有跟入口工序相关联的工序、站点配置、物料类别（物料）的组件ID并删除其矢量线和矢量线数据\r\n    while (workProcessIdArray.length > 0) {\r\n      workProcessIdArray = CpsMainPanel.delWorkProcessRelLines(workProcessIdArray, controlIdArr)\r\n    }\r\n    // 标准工艺路线去除相关联的组件布局的组件数据数组\r\n    let controlArray = []\r\n    for (let i = 0; i < CpsCommonVar.controlLineModels.ControlDetail.length; i++) {\r\n      let model = CpsCommonVar.controlLineModels.ControlDetail[i]\r\n      if ($.inArray(model.ControlId, controlIdArr) !== -1) {\r\n        $(CpsCommonConst.canvasId).find('div[id=\\'' + model.ControlId + '\\']').remove()\r\n      } else {\r\n        controlArray.push(model)\r\n      }\r\n    }\r\n    CpsCommonVar.controlLineModels.ControlDetail = controlArray\r\n  }\r\n\r\n  /** 去除当前工序数组上的关联矢量线并返回当前工序的下级工序的工序组件ID数组\r\n   * startWorkProcessIdArray：当前工序的组件ID数组\r\n   * controlIdArr：与标准工艺路线相关联的组件ID数组\r\n   * */\r\n  static delWorkProcessRelLines(startWorkProcessIdArray, controlIdArr) {\r\n    let workProcessIdArray = []                                      // 检索出所有跟工序相关联的工序的组件ID数组\r\n    let materialTypeIdArray = []                                     // 检索出所有跟工序相关联的起始物料类别的组件ID数组\r\n    let wpVectorArray = []                                         // 工序去除相关联的组件矢量线的矢量线数据数组\r\n    for (let i = 0; i < CpsCommonVar.controlLineModels.VectorLineDetail.length; i++) {\r\n      let model = CpsCommonVar.controlLineModels.VectorLineDetail[i]\r\n      // 检索出所有跟工序相关联的开始站点配置/开始物料类别/结束工序的组件ID\r\n      if ($.inArray(model.EndControlId, startWorkProcessIdArray) !== -1 && model.StartControlId.indexOf(CpsCommonConst.comWorkstationConfig) === 0) {\r\n        $(CpsCommonConst.drawSVGId).find('polyline[id=\\'' + model.LineId + '\\']').remove()\r\n        controlIdArr.push(model.StartControlId)\r\n      } else if ($.inArray(model.EndControlId, startWorkProcessIdArray) !== -1 && model.StartControlId.indexOf(CpsCommonConst.comMaterialType) === 0) {\r\n        $(CpsCommonConst.drawSVGId).find('polyline[id=\\'' + model.LineId + '\\']').remove()\r\n        controlIdArr.push(model.StartControlId)\r\n        materialTypeIdArray.push(model.StartControlId)\r\n      } else if ($.inArray(model.StartControlId, startWorkProcessIdArray) !== -1 && model.EndControlId.indexOf(CpsCommonConst.comWorkProcess) === 0) {\r\n        $(CpsCommonConst.drawSVGId).find('polyline[id=\\'' + model.LineId + '\\']').remove()\r\n        controlIdArr.push(model.EndControlId)\r\n        workProcessIdArray.push(model.EndControlId)\r\n      } else {\r\n        wpVectorArray.push(model)\r\n      }\r\n    }\r\n\r\n    let mtVectorArray = []                                         // 物料类别去除相关联的组件矢量线的矢量线数据数组\r\n    // 检索出所有跟物料类别相关联的物料的组件ID并删除其矢量线和矢量线数据\r\n    for (let i = 0; i < wpVectorArray.length; i++) {\r\n      let model = wpVectorArray[i]\r\n      // 检索出所有跟物料类别相关联的起始物料的组件ID\r\n      if ($.inArray(model.EndControlId, materialTypeIdArray) !== -1 && model.StartControlId.indexOf(CpsCommonConst.comMaterial) === 0) {\r\n        $(CpsCommonConst.drawSVGId).find('polyline[id=\\'' + model.LineId + '\\']').remove()\r\n        controlIdArr.push(model.StartControlId)\r\n      } else {\r\n        mtVectorArray.push(model)\r\n      }\r\n    }\r\n\r\n    CpsCommonVar.controlLineModels.VectorLineDetail = mtVectorArray\r\n    return workProcessIdArray;\r\n  }\r\n}\r\nexport {CpsMainPanel}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/cps/CpsMainPanel.js","/**********************************************************************\r\n * CopyRight 2017 杭州集控科技有限公司 版权所有\r\n * 功能描述：CPS功能组件属性模块的主窗口\r\n * 创建标识：Huangwz 2017/04/28\r\n *\r\n * 修改标识：Huangwz 2017/04/28\r\n *\r\n ************************************************************************/\r\nimport {CpsCommonFunc, CpsCommonVar, CpsCommonConst} from './CpsCommon'\r\nimport {CpsMainPanel} from './CpsMainPanel'\r\nimport {CpsPolylineAttr} from './CpsPolylineAttr'\r\nclass CpsControlsAttr {\r\n  // 当前选中功能组件的某一属性的原始值\r\n  static originalValue = null\r\n  // 当前选中功能组件的组件ID\r\n  static originalControlId = null\r\n\r\n  /** 创建CPS组件属性模块 位于平台下右上方，高度不定，宽度固定250\r\n   * 【模型编号，行标识，行号，关联主数据ID，功能标识，组件ID，组件别名，组件类型，X坐标，Y坐标，组件宽度，组件高度，组件描述】\r\n   * 【ProduceControlLineId，RowId，RowNo，RelId，ProgId，ControlId，ControlName，ControlType，XCoordinate，YCoordinate，ControlWidth，ControlHeight，ControlDescription】\r\n   * */\r\n  static createControlAttrPanel() {\r\n    CpsCommonVar.controlsAttrPanel = Ext.create('Ext.form.Panel', {\r\n      id: 'cpsControlAttr-panel',\r\n      title: 'CPS组件属性',\r\n      bodyPadding: 5,\r\n      width: '100%',\r\n      flex: 1,\r\n      defaults: {\r\n        anchor: '100%'\r\n      },\r\n      cls: 'cps-x-panel',\r\n      items: [\r\n        {\r\n          xtype: 'textfield',\r\n          name: 'ProduceControlLineId',\r\n          fieldLabel: '模型编号',\r\n          labelWidth: 60,\r\n          hidden: true\r\n        },\r\n        {\r\n          xtype: 'numberfield',\r\n          name: 'RowId',\r\n          fieldLabel: '行标识',\r\n          labelWidth: 60,\r\n          value: 0,\r\n          minValue: 0,\r\n          step: 1,\r\n          hidden: true\r\n        },\r\n        {\r\n          xtype: 'numberfield',\r\n          name: 'RowNo',\r\n          fieldLabel: '行号',\r\n          labelWidth: 60,\r\n          value: 0,\r\n          minValue: 0,\r\n          step: 1,\r\n          hidden: true\r\n        },\r\n        {\r\n          xtype: 'textfield',\r\n          name: 'RelId',\r\n          fieldLabel: '主数据ID',\r\n          labelWidth: 60,\r\n          maxLength: 20,\r\n          maxLengthText: '此项最大输入长度为20',\r\n          readOnly: true\r\n        },\r\n        {\r\n          xtype: 'textfield',\r\n          name: 'ProgId',\r\n          fieldLabel: '功能标识',\r\n          labelWidth: 60,\r\n          allowBlank: false,\r\n          blankText: '此项必填',\r\n          enforceMaxLength: true,\r\n          maxLength: 50,\r\n          maxLengthText: '此项最大输入长度为50',\r\n          readOnly: true\r\n        },\r\n        {\r\n          xtype: 'textfield',\r\n          name: 'ControlId',\r\n          fieldLabel: '组件ID',\r\n          labelWidth: 60,\r\n          allowBlank: false,\r\n          blankText: '此项必填',\r\n          enforceMaxLength: true,\r\n          maxLength: 100,\r\n          maxLengthText: '此项最大输入长度为100',\r\n          listeners: {\r\n            focus: function (component, eventObject, eOpts) {\r\n              CpsControlsAttr.originalValue = component.value\r\n            },\r\n            blur: function (component, eventObject, eOpts) {\r\n              if (CpsControlsAttr.originalValue) {\r\n                // 当组件ID为空时，恢复原值并提示错误信息\r\n                if (component.value) {\r\n                  // 新的组件ID值与原值不同时，进行验证并赋予新值\r\n                  if(component.value.split('_')[0] !== CpsControlsAttr.originalValue.split('_')[0]){\r\n                    Ext.Msg.alert('提示', '当前组件ID必须以' + CpsControlsAttr.originalValue.split('_')[0] + '_为开头！')\r\n                    this.up('form').getForm().findField('ControlId').setValue(CpsControlsAttr.originalValue)\r\n                  } else if (component.value !== CpsControlsAttr.originalValue) {\r\n                    // 若在画板中找到DOM的id为新值的元素时，说明已存在此组件ID值，违反了组件ID唯一性约束\r\n                    let control = $(CpsCommonConst.canvasId).find('div[id=\\'' + component.value + '\\']')\r\n                    if (control.length > 0) {\r\n                      Ext.Msg.alert('提示', '当前组件ID已存在，请重新修改其值！')\r\n                      this.up('form').getForm().findField('ControlId').setValue(CpsControlsAttr.originalValue)\r\n                    } else {\r\n                      // 更新当前选中组件DOM中属性id的值为新值,并更新CPS产线模型中的组件配置明细数据下的此组件的组件ID值为新值\r\n                      $(CpsCommonConst.canvasId).find('div[id=\\'' + CpsControlsAttr.originalValue + '\\']').attr('id', component.value)\r\n                      CpsControlsAttr.setControlAttr(CpsControlsAttr.originalValue, 'ControlId', component.value)\r\n                      // 更新CPS产线模型中与此组件相关联的所有在矢量线配置明细数据中的矢量线中的属性值\r\n                      CpsPolylineAttr.updatePolylineIdByControlId(CpsControlsAttr.originalValue, component.value)\r\n                    }\r\n                  }\r\n                  CpsControlsAttr.originalValue = null\r\n                } else {\r\n                  Ext.Msg.alert('提示', '当前组件ID不可为空！')\r\n                  this.up('form').getForm().findField('ControlId').setValue(CpsControlsAttr.originalValue)\r\n                }\r\n              }\r\n            }\r\n          }\r\n        },\r\n        {\r\n          xtype: 'textfield',\r\n          name: 'ControlName',\r\n          fieldLabel: '组件别名',\r\n          labelWidth: 60,\r\n          allowBlank: false,\r\n          blankText: '此项必填',\r\n          enforceMaxLength: true,\r\n          maxLength: 100,\r\n          maxLengthText: '此项最大输入长度为100',\r\n          listeners: {\r\n            focus: function (component, eventObject, eOpts) {\r\n              CpsControlsAttr.originalControlId = this.up('form').getForm().findField('ControlId').getValue()\r\n              CpsControlsAttr.originalValue = component.value\r\n            },\r\n            blur: function (component, eventObject, eOpts) {\r\n              if (CpsControlsAttr.originalControlId) {\r\n                // 当组件别名为空时，恢复原值并提示错误信息\r\n                if (component.value) {\r\n                  if (component.value !== CpsControlsAttr.originalValue) {\r\n                    // 更新当前选中组件DOM中属性组件别名的值为新值,并更新CPS产线模型中的组件配置明细数据下的此组件的组件别名值为新值\r\n                    $(CpsCommonConst.canvasId).find('div[id=\\'' + CpsControlsAttr.originalControlId + '\\']').find('div.cps-controls-span').text(component.value)\r\n                    CpsControlsAttr.setControlAttr(CpsControlsAttr.originalControlId, 'ControlName', component.value)\r\n                  }\r\n                } else {\r\n                  Ext.Msg.alert('提示', '当前组件别名不可为空！')\r\n                  this.up('form').getForm().findField('ControlName').setValue(CpsControlsAttr.originalValue)\r\n                  $(CpsCommonConst.canvasId).find('div[id=\\'' + CpsControlsAttr.originalControlId + '\\']').find('div.cps-controls-span').text(CpsControlsAttr.originalValue)\r\n                }\r\n                CpsControlsAttr.originalControlId = null\r\n              }\r\n            },\r\n            change: function (field, newValue, oldValue, eOpts) {\r\n              if (CpsControlsAttr.originalControlId) {\r\n                $(CpsCommonConst.canvasId).find('div[id=\\'' + CpsControlsAttr.originalControlId + '\\']').find('div.cps-controls-span').text(newValue)\r\n              }\r\n            }\r\n          }\r\n        },\r\n        {\r\n          xtype: 'fieldcontainer',\r\n          fieldLabel: '组件类型',\r\n          labelWidth: 60,\r\n          defaultType: 'radiofield',\r\n          defaults: {\r\n            flex: 1\r\n          },\r\n          layout: 'vbox',\r\n          items: [\r\n            {\r\n              boxLabel: 'CPS组件',\r\n              name: 'ControlType',\r\n              inputValue: '0',\r\n              checked: true,\r\n              id: 'radio0',\r\n              readOnly: true\r\n            },\r\n            {\r\n              boxLabel: '系统组件',\r\n              name: 'ControlType',\r\n              inputValue: '1',\r\n              id: 'radio1',\r\n              readOnly: true\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          xtype: 'numberfield',\r\n          name: 'XCoordinate',\r\n          fieldLabel: 'X坐标',\r\n          labelWidth: 60,\r\n          value: 1,\r\n          minValue: 1,\r\n          step: 1,\r\n          allowBlank: false,\r\n          blankText: '此项必填',\r\n          allowDecimals: false,\r\n          negativeText: '此项为整数值且大于0',\r\n          listeners: {\r\n            focus: function (component, eventObject, eOpts) {\r\n              $(CpsCommonConst.drawSVGId).find('circle[name=\\'zoomCircle\\']').css({'display': 'none'})\r\n              CpsControlsAttr.originalControlId = this.up('form').getForm().findField('ControlId').getValue()\r\n              CpsControlsAttr.originalValue = component.value\r\n            },\r\n            blur: function (component, eventObject, eOpts) {\r\n              if (CpsControlsAttr.originalControlId) {\r\n                let cpsControl = $(CpsCommonConst.canvasId).find('div[id=\\'' + CpsControlsAttr.originalControlId + '\\']')\r\n                // 当X坐标为空或0或小于0时，恢复原值并提示错误信息\r\n                if (component.value && component.value > 0) {\r\n                  // 新的X坐标值与原值不同时，进行验证并赋予新值\r\n                  if (component.value !== CpsControlsAttr.originalValue) {\r\n                    CpsControlsAttr.moveCpsControl(cpsControl, component.value, null)\r\n                  }\r\n                } else {\r\n                  Ext.Msg.alert('提示', '当前X坐标不可为空且大于0！')\r\n                  this.up('form').getForm().findField('XCoordinate').setValue(CpsControlsAttr.originalValue)\r\n                  cpsControl.css('left', CpsControlsAttr.originalValue)\r\n                }\r\n                CpsControlsAttr.originalControlId = null\r\n                CpsMainPanel.setSizeDrawSvg()  //CPS组件移动后敛缩\r\n              }\r\n            },\r\n            change: function (field, newValue, oldValue, eOpts) {\r\n              if (CpsControlsAttr.originalControlId) {\r\n                let cpsControl = $(CpsCommonConst.canvasId).find('div[id=\\'' + CpsControlsAttr.originalControlId + '\\']')\r\n                if (newValue > 0) {\r\n                  cpsControl.css('left', newValue)\r\n                  CpsMainPanel.resizeDrawSvg(cpsControl)  //CPS组件移动中拓展\r\n                } else {\r\n                  this.up('form').getForm().findField('XCoordinate').setValue(1)\r\n                  cpsControl.css('left', 1)\r\n                }\r\n              }\r\n            }\r\n          }\r\n        },\r\n        {\r\n          xtype: 'numberfield',\r\n          name: 'YCoordinate',\r\n          labelWidth: 60,\r\n          fieldLabel: 'Y坐标',\r\n          value: 1,\r\n          minValue: 1,\r\n          step: 1,\r\n          allowBlank: false,\r\n          blankText: '此项必填',\r\n          allowDecimals: false,\r\n          negativeText: '此项为整数值且大于0',\r\n          listeners: {\r\n            focus: function (component, eventObject, eOpts) {\r\n              $(CpsCommonConst.drawSVGId).find('circle[name=\\'zoomCircle\\']').css({'display': 'none'})\r\n              CpsControlsAttr.originalControlId = this.up('form').getForm().findField('ControlId').getValue()\r\n              CpsControlsAttr.originalValue = component.value\r\n            },\r\n            blur: function (component, eventObject, eOpts) {\r\n              if (CpsControlsAttr.originalControlId) {\r\n                let cpsControl = $(CpsCommonConst.canvasId).find('div[id=\\'' + CpsControlsAttr.originalControlId + '\\']')\r\n                // 当Y坐标为空或0或小于0时，恢复原值并提示错误信息\r\n                if (component.value && component.value > 0) {\r\n                  if (component.value !== CpsControlsAttr.originalValue) {\r\n                    CpsControlsAttr.moveCpsControl(cpsControl, null, component.value)\r\n                  }\r\n                } else {\r\n                  Ext.Msg.alert('提示', '当前Y坐标不可为空且大于0！')\r\n                  this.up('form').getForm().findField('YCoordinate').setValue(CpsControlsAttr.originalValue)\r\n                  cpsControl.css('top', CpsControlsAttr.originalValue)\r\n                }\r\n                CpsControlsAttr.originalControlId = null\r\n                CpsMainPanel.setSizeDrawSvg()  //CPS组件移动后敛缩\r\n              }\r\n            },\r\n            change: function (field, newValue, oldValue, eOpts) {\r\n              if (CpsControlsAttr.originalControlId) {\r\n                let cpsControl = $(CpsCommonConst.canvasId).find('div[id=\\'' + CpsControlsAttr.originalControlId + '\\']')\r\n                if (newValue > 0) {\r\n                  cpsControl.css('top', newValue)\r\n                  CpsMainPanel.resizeDrawSvg(cpsControl)  //CPS组件移动中拓展\r\n                } else {\r\n                  this.up('form').getForm().findField('YCoordinate').setValue(1)\r\n                  cpsControl.css('top', 1)\r\n                }\r\n              }\r\n            }\r\n          }\r\n        },\r\n        {\r\n          xtype: 'numberfield',\r\n          name: 'ControlWidth',\r\n          fieldLabel: '组件宽度',\r\n          labelWidth: 60,\r\n          value: 90,\r\n          minValue: 50,\r\n          step: 1,\r\n          allowBlank: false,\r\n          blankText: '此项必填',\r\n          allowDecimals: false,\r\n          negativeText: '此项为整数值且不得小于50',\r\n          listeners: {\r\n            focus: function (component, eventObject, eOpts) {\r\n              $(CpsCommonConst.drawSVGId).find('circle[name=\\'zoomCircle\\']').css({'display': 'none'})\r\n              CpsControlsAttr.originalControlId = this.up('form').getForm().findField('ControlId').getValue()\r\n              CpsControlsAttr.originalValue = component.value\r\n            },\r\n            blur: function (component, eventObject, eOpts) {\r\n              if (CpsControlsAttr.originalControlId) {\r\n                let cpsControl = $(CpsCommonConst.canvasId).find('div[id=\\'' + CpsControlsAttr.originalControlId + '\\']')\r\n                // 获得此组件高度，在修改组件宽度时，此高度限定了组件宽度最小为组件高度-30，即不得小于图标的宽高度\r\n                let cHeight = this.up('form').getForm().findField('ControlHeight').getValue()\r\n                // 当组件宽度为空或小于50时，恢复原值并提示错误信息\r\n                if (component.value && component.value >= 50) {\r\n                  if (component.value !== CpsControlsAttr.originalValue) {\r\n                    // 更新当前选中组件DOM中属性id的值为selControlId的元素，为其的width属性赋值，并更新CPS产线模型中的组件配置明细数据下的此组件的组件宽度值为新值\r\n                    cpsControl.css('width', component.value)\r\n                    CpsControlsAttr.setControlAttr(CpsControlsAttr.originalControlId, 'ControlWidth', component.value)\r\n                    // 更新CPS产线模型中的矢量线配置明细数据下所有与此组件相关联的矢量线的矢量坐标\r\n                    CpsPolylineAttr.updatePolylinePointsByControlId(CpsControlsAttr.originalControlId)\r\n                  }\r\n                } else {\r\n                  Ext.Msg.alert('提示', '当前组件宽度不可为空且不小于50！')\r\n                  this.up('form').getForm().findField('ControlWidth').setValue(CpsControlsAttr.originalValue)\r\n                  cpsControl.css('width', CpsControlsAttr.originalValue)\r\n                  // 在恢复组件原始宽度时，取得组件原始宽度和高度的最小值-30，作为图标实际的宽高度\r\n                  if (cHeight > CpsControlsAttr.originalValue) {\r\n                    cHeight = CpsControlsAttr.originalValue\r\n                  }\r\n                  cpsControl.find('img').css({\r\n                    'width': (cHeight - 30) + 'px',\r\n                    'height': (cHeight - 30) + 'px'\r\n                  })\r\n                }\r\n                CpsControlsAttr.originalControlId = null\r\n                CpsMainPanel.setSizeDrawSvg()  //CPS组件移动后敛缩\r\n              }\r\n            },\r\n            change: function (field, newValue, oldValue, eOpts) {\r\n              if (CpsControlsAttr.originalControlId) {\r\n                let cpsControl = $(CpsCommonConst.canvasId).find('div[id=\\'' + CpsControlsAttr.originalControlId + '\\']')\r\n                // 在修改组件原始宽度时，取得组件当前宽度和高度的最小值-30，作为图标实际的宽高度\r\n                let cHeight = this.up('form').getForm().findField('ControlHeight').getValue()\r\n                // 当组件宽度不足50时，强制变成50\r\n                if (newValue < 50) {\r\n                  newValue = 50\r\n                  this.up('form').getForm().findField('ControlWidth').setValue(50)\r\n                  cpsControl.css('width', newValue)\r\n                } else {\r\n                  cpsControl.css('width', newValue)\r\n                  CpsMainPanel.resizeDrawSvg(cpsControl)  //CPS组件移动中拓展\r\n                }\r\n                if (cHeight > newValue) {\r\n                  cHeight = newValue\r\n                }\r\n                cpsControl.find('img').css({\r\n                  'width': (cHeight - 30) + 'px',\r\n                  'height': (cHeight - 30) + 'px'\r\n                })\r\n              }\r\n            }\r\n          }\r\n        },\r\n        {\r\n          xtype: 'numberfield',\r\n          name: 'ControlHeight',\r\n          fieldLabel: '组件高度',\r\n          labelWidth: 60,\r\n          value: 60,\r\n          minValue: 40,\r\n          step: 1,\r\n          allowBlank: false,\r\n          blankText: '此项必填',\r\n          allowDecimals: false,\r\n          negativeText: '此项为整数值且不得小于40',\r\n          listeners: {\r\n            focus: function (component, eventObject, eOpts) {\r\n              $(CpsCommonConst.drawSVGId).find('circle[name=\\'zoomCircle\\']').css({'display': 'none'})\r\n              CpsControlsAttr.originalControlId = this.up('form').getForm().findField('ControlId').getValue()\r\n              CpsControlsAttr.originalValue = component.value\r\n            },\r\n            blur: function (component, eventObject, eOpts) {\r\n              if (CpsControlsAttr.originalControlId) {\r\n                let cpsControl = $(CpsCommonConst.canvasId).find('div[id=\\'' + CpsControlsAttr.originalControlId + '\\']')\r\n                // 获得此组件宽度，在修改组件高度时，此宽度限定了组件高度最小为组件宽度，即不得小于图标的宽高度\r\n                let cWidth = this.up('form').getForm().findField('ControlWidth').getValue()\r\n                if (component.value && component.value >= 40) {\r\n                  if (component.value !== CpsControlsAttr.originalValue) {\r\n                    // 更新当前选中组件DOM中属性id的值为selControlId的元素，为其的height属性赋值，并更新CPS产线模型中的组件配置明细数据下的此组件的组件高度值为新值\r\n                    cpsControl.css('height', component.value)\r\n                    CpsControlsAttr.setControlAttr(CpsControlsAttr.originalControlId, 'ControlHeight', component.value)\r\n                    // 更新CPS产线模型中的矢量线配置明细数据下所有与此组件相关联的矢量线的矢量坐标\r\n                    CpsPolylineAttr.updatePolylinePointsByControlId(CpsControlsAttr.originalControlId)\r\n                  }\r\n                } else {\r\n                  Ext.Msg.alert('提示', '当前组件高度不可为空且不小于40！')\r\n                  this.up('form').getForm().findField('ControlHeight').setValue(CpsControlsAttr.originalValue)\r\n                  cpsControl.css('height', CpsControlsAttr.originalValue)\r\n                  // 在恢复组件高度时，取得组件原始高度和宽度的最小值-30，作为图标实际的宽高度\r\n                  if (cWidth > CpsControlsAttr.originalValue) {\r\n                    cWidth = CpsControlsAttr.originalValue\r\n                  }\r\n                  cpsControl.find('img').css({\r\n                    'width': (cWidth - 30) + 'px',\r\n                    'height': (cWidth - 30) + 'px'\r\n                  })\r\n                }\r\n                CpsControlsAttr.originalControlId = null\r\n                CpsMainPanel.setSizeDrawSvg()  //CPS组件移动后敛缩\r\n              }\r\n            },\r\n            change: function (field, newValue, oldValue, eOpts) {\r\n              if (CpsControlsAttr.originalControlId) {\r\n                let cpsControl = $(CpsCommonConst.canvasId).find('div[id=\\'' + CpsControlsAttr.originalControlId + '\\']')\r\n                // 在修改组件高度时，取得组件当前高度和宽度的最小值-30，作为图标实际的宽高度\r\n                let cWidth = this.up('form').getForm().findField('ControlWidth').getValue()\r\n                // 当组件高度不足40时，强制变成40\r\n                if (newValue < 40) {\r\n                  newValue = 40\r\n                  this.up('form').getForm().findField('ControlHeight').setValue(40)\r\n                  cpsControl.css('height', newValue)\r\n                } else {\r\n                  cpsControl.css('height', newValue)\r\n                  CpsMainPanel.resizeDrawSvg(cpsControl)  //CPS组件移动中拓展\r\n                }\r\n                if (cWidth > newValue) {\r\n                  cWidth = newValue\r\n                }\r\n                cpsControl.find('img').css({\r\n                  'width': (cWidth - 30) + 'px',\r\n                  'height': (cWidth - 30) + 'px'\r\n                })\r\n              }\r\n            }\r\n          }\r\n        },\r\n        {\r\n          xtype: 'textareafield',\r\n          name: 'ControlDescription',\r\n          height: 200,\r\n          fieldLabel: '组件描述',\r\n          labelWidth: 60,\r\n          grow: true,\r\n          enforceMaxLength: true,\r\n          maxLength: 2000,\r\n          maxLengthText: '此项最大输入长度为2000',\r\n          listeners: {\r\n            focus: function (component) {\r\n              CpsControlsAttr.originalControlId = this.up('form').getForm().findField('ControlId').getValue()\r\n              CpsControlsAttr.originalValue = component.value\r\n            },\r\n            blur: function (component) {\r\n              if (CpsControlsAttr.originalControlId) {\r\n                // 更新CPS产线模型中的组件配置明细数据下的此组件的组件描述值为新值\r\n                CpsControlsAttr.setControlAttr(CpsControlsAttr.originalControlId, 'ControlDescription', component.value)\r\n                CpsControlsAttr.originalControlId = null\r\n              }\r\n            }\r\n          }\r\n        }\r\n      ]\r\n    })\r\n    return CpsCommonVar.controlsAttrPanel\r\n  }\r\n\r\n  /** 将功能组件的属性在CPS组件属性模块中显示出来并将此组件设置成被选中状态\r\n   * elDrag：组件元素，通过方法getControlAttr得到其model值，为组件属性模块的from赋值，去除其他组件的选中样式，将此组件设置成被选中状态\r\n   * */\r\n  static setControlAttrFormValues(elDrag) {\r\n    let model = CpsControlsAttr.getControlAttr(elDrag)\r\n    CpsCommonVar.controlsAttrPanel.getForm().setValues(model)\r\n    Ext.getCmp('radio' + model.ControlType).setValue(true)\r\n    $(CpsCommonConst.canvasId).find('div.cps-controls-region').css({\r\n      'background-color': '#eceff4',\r\n      'border': '1px solid #bbcfde'\r\n    })\r\n    elDrag.find('div.cps-controls-region').css({\r\n      'background-color': '#f7f8db',\r\n      'border': '1px solid #d2c06c'\r\n    })\r\n  }\r\n\r\n  /** 根据组件的宽高度和坐标，返回CPS功能组件的最小宽高度\r\n   * elDrag：CPS功能组件的元素\r\n   * width：CPS功能组件的宽度\r\n   * height：CPS功能组件的高度\r\n   * left：CPS功能组件的X坐标\r\n   * top：CPS功能组件的Y坐标\r\n   * changeWidth：CPS功能组件的宽度发生变化\r\n   * */\r\n  static getCpsControlMinWidthOrHeight(elDrag, width, height, left, top, changeWidth) {\r\n    let minValue = 0\r\n    if (changeWidth) {\r\n      minValue = width\r\n      if (minValue < 50) {\r\n        minValue = 50\r\n      } else if (left) {\r\n        elDrag.css('left', left)\r\n        CpsCommonVar.controlsAttrPanel.getForm().findField('XCoordinate').setValue(left)\r\n      }\r\n      elDrag.css('width', minValue)\r\n      CpsCommonVar.controlsAttrPanel.getForm().findField('ControlWidth').setValue(minValue)\r\n      // 在修改组件原始宽度时，取得组件当前宽度和高度的最小值-30，作为图标实际的宽高度\r\n      if (height > minValue) {\r\n        height = minValue\r\n      }\r\n      elDrag.find('img').css({\r\n        'width': (height - 30) + 'px',\r\n        'height': (height - 30) + 'px'\r\n      })\r\n    } else {\r\n      minValue = height\r\n      if (minValue < 40) {\r\n        minValue = 40\r\n      } else if (top) {\r\n        elDrag.css('top', top)\r\n        CpsCommonVar.controlsAttrPanel.getForm().findField('YCoordinate').setValue(top)\r\n      }\r\n      elDrag.css('height', minValue)\r\n      CpsCommonVar.controlsAttrPanel.getForm().findField('ControlHeight').setValue(minValue)\r\n      // 在修改组件高度时，取得组件当前高度和宽度的最小值-30，作为图标实际的宽高度\r\n      if (width > minValue) {\r\n        width = minValue\r\n      }\r\n      elDrag.find('img').css({\r\n        'width': (width - 30) + 'px',\r\n        'height': (width - 30) + 'px'\r\n      })\r\n    }\r\n    return minValue\r\n  }\r\n\r\n  /** 通过拖拽CPS功能组件上的拉伸圆点来改变组件的宽高、坐标以及内部的image图标大小\r\n   * elDrag：CPS功能组件的元素\r\n   * controlPoint：拉伸圆点属性【当前CPS组件宽高、坐标，拉伸圆点的起始坐标、原点位置（顺时针1-8个点）】\r\n   * */\r\n  static changeCpsControlAttr(elDrag, controlPoint) {\r\n    let width = controlPoint.width\r\n    let height = controlPoint.height\r\n    let left = controlPoint.left\r\n    let top = controlPoint.top\r\n    let cx = event.clientX - parseInt(controlPoint.point.split(',')[0])\r\n    let cy = event.clientY - parseInt(controlPoint.point.split(',')[1])\r\n    if (controlPoint.index === 1) {\r\n      let minWidth = CpsControlsAttr.getCpsControlMinWidthOrHeight(elDrag, width - cx, height - cy, left + cx, null, true)\r\n      CpsControlsAttr.getCpsControlMinWidthOrHeight(elDrag, minWidth, height - cy, null, top + cy, false)\r\n    } else if (controlPoint.index === 3) {\r\n      let minWidth = CpsControlsAttr.getCpsControlMinWidthOrHeight(elDrag, width + cx, height - cy, null, null, true)\r\n      CpsControlsAttr.getCpsControlMinWidthOrHeight(elDrag, minWidth, height - cy, null, top + cy, false)\r\n    } else if (controlPoint.index === 5) {\r\n      let minWidth = CpsControlsAttr.getCpsControlMinWidthOrHeight(elDrag, width + cx, height + cy, null, null, true)\r\n      CpsControlsAttr.getCpsControlMinWidthOrHeight(elDrag, minWidth, height + cy, null, null, false)\r\n    } else if (controlPoint.index === 7) {\r\n      let minWidth = CpsControlsAttr.getCpsControlMinWidthOrHeight(elDrag, width - cx, height + cy, left + cx, null, true)\r\n      CpsControlsAttr.getCpsControlMinWidthOrHeight(elDrag, minWidth, height + cy, null, null, false)\r\n    } else if (controlPoint.index === 2) {\r\n      CpsControlsAttr.getCpsControlMinWidthOrHeight(elDrag, width, height - cy, null, top + cy, false)\r\n    } else if (controlPoint.index === 6) {\r\n      CpsControlsAttr.getCpsControlMinWidthOrHeight(elDrag, width, height + cy, null, null, false)\r\n    } else if (controlPoint.index === 4) {\r\n      CpsControlsAttr.getCpsControlMinWidthOrHeight(elDrag, width + cx, height, null, null, true)\r\n    } else if (controlPoint.index === 8) {\r\n      CpsControlsAttr.getCpsControlMinWidthOrHeight(elDrag, width - cx, height, left + cx, null, true)\r\n    }\r\n  }\r\n\r\n  /** 通过快捷键Ctrl+-来控制CPS功能组件上的宽高以及内部的image图标大小\r\n   * cpsControl：CPS功能组件元素\r\n   * enlarge：是否是放大操作，若是则宽度增加0.2倍，否则缩小0.2倍，高度等比例缩放\r\n   * */\r\n  static zoomCpsControl(cpsControl, enlarge) {\r\n    $(CpsCommonConst.drawSVGId).find('circle[name=\\'zoomCircle\\']').css({'display': 'none'})\r\n    let controlId = cpsControl.attr('id')\r\n    let width = Math.round(cpsControl.css('width').replace('px', ''))\r\n    let height = Math.round(cpsControl.css('height').replace('px', ''))\r\n    let zoomWidth = enlarge ? width * 1.2 : width / 1.2\r\n    let zoomHeight = zoomWidth / width * height\r\n    zoomWidth = CpsControlsAttr.getCpsControlMinWidthOrHeight(cpsControl, zoomWidth, zoomHeight, null, null, true)\r\n    CpsControlsAttr.setControlAttr(controlId, 'ControlWidth', zoomWidth)\r\n    zoomHeight = CpsControlsAttr.getCpsControlMinWidthOrHeight(cpsControl, zoomWidth, zoomHeight, null, null, false)\r\n    CpsControlsAttr.setControlAttr(controlId, 'ControlHeight', zoomHeight)\r\n    // 更新CPS产线模型中的矢量线配置明细数据下所有与此组件相关联的矢量线的矢量坐标\r\n    CpsPolylineAttr.updatePolylinePointsByControlId(controlId)\r\n    CpsMainPanel.resizeDrawSvg(cpsControl)  //CPS组件移动中拓展\r\n  }\r\n\r\n  /** 移动CPS功能组件时，改变组件的坐标\r\n   * cpsControl：CPS功能组件元素\r\n   * left：组件的X坐标\r\n   * top：组件的Y坐标\r\n   * */\r\n  static moveCpsControl(cpsControl, left, top) {\r\n    let controlId = cpsControl.attr('id')\r\n    if (top) {\r\n      // 更新组件属性id的值为selControlId的组件元素，为其的top属性赋值，并更新CPS产线模型中的组件配置明细数据下的此组件的Y坐标值为新值\r\n      cpsControl.css('top', top)\r\n      CpsControlsAttr.setControlAttr(controlId, 'YCoordinate', top)\r\n      CpsCommonVar.controlsAttrPanel.getForm().findField('YCoordinate').setValue(top)\r\n    }\r\n    if (left) {\r\n      // 更新组件属性id的值为selControlId的组件元素，为其的left属性赋值，并更新CPS产线模型中的组件配置明细数据下的此组件的X坐标值为新值\r\n      cpsControl.css('left', left)\r\n      CpsControlsAttr.setControlAttr(controlId, 'XCoordinate', left)\r\n      CpsCommonVar.controlsAttrPanel.getForm().findField('XCoordinate').setValue(left)\r\n    }\r\n    // 更新CPS产线模型中的矢量线配置明细数据下所有与此组件相关联的矢量线的矢量坐标\r\n    CpsPolylineAttr.updatePolylinePointsByControlId(controlId)\r\n    CpsMainPanel.resizeDrawSvg(cpsControl)  //CPS组件移动中拓展\r\n  }\r\n\r\n  /** 将功能组件上的属性组装成model并返回\r\n   * elDrag：组件元素，可以从中获得相关元素值，组装成初始model值，再从组件配置明细中获得完整model值\r\n   * */\r\n  static getControlAttr(elDrag) {\r\n    let progId = elDrag.attr('data-progid')\r\n    let controlId = elDrag.attr('id')\r\n    let relId = elDrag.attr('data-relid')\r\n    let controlName = elDrag.find('div.cps-controls-span').text()\r\n    let xCoordinate = Math.round(elDrag.css('left').replace('px', ''))\r\n    let yCoordinate = Math.round(elDrag.css('top').replace('px', ''))\r\n    let controlWidth = Math.round(elDrag.css('width').replace('px', ''))\r\n    let controlHeight = Math.round(elDrag.css('height').replace('px', ''))\r\n    let relIcon = elDrag.find('img').attr('src')\r\n    let model = {\r\n      'ProduceControlLineId': '',\r\n      'RowId': 0,\r\n      'RowNo': 0,\r\n      'ProgId': progId,\r\n      'ControlId': controlId,\r\n      'ControlName': controlName,\r\n      'ControlDescription': controlName,\r\n      'ControlType': 0,\r\n      'XCoordinate': xCoordinate,\r\n      'YCoordinate': yCoordinate,\r\n      'ControlWidth': controlWidth,\r\n      'ControlHeight': controlHeight,\r\n      'RelIcon': relIcon,\r\n      'RelId': relId\r\n    }\r\n    for (let i = 0; i < CpsCommonVar.controlLineModels.ControlDetail.length; i++) {\r\n      if (CpsCommonVar.controlLineModels.ControlDetail[i].ControlId === controlId) {\r\n        model.ProduceControlLineId = CpsCommonVar.controlLineModels.ControlDetail[i].ProduceControlLineId\r\n        model.ControlDescription = CpsCommonVar.controlLineModels.ControlDetail[i].ControlDescription\r\n        model.ControlType = CpsCommonVar.controlLineModels.ControlDetail[i].ControlType\r\n        break\r\n      }\r\n    }\r\n    return model\r\n  }\r\n\r\n  /** 更新CPS产线模型的组件配置明细数据中的某个组件中的属性值\r\n   * controlId：组件ID，组件明细数据下的组件标识，具有唯一性\r\n   * attrName：所要更新的属性名称\r\n   * attrValue：所要更新的属性值\r\n   * */\r\n  static setControlAttr(controlId, attrName, attrValue) {\r\n    for (let i = 0; i < CpsCommonVar.controlLineModels.ControlDetail.length; i++) {\r\n      if (CpsCommonVar.controlLineModels.ControlDetail[i].ControlId === controlId) {\r\n        CpsCommonVar.controlLineModels.ControlDetail[i][attrName] = attrValue    // 将此组件的相应数据在数组变量中替换掉\r\n        break\r\n      }\r\n    }\r\n  }\r\n\r\n  /** 设置功能组件的关联主数据ID和组件别名（由功能名称和关联主数据名称组成）\r\n   * controlId：功能组件的组件ID，具有唯一性\r\n   * controlName：功能组件的组件别名\r\n   * relId：功能组件的关联主数据ID\r\n   * relName：功能组件的关联主数据名称\r\n   * */\r\n  static setControlRelIdName(controlId, controlName, relId, relName) {\r\n    controlName = controlName.split('[')[0] + '[' + relName + ']'\r\n\r\n    $(CpsCommonConst.canvasId).find('div[id=\\'' + controlId + '\\']').attr('data-relid', relId)\r\n    $(CpsCommonConst.canvasId).find('div[id=\\'' + controlId + '\\']').find('div.cps-controls-span').text(controlName)\r\n    CpsControlsAttr.setControlAttr(controlId, 'RelId', relId)\r\n    CpsControlsAttr.setControlAttr(controlId, 'ControlName', controlName)\r\n    if (CpsCommonVar.controlsAttrPanel.getForm().findField('ControlId').getValue() === controlId) {\r\n      CpsCommonVar.controlsAttrPanel.getForm().findField('RelId').setValue(relId)\r\n      CpsCommonVar.controlsAttrPanel.getForm().findField('ControlName').setValue(controlName)\r\n    }\r\n  }\r\n\r\n  /** 修正产线模型中的组件配置中的功能组件数据以及其相关联的矢量线数据\r\n   * existControl：画板中是否存在此组件，true表示此组件是画板中拖拽的，新增此组件属性，false表示此组件是从外部拖拽的，修改此组件属性\r\n   * controlId：拖拽的功能组件元素的组件ID。新增时添加此组件的属性model，修改时修改此组件的属性model并修正其关联矢量线属性值\r\n   * */\r\n  static updateControlByControlId(existControl, controlId) {\r\n    let elDrag = $(CpsCommonConst.canvasId).find('div[id=\\'' + controlId + '\\']')\r\n    if (elDrag.length > 0) {\r\n      let model = CpsControlsAttr.getControlAttr(elDrag)\r\n      if (!existControl) {\r\n        CpsCommonVar.controlLineModels.ControlDetail.push(model)\r\n      } else {\r\n        for (let i = 0; i < CpsCommonVar.controlLineModels.ControlDetail.length; i++) {\r\n          if (CpsCommonVar.controlLineModels.ControlDetail[i].ControlId === controlId) {\r\n            // 将此组件模型从组件配置明细数组中替换掉\r\n            CpsCommonVar.controlLineModels.ControlDetail.splice(i, 1, model)\r\n            // 修正CPS产线模型中的矢量线配置明细数据中所有矢量线属性起始组件或结束组件值为controlId值的矢量线\r\n            CpsPolylineAttr.updatePolylinePointsByControlId(controlId)\r\n            break\r\n          }\r\n        }\r\n      }\r\n      CpsMainPanel.setSizeDrawSvg()  //CPS组件移动后敛缩\r\n    }\r\n  }\r\n\r\n  /** 删除CPS产线模型中的组件配置明细数据中组件属性组件ID值为controlId值的组件\r\n   * controlId：组件ID，组件明细数据下的组件标识，具有唯一性\r\n   * */\r\n  static deleteControlByControlId(controlId) {\r\n    $(CpsCommonConst.drawSVGId).find('circle[name=\\'zoomCircle\\']').css({'display': 'none'})\r\n    for (let i = 0; i < CpsCommonVar.controlLineModels.ControlDetail.length; i++) {\r\n      if (CpsCommonVar.controlLineModels.ControlDetail[i].ControlId === controlId) {\r\n        // 将此组件模型从组件配置明细数组中删除\r\n        CpsCommonVar.controlLineModels.ControlDetail.splice(i, 1)\r\n        // 删除CPS产线模型中的矢量线配置明细数据中所有矢量线属性起始组件或结束组件值为controlId值的矢量线\r\n        CpsPolylineAttr.deletePolylineByControlId(controlId)\r\n        break\r\n      }\r\n    }\r\n    // 若被删除的此组件已被选中并在CPS组件属性Form中展示出来，则恢复所由组件的样式为初始状态且重置CPS组件属性Form\r\n    if (CpsCommonVar.controlsAttrPanel.getForm().findField('ControlId').getValue() === controlId) {\r\n      CpsCommonFunc.removeControlSelStyle()\r\n    }\r\n    // 将删除画板中组件属性组件ID值为controlId的组件\r\n    $(CpsCommonConst.canvasId).find('div[id=\\'' + controlId + '\\']').remove()\r\n    CpsMainPanel.setSizeDrawSvg()  //CPS组件移动后敛缩\r\n  }\r\n}\r\nexport {CpsControlsAttr}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/cps/CpsControlsAttr.js","/**********************************************************************\r\n * CopyRight 2017 杭州集控科技有限公司 版权所有\r\n * 功能描述：矢量线属性模块的主窗口\r\n * 创建标识：Huangwz 2017/04/28\r\n *\r\n * 修改标识：Huangwz 2017/04/28\r\n *\r\n ************************************************************************/\r\nimport {CpsCommonFunc, CpsCommonVar, CpsCommonConst} from './CpsCommon'\r\nimport {CpsMainPanel} from './CpsMainPanel'\r\nimport {CpsControlsAttr} from './CpsControlsAttr'\r\nimport {CpsEventPanel} from './CpsEventPanel'\r\nclass CpsPolylineAttr {\r\n  // 当前矢量线组件相对于画板元素偏X移位\r\n  static canvasOffsetX = 0\r\n  // 当前矢量线组件相对于画板元素偏Y移位\r\n  static canvasOffsetY = 0\r\n\r\n  /** 创建矢量线属性模块 位于平台下右下方，高度170，宽度固定250\r\n   * 【模型编号，行标识，行号，起始组件ID，结束组件ID，矢量线ID，矢量坐标，起点类型【无上右下左】，尾点类型【无上右下左】】\r\n   * 【ProduceControlLineId，RowId，RowNo，StartControlId，EndControlId，LineId，Coordinates，ControlStartType，ControlEndType】\r\n   * */\r\n  static createPolylineAttrPanel() {\r\n    CpsCommonVar.polylineAttrPanel = Ext.create('Ext.form.Panel', {\r\n      id: 'cpsPolylineAttr-panel',\r\n      title: '矢量线属性',\r\n      bodyPadding: 5,\r\n      width: '100%',\r\n      height: 170,\r\n      flex: 0,\r\n      defaults: {\r\n        anchor: '100%'\r\n      },\r\n      cls: 'cps-x-panel',\r\n      items: [\r\n        {\r\n          xtype: 'textfield',\r\n          name: 'ProduceControlLineId',\r\n          fieldLabel: '模型编号',\r\n          labelWidth: 60,\r\n          hidden: true\r\n        },\r\n        {\r\n          xtype: 'numberfield',\r\n          name: 'RowId',\r\n          fieldLabel: '行标识',\r\n          labelWidth: 60,\r\n          value: 0,\r\n          minValue: 0,\r\n          step: 1,\r\n          hidden: true\r\n        },\r\n        {\r\n          xtype: 'numberfield',\r\n          name: 'RowNo',\r\n          fieldLabel: '行号',\r\n          labelWidth: 60,\r\n          value: 0,\r\n          minValue: 0,\r\n          step: 1,\r\n          hidden: true\r\n        },\r\n        {\r\n          xtype: 'textfield',\r\n          name: 'StartControlId',\r\n          fieldLabel: '起始组件',\r\n          labelWidth: 60,\r\n          allowBlank: false,\r\n          blankText: '此项必填',\r\n          enforceMaxLength: true,\r\n          maxLength: 100,\r\n          maxLengthText: '此项最大输入长度为100',\r\n          readOnly: true\r\n        },\r\n        {\r\n          xtype: 'textfield',\r\n          name: 'EndControlId',\r\n          fieldLabel: '结束组件',\r\n          labelWidth: 60,\r\n          allowBlank: false,\r\n          blankText: '此项必填',\r\n          enforceMaxLength: true,\r\n          maxLength: 100,\r\n          maxLengthText: '此项最大输入长度为100',\r\n          readOnly: true\r\n        },\r\n        {\r\n          xtype: 'textfield',\r\n          name: 'LineId',\r\n          fieldLabel: '矢量线ID',\r\n          labelWidth: 60,\r\n          allowBlank: false,\r\n          blankText: '此项必填',\r\n          enforceMaxLength: true,\r\n          maxLength: 100,\r\n          maxLengthText: '此项最大输入长度为100',\r\n          readOnly: true\r\n        },\r\n        {\r\n          xtype: 'textfield',\r\n          name: 'Coordinates',\r\n          fieldLabel: '矢量坐标',\r\n          labelWidth: 60,\r\n          allowBlank: false,\r\n          blankText: '此项必填',\r\n          enforceMaxLength: true,\r\n          maxLength: 100,\r\n          maxLengthText: '此项最大输入长度为100',\r\n          readOnly: true\r\n        },\r\n        {\r\n          xtype: 'fieldcontainer',\r\n          fieldLabel: '起点类型',\r\n          labelWidth: 60,\r\n          defaultType: 'radiofield',\r\n          defaults: {\r\n            flex: 1\r\n          },\r\n          layout: 'hbox',\r\n          items: [\r\n            {\r\n              boxLabel: '其他',\r\n              name: 'ControlStartType',\r\n              inputValue: '0',\r\n              checked: true,\r\n              id: 'startRadio0',\r\n              readOnly: true\r\n            },\r\n            {\r\n              boxLabel: '上',\r\n              name: 'ControlStartType',\r\n              inputValue: '1',\r\n              id: 'startRadio1',\r\n              readOnly: true\r\n            },\r\n            {\r\n              boxLabel: '右',\r\n              name: 'ControlStartType',\r\n              inputValue: '2',\r\n              id: 'startRadio2',\r\n              readOnly: true\r\n            },\r\n            {\r\n              boxLabel: '下',\r\n              name: 'ControlStartType',\r\n              inputValue: '3',\r\n              id: 'startRadio3',\r\n              readOnly: true\r\n            },\r\n            {\r\n              boxLabel: '左',\r\n              name: 'ControlStartType',\r\n              inputValue: '4',\r\n              id: 'startRadio4',\r\n              readOnly: true\r\n            }\r\n          ],\r\n          hidden: true\r\n        },\r\n        {\r\n          xtype: 'fieldcontainer',\r\n          fieldLabel: '尾点类型',\r\n          labelWidth: 60,\r\n          defaultType: 'radiofield',\r\n          defaults: {\r\n            flex: 1\r\n          },\r\n          layout: 'hbox',\r\n          items: [\r\n            {\r\n              boxLabel: '其他',\r\n              name: 'ControlEndType',\r\n              inputValue: '0',\r\n              checked: true,\r\n              id: 'endRadio0',\r\n              readOnly: true\r\n            },\r\n            {\r\n              boxLabel: '上',\r\n              name: 'ControlEndType',\r\n              inputValue: '1',\r\n              id: 'endRadio1',\r\n              readOnly: true\r\n            },\r\n            {\r\n              boxLabel: '右',\r\n              name: 'ControlEndType',\r\n              inputValue: '2',\r\n              id: 'endRadio2',\r\n              readOnly: true\r\n            },\r\n            {\r\n              boxLabel: '下',\r\n              name: 'ControlEndType',\r\n              inputValue: '3',\r\n              id: 'endRadio3',\r\n              readOnly: true\r\n            },\r\n            {\r\n              boxLabel: '左',\r\n              name: 'ControlEndType',\r\n              inputValue: '4',\r\n              id: 'endRadio4',\r\n              readOnly: true\r\n            }\r\n          ],\r\n          hidden: true\r\n        }\r\n      ]\r\n    })\r\n    return CpsCommonVar.polylineAttrPanel\r\n  }\r\n\r\n  /** 粘贴已经复制的SVG矢量线到画板中并绑定相关事件\r\n   * svgPolyline：已复制的SVG矢量线元素\r\n   * */\r\n  static copySvgPolyline(svgPolyline) {\r\n    let curPoints = null\r\n    let oraPoints = svgPolyline.attr('points').split(' ')\r\n    for (let i = 0; i < oraPoints.length; i++) {\r\n      let pointX = parseInt(oraPoints[i].split(',')[0]) + 10\r\n      let pointY = parseInt(oraPoints[i].split(',')[1]) + 10\r\n      curPoints = curPoints + pointX + ',' + pointY + ' '\r\n    }\r\n    // 定义一个变量lineId用于表示矢量线的矢量ID，具有唯一标识\r\n    let lineId = 'drawLine_' + parseInt(Math.random() * 10000)\r\n    while ($(CpsCommonConst.drawSVGId).find('line[id=\\'' + lineId + '\\']').length > 0) {\r\n      lineId = 'drawLine_' + parseInt(Math.random() * 10000)\r\n    }\r\n    // 定义一个变量polyline来表示在SVG上创建的一条多边曲线\r\n    let polyline = document.createElementNS('http://www.w3.org/2000/svg', 'polyline')\r\n    if (polyline) {\r\n      polyline.setAttribute('name', 'drawLine')\r\n      polyline.setAttribute('id', lineId)\r\n      polyline.setAttribute('marker-end', 'url(#markerArrow)')\r\n      polyline.setAttribute('style', 'fill:none;stroke:red;stroke-width:2;cursor:move')\r\n      polyline.setAttribute('data-endid', '')\r\n      polyline.setAttribute('data-endtype', '0')\r\n      polyline.setAttribute('data-startid', '')\r\n      polyline.setAttribute('data-starttype', '0')\r\n      polyline.setAttribute('points', curPoints.substr(0, curPoints.length - 1))\r\n      $(CpsCommonConst.drawSVGId).append(polyline)\r\n      CpsPolylineAttr.updatePolylineByLineId(lineId)\r\n      CpsPolylineAttr.setPolylineOtherEvent()\r\n      CpsEventPanel.copySvgPolyline = $(polyline)\r\n      CpsMainPanel.setSizeDrawSvg()  //CPS组件移动后敛缩\r\n    }\r\n  }\r\n\r\n  /** 根据鼠标的坐标获得最近的吸附在组件位置方点的方点数据\r\n   * 通过变量positionRectPoints得到组件的位置方点数组，\r\n   * 然后计算每个方点的吸附范围【X坐标为leftX-rightX，Y坐标为lowerY-upperY】，\r\n   * 处于组件方点的吸附范围，则返回此方点数据，否则返回空值\r\n   * */\r\n  static getPositionRectPoint(rectX, rectY) {\r\n    let positionRectPoints = CpsCommonVar.positionRectPoints\r\n    if (positionRectPoints) {\r\n      for (let i = 0; i < positionRectPoints.length; i++) {\r\n        let point = positionRectPoints[i]\r\n        let leftX = point.x\r\n        let rightX = point.x + point.width\r\n        let lowerY = point.y\r\n        let upperY = point.y + point.height\r\n        if (rectX < rightX && rectX > leftX && rectY < upperY && rectY > lowerY) {\r\n          return point\r\n        }\r\n      }\r\n    }\r\n    return null\r\n  }\r\n\r\n  /** 创建一条多边曲线，计算其实际起点坐标和起点位置类型并将其附加入SVG中，绑定其相关事件\r\n   * 变量lineId为此多边曲线的矢量ID，为唯一标识。\r\n   * */\r\n  static createPolyline(clientX, clientY) {\r\n    let startControlId = ''\r\n    let startPointIndex = 0\r\n    let x1 = clientX - CpsPolylineAttr.canvasOffsetX\r\n    let y1 = clientY - CpsPolylineAttr.canvasOffsetY\r\n    let points = x1 + ',' + y1\r\n    // 当前鼠标坐标是否吸附在组件方点的上，若是则给矢量线开始组件和开始组件类型赋值并计算当前吸附点的实际坐标，否则给予默认值\r\n    let point = CpsPolylineAttr.getPositionRectPoint(x1, y1)\r\n    if (point) {\r\n      startControlId = point.controlId\r\n      startPointIndex = point.index\r\n      // 根据矢量线起点吸附的组件方点的XY坐标和方点位置，计算实际吸附点坐标\r\n      points = CpsCommonFunc.getPolylineStartOrEndPoint(point.x, point.y, point.index, true)\r\n    }\r\n    let polyline = CpsEventPanel.createSvgPolyline(points, startControlId, startPointIndex, '', 0)\r\n    if (polyline) {\r\n      $(CpsCommonConst.drawSVGId).append(polyline)\r\n      let lineId = $(polyline).attr('id')\r\n      CpsPolylineAttr.setPolylineAttrFormValues(lineId)\r\n      CpsCommonVar.selVectorLineId = lineId\r\n    }\r\n  }\r\n\r\n  /** 矢量线移动过程中设置其坐标集且更新起始组件或结束组件的组件ID和组件位置类型\r\n   * 通过变量vectorLinePoint来判定绘制矢量线时起尾端的变化情况，0表示起点不定，尾点固定；1表示起点固定，尾点不定\r\n   * 根据实际鼠标所在坐标点（吸附在组件上的位置方点时为方点的坐标）和矢量线起点坐标计算出相应的矢量线坐标集\r\n   * */\r\n  static updatePolyline(polyline, clientX, clientY) {\r\n    let points = polyline.attr('points').split(' ')\r\n    let x1, x2, y1, y2\r\n    // 按住箭头方向拖动连接线,箭头坐标不定\r\n    if (CpsCommonVar.vectorLineIndex === 1) {\r\n      x1 = parseInt(points[0].split(',')[0])\r\n      y1 = parseInt(points[0].split(',')[1])\r\n      x2 = clientX - CpsPolylineAttr.canvasOffsetX\r\n      y2 = clientY - CpsPolylineAttr.canvasOffsetY\r\n      // 当前鼠标坐标是否吸附在组件方点的上，若是则给矢量线结束组件和结束组件类型赋值并计算当前吸附点的实际坐标，否则给予默认值\r\n      let point = CpsPolylineAttr.getPositionRectPoint(x2, y2)\r\n      if (point) {\r\n        // 根据矢量线起点吸附的组件方点的XY坐标和方点位置，计算实际吸附点坐标\r\n        let coordinate = CpsCommonFunc.getPolylineStartOrEndPoint(point.x, point.y, point.index, false)\r\n        x2 = parseInt(coordinate.split(',')[0])\r\n        y2 = parseInt(coordinate.split(',')[1])\r\n        polyline.attr({'data-endid': point.controlId, 'data-endtype': point.index})\r\n        CpsCommonVar.polylineAttrPanel.getForm().findField('EndControlId').setValue(point.controlId)\r\n      } else {\r\n        polyline.attr({'data-endid': '', 'data-endtype': 0})\r\n        CpsCommonVar.polylineAttrPanel.getForm().findField('EndControlId').setValue('')\r\n      }\r\n    }\r\n    // 按住非箭头方向拖动连接线,非箭头坐标不定\r\n    if (CpsCommonVar.vectorLineIndex === 0) {\r\n      let lstIndex = points.length - 1\r\n      x1 = clientX - CpsPolylineAttr.canvasOffsetX\r\n      y1 = clientY - CpsPolylineAttr.canvasOffsetY\r\n      x2 = parseInt(points[lstIndex].split(',')[0])\r\n      y2 = parseInt(points[lstIndex].split(',')[1])\r\n      // 当前鼠标坐标是否吸附在组件方点的上，若是则给矢量线开始组件和开始组件类型赋值并计算当前吸附点的实际坐标，否则给予默认值\r\n      let point = CpsPolylineAttr.getPositionRectPoint(x1, y1)\r\n      if (point) {\r\n        // 根据矢量线起点吸附的组件方点的XY坐标和方点位置，计算实际吸附点坐标\r\n        let coordinate = CpsCommonFunc.getPolylineStartOrEndPoint(point.x, point.y, point.index, true)\r\n        x1 = parseInt(coordinate.split(',')[0])\r\n        y1 = parseInt(coordinate.split(',')[1])\r\n        polyline.attr({'data-startid': point.controlId, 'data-starttype': point.index})\r\n        CpsCommonVar.polylineAttrPanel.getForm().findField('StartControlId').setValue(point.controlId)\r\n      } else {\r\n        polyline.attr({'data-startid': '', 'data-starttype': 0})\r\n        CpsCommonVar.polylineAttrPanel.getForm().findField('StartControlId').setValue('')\r\n      }\r\n    }\r\n    let controlStartType = parseInt(polyline.attr('data-starttype'))\r\n    let controlEndType = parseInt(polyline.attr('data-endtype'))\r\n    points = CpsCommonFunc.getPointsByStyle(x1, y1, x2, y2, controlStartType, controlEndType)\r\n    polyline.attr({'points': points})\r\n    CpsCommonVar.polylineAttrPanel.getForm().findField('Coordinates').setValue(points)\r\n  }\r\n\r\n  /** 矢量线绘制结束，根据矢量线的矢量坐标集的规则判定是否保存矢量线数据\r\n   * 矢量坐标集的规则：坐标个数不得小于两个，起尾坐标不得相同，起尾坐标的横向（X坐标范围）和竖向（Y坐标范围）不得小于4\r\n   * */\r\n  static savePolyline(polyline) {\r\n    let lineId = polyline.attr('id')\r\n    let points = polyline.attr('points').split(' ')\r\n    if (points.length < 2 || points[0] === points[points.length - 1]) {\r\n      CpsPolylineAttr.deletePolylineByLineId(lineId)\r\n    } else {\r\n      let x1 = parseInt(points[0].split(',')[0])\r\n      let y1 = parseInt(points[0].split(',')[1])\r\n      let x2 = parseInt(points[points.length - 1].split(',')[0])\r\n      let y2 = parseInt(points[points.length - 1].split(',')[1])\r\n      if (Math.abs(x2 - x1) < 4 && Math.abs(y2 - y1) < 4) {\r\n        CpsPolylineAttr.deletePolylineByLineId(lineId)\r\n      } else {\r\n        let model = CpsPolylineAttr.getPolylineModel(polyline)\r\n        let errorArr = CpsCommonFunc.checkProduceLineModel(model)\r\n        if (errorArr.length > 0) {\r\n          toastr.error(errorArr[0].msg, '错误矢量线绘制')\r\n          CpsPolylineAttr.deletePolylineByLineId(lineId)\r\n        } else {\r\n          CpsPolylineAttr.updatePolylineByLineId(lineId)\r\n          CpsPolylineAttr.setPolylineOtherEvent()\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /** 根据矢量线的矢量ID值找到CPS产线模型中矢量线配置明细数据中的矢量线模型并将模型数据赋值给矢量线属性模块\r\n   * lineId：矢量ID，矢量线明细数据下的矢量线标识，具有唯一性\r\n   * */\r\n  static setPolylineAttrFormValues(lineId) {\r\n    let polyline = $(CpsCommonConst.drawSVGId).find('polyline[id=\\'' + lineId + '\\']')\r\n    if (polyline.length > 0) {\r\n      let model = CpsPolylineAttr.getPolylineModel(polyline)\r\n      CpsCommonVar.polylineAttrPanel.getForm().setValues(model)\r\n      Ext.getCmp('startRadio' + model.ControlStartType).setValue(true)\r\n      Ext.getCmp('endRadio' + model.ControlEndType).setValue(true)\r\n    }\r\n  }\r\n\r\n  /** 根据矢量线的属性获取它的矢量线模型\r\n   * polyline：矢量线元素\r\n   * */\r\n  static getPolylineModel(polyline) {\r\n    let lineId = polyline.attr('id')\r\n    let startControlId = polyline.attr('data-startid')\r\n    let endControlId = polyline.attr('data-endid')\r\n    let coordinates = polyline.attr('points')\r\n    let controlStartType = polyline.attr('data-starttype')\r\n    let controlEndType = polyline.attr('data-endtype')\r\n    let model = {\r\n      'ProduceControlLineId': '',\r\n      'RowId': 0,\r\n      'RowNo': 0,\r\n      'StartControlId': startControlId,\r\n      'EndControlId': endControlId,\r\n      'LineId': lineId,\r\n      'Coordinates': coordinates,\r\n      'ControlStartType': parseInt(controlStartType),\r\n      'ControlEndType': parseInt(controlEndType)\r\n    }\r\n    return model\r\n  }\r\n\r\n  /** 更新CPS产线模型中的矢量线配置明细数据中矢量线属性矢量ID值为lineId的矢量线\r\n   * lineId：矢量ID，矢量线明细数据下的矢量线标识，具有唯一性\r\n   * 当产线模型中的矢量线配置明细中矢量线（矢量ID值为lineId）存在时，先删除此矢量线数据再添加此矢量线新的数据\r\n   * */\r\n  static updatePolylineByLineId(lineId) {\r\n    let polyline = $(CpsCommonConst.drawSVGId).find('polyline[id=\\'' + lineId + '\\']')\r\n    let model = CpsPolylineAttr.getPolylineModel(polyline)\r\n    for (let i = 0; i < CpsCommonVar.controlLineModels.VectorLineDetail.length; i++) {\r\n      if (CpsCommonVar.controlLineModels.VectorLineDetail[i].LineId === lineId) {\r\n        CpsCommonVar.controlLineModels.VectorLineDetail.splice(i, 1)\r\n        break\r\n      }\r\n    }\r\n    CpsCommonVar.controlLineModels.VectorLineDetail.push(model)\r\n  }\r\n\r\n  /** 组件ID更改，更新CPS产线模型中的矢量线配置明细数据中所有与此组件相关联的矢量线中的起始/结束组件属性值\r\n   * controlId：组件ID，组件明细数据下的组件标识，具有唯一性\r\n   * newValue：所要更新的属性值\r\n   * */\r\n  static updatePolylineIdByControlId(controlId, newValue) {\r\n    // 若与此组件相关联的矢量线的属性在矢量线属性模块中显示出来，则在矢量线属性模块中重新加载此矢量线的属性\r\n    let lineId = CpsCommonVar.polylineAttrPanel.getForm().findField('LineId').getValue()\r\n    if (lineId) {\r\n      let startControlId = CpsCommonVar.polylineAttrPanel.getForm().findField('StartControlId').getValue()\r\n      let endControlId = CpsCommonVar.polylineAttrPanel.getForm().findField('EndControlId').getValue()\r\n      if (startControlId === controlId) {\r\n        CpsCommonVar.polylineAttrPanel.getForm().findField('StartControlId').setValue(newValue)\r\n      }\r\n      if (endControlId === controlId) {\r\n        CpsCommonVar.polylineAttrPanel.getForm().findField('EndControlId').setValue(newValue)\r\n      }\r\n    }\r\n    // 更新CPS产线模型中的矢量线配置明细数据下所有与此组件相关联的矢量线的起始组件和结束组件值为新值\r\n    for (let i = 0; i < CpsCommonVar.controlLineModels.VectorLineDetail.length; i++) {\r\n      // 遍历此矢量线的模型数据\r\n      let model = CpsCommonVar.controlLineModels.VectorLineDetail[i]\r\n      if (model.StartControlId === controlId) {\r\n        model.StartControlId = newValue\r\n        // 更新所有与此组件相关联的矢量线DOM中的起始组件属性data-startcontrolid的值为新值\r\n        $(CpsCommonConst.drawSVGId).find('polyline[id=\\'' + model.LineId + '\\']').attr({'data-startid': newValue})\r\n      }\r\n      if (model.EndControlId === controlId) {\r\n        model.EndControlId = newValue\r\n        // 更新所有与此组件相关联的矢量线DOM中的结束组件属性data-endcontrolid的值为新值\r\n        $(CpsCommonConst.drawSVGId).find('polyline[id=\\'' + model.LineId + '\\']').attr({'data-endid': newValue})\r\n      }\r\n    }\r\n  }\r\n\r\n  /** 组件位置或宽高更改，更新CPS产线模型中的矢量线配置明细数据中所有与此组件相关联的矢量线中的矢量坐标属性值\r\n   * controlId：组件ID，组件明细数据下的组件标识，具有唯一性\r\n   * */\r\n  static updatePolylinePointsByControlId(controlId) {\r\n    let startVectors = $(CpsCommonConst.drawSVGId).find('polyline[data-startid=\\'' + controlId + '\\']')\r\n    let endVectors = $(CpsCommonConst.drawSVGId).find('polyline[data-endid=\\'' + controlId + '\\']')\r\n    if (startVectors.length > 0 || endVectors.length > 0) {\r\n      // 根据组件ID得到画板中相应的组件DOM元素\r\n      let eleControl = $(CpsCommonConst.canvasId).find('div[id=\\'' + controlId + '\\']')\r\n      // 根据得到的组件计算出此组件周围的位置圆点属性数组\r\n      let positionRectPoints = CpsCommonFunc.getElementPoints(eleControl, 'controlRect')\r\n      // 组件拖动时与非箭头方向相关联的矢量线\r\n      for (let i = 0; i < CpsCommonVar.controlLineModels.VectorLineDetail.length; i++) {\r\n        // 遍历此矢量线的模型数据\r\n        let model = CpsCommonVar.controlLineModels.VectorLineDetail[i]\r\n        if (model.StartControlId === controlId || model.EndControlId === controlId) {\r\n          // 矢量线的起点关联到组件上的位置圆点的所在位置类型【上右下左-1234】\r\n          let controlStartType = model.ControlStartType\r\n          // 矢量线的尾点关联到组件上的位置圆点的所在位置类型【上右下左-1234】\r\n          let controlEndType = model.ControlEndType\r\n          // 得到矢量线的矢量坐标中的坐标数组\r\n          let pointArr = model.Coordinates.split(' ')\r\n          // 矢量线的矢量坐标的起点坐标的X坐标\r\n          let x1 = parseInt(pointArr[0].split(',')[0])\r\n          // 矢量线的矢量坐标的起点坐标的Y坐标\r\n          let y1 = parseInt(pointArr[0].split(',')[1])\r\n          // 矢量线的矢量坐标的尾点坐标的X坐标\r\n          let x2 = parseInt(pointArr[pointArr.length - 1].split(',')[0])\r\n          // 矢量线的矢量坐标的尾点坐标的Y坐标\r\n          let y2 = parseInt(pointArr[pointArr.length - 1].split(',')[1])\r\n\r\n          if (model.StartControlId === controlId) {               // 修正矢量线属性起始组件为此组件ID值的所有矢量线的坐标属性值\r\n            // 矢量线的起点的X坐标,默认为其所关联的组件上的位置圆点的X坐标\r\n            x1 = positionRectPoints[controlStartType - 1].x\r\n            // 矢量线的起点的Y坐标,默认为所关联的组件上的位置圆点的Y坐标\r\n            y1 = positionRectPoints[controlStartType - 1].y\r\n            // 获得矢量线的起点所关联的实际圆点吸附点坐标\r\n            let point = CpsCommonFunc.getPolylineStartOrEndPoint(x1, y1, controlStartType, true)\r\n            if (point) {\r\n              x1 = parseInt(point.split(',')[0])\r\n              y1 = parseInt(point.split(',')[1])\r\n            }\r\n          } else if (model.EndControlId === controlId) {          // 修正矢量线属性结束组件为此组件ID值的所有矢量线的坐标属性值\r\n            // 矢量线的尾点的X坐标,默认为所关联的组件上的位置圆点的X坐标\r\n            x2 = positionRectPoints[controlEndType - 1].x\r\n            // 矢量线的尾点的Y坐标,默认为所关联的组件上的位置圆点的Y坐标\r\n            y2 = positionRectPoints[controlEndType - 1].y\r\n            // 获得矢量线的起点所关联的实际圆点吸附点坐标\r\n            let point = CpsCommonFunc.getPolylineStartOrEndPoint(x2, y2, controlEndType, false)\r\n            if (point) {\r\n              x2 = parseInt(point.split(',')[0])\r\n              y2 = parseInt(point.split(',')[1])\r\n            }\r\n          }\r\n\r\n          // 根据矢量线的起尾点坐标以及起尾点的关联圆点位置计算出矢量线的矢量坐标\r\n          let points = CpsCommonFunc.getPointsByStyle(x1, y1, x2, y2, controlStartType, controlEndType)\r\n          // 修正画板上此矢量线的矢量坐标，以便重新绘制矢量线\r\n          $(CpsCommonConst.drawSVGId).find('polyline[id=\\'' + model.LineId + '\\']').attr({'points': points})\r\n          // 更新CPS产线模型中的矢量线配置明细数据中的此矢量线的矢量坐标值\r\n          model.Coordinates = points\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /** 删除CPS产线模型中的矢量线配置明细数据中所有矢量线属性起始组件或结束组件值为当前组件ID值的矢量线\r\n   * controlId：组件ID，组件明细数据下的组件标识，具有唯一性\r\n   * */\r\n  static deletePolylineByControlId(controlId) {\r\n    // 定义一个数组变量，用于存放新的矢量线数组，即为去除了CPS产线模型中的矢量线配置明细数据中的关联到组件的矢量线\r\n    let vectorLineArr = []\r\n    for (let i = 0; i < CpsCommonVar.controlLineModels.VectorLineDetail.length; i++) {\r\n      let model = CpsCommonVar.controlLineModels.VectorLineDetail[i]\r\n      if (model.StartControlId !== controlId && model.EndControlId !== controlId) {\r\n        vectorLineArr.push(model)\r\n      } else {\r\n        // 将删除画板中矢量线属性起始组件或结束组件为此组件ID的矢量线\r\n        $(CpsCommonConst.drawSVGId).find('polyline[id=\\'' + model.LineId + '\\']').remove()\r\n      }\r\n    }\r\n    // 将删除与组件相关联的矢量线之后的矢量线数组重新赋值给CPS产线模型中的矢量线配置明细\r\n    CpsCommonVar.controlLineModels.VectorLineDetail = vectorLineArr\r\n    // 重置恢复矢量线属性模块上的默认数据\r\n    CpsCommonVar.polylineAttrPanel.getForm().reset()\r\n  }\r\n\r\n  /** 删除CPS产线模型中的矢量线配置明细数据中矢量线属性矢量ID值为lineId的矢量线\r\n   * lineId：矢量ID，矢量线明细数据下的矢量线标识，具有唯一性\r\n   * */\r\n  static deletePolylineByLineId(lineId) {\r\n    $(CpsCommonConst.drawSVGId).find('circle[name=\\'drawCircle\\']').css({'display': 'none'})\r\n    for (let i = 0; i < CpsCommonVar.controlLineModels.VectorLineDetail.length; i++) {\r\n      if (CpsCommonVar.controlLineModels.VectorLineDetail[i].LineId === lineId) {\r\n        // 将此矢量线模型从矢量线配置明细数组中删除\r\n        CpsCommonVar.controlLineModels.VectorLineDetail.splice(i, 1)\r\n        break\r\n      }\r\n    }\r\n    // 若被删除的此矢量线已被选中并在矢量线属性Form中展示出来，则重置CPS组件属性Form\r\n    if (CpsCommonVar.polylineAttrPanel.getForm().findField('LineId').getValue() === lineId) {\r\n      // 重置恢复矢量线属性模块上的默认数据\r\n      CpsCommonVar.polylineAttrPanel.getForm().reset()\r\n    }\r\n    // 将删除画板中矢量线属性矢量ID值为lineId的矢量线\r\n    $(CpsCommonConst.drawSVGId).find('polyline[id=\\'' + lineId + '\\']').remove()\r\n    CpsMainPanel.setSizeDrawSvg()  //CPS组件移动后敛缩\r\n  }\r\n\r\n  /** 矢量线的初始化事件【矢量线其他事件，矢量线绘制事件】\r\n   * 【矢量线其他事件：矢量线单击事件】\r\n   * 【矢量线绘制事件：矢量线绘制开始事件，矢量线绘制移动事件，矢量线绘制结束事件】\r\n   * */\r\n  static initPolylineEvent() {\r\n    CpsPolylineAttr.setPolylineOtherEvent()\r\n    CpsPolylineAttr.setPolylineDrawEvent()\r\n  }\r\n\r\n  /** 矢量线其他事件【矢量线单击事件】\r\n   * 【矢量线单击事件：用于显示矢量线的两端的拉伸圆点和其属性】\r\n   * */\r\n  static setPolylineOtherEvent() {\r\n    /** 重新绑定矢量线单击事件，用于显示矢量线的两端的拉伸圆点并将此矢量线的属性在矢量线属性模块中显示出来\r\n     * 使用变量selVectorLineId来表示当前矢量线的矢量ID，用于delete键时删除此矢量线\r\n     * */\r\n    $(CpsCommonConst.drawSVGId).find('polyline[name=\\'drawLine\\']').unbind('click').bind('click', function (event) {\r\n      if (!CpsCommonVar.useVectorLine) {\r\n        CpsCommonVar.selSvgPolyline = $(this)\r\n        CpsCommonVar.isSelCpsControl = false\r\n        CpsCommonVar.selVectorLineId = CpsCommonVar.selSvgPolyline.attr('id')\r\n        CpsCommonFunc.showElementPoints(CpsCommonVar.selSvgPolyline, 'drawCircle')\r\n        CpsPolylineAttr.setPolylineAttrFormValues(CpsCommonVar.selVectorLineId)\r\n      }\r\n    })\r\n  }\r\n\r\n  /** 矢量线绘制事件【矢量线绘制开始事件，矢量线绘制移动事件，矢量线绘制结束事件】\r\n   * 【矢量线绘制开始事件：绘制一条多边曲线并将其放入SVG中】\r\n   * 【矢量线绘制移动事件：改变多边曲线的矢量坐标集和其起始组件、结束组件的ID和位置类型】\r\n   * 【矢量线绘制结束事件：根据矢量坐标集的规则判定是否保存此多边曲线的数据】\r\n   * */\r\n  static setPolylineDrawEvent() {\r\n    /** 重新绑定矢量线绘制开始事件(鼠标按钮被按下。)，创建矢量线\r\n     * 通过方法createPolyline创建一条多边曲线，并在矢量线属性模块中显示出此多边曲线的属性\r\n     * */\r\n    $(CpsCommonConst.canvasId).unbind('mousedown').bind('mousedown', function (event) {\r\n      if (CpsCommonVar.useVectorLine && !CpsCommonVar.selVectorLineId) {\r\n        CpsPolylineAttr.canvasOffsetX = $(CpsCommonConst.canvasId).offset().left - $(CpsCommonConst.canvasId).scrollLeft()\r\n        CpsPolylineAttr.canvasOffsetY = $(CpsCommonConst.canvasId).offset().top - $(CpsCommonConst.canvasId).scrollTop()\r\n        CpsPolylineAttr.createPolyline(event.clientX, event.clientY)\r\n        event.preventDefault()\r\n      }\r\n    })\r\n\r\n    /** 重新绑定矢量线绘制移动事件(鼠标被移动。)，记移动矢量线\r\n     * 变量selVectorLineId来代表此要绘制的矢量线，移动过程中修改矢量线的矢量坐标集和其起始组件、结束组件的ID和位置类型\r\n     * */\r\n    $(CpsCommonConst.canvasId).unbind('mousemove').bind('mousemove', function (event) {\r\n      if ((CpsCommonVar.useVectorLine || CpsCommonVar.redrawVectorLine) && CpsCommonVar.selVectorLineId) {\r\n        let polyline = $(CpsCommonConst.drawSVGId).find('polyline[id=\\'' + CpsCommonVar.selVectorLineId + '\\']')\r\n        if (polyline.length > 0) {\r\n          CpsPolylineAttr.canvasOffsetX = $(CpsCommonConst.canvasId).offset().left - $(CpsCommonConst.canvasId).scrollLeft()\r\n          CpsPolylineAttr.canvasOffsetY = $(CpsCommonConst.canvasId).offset().top - $(CpsCommonConst.canvasId).scrollTop()\r\n          CpsPolylineAttr.updatePolyline(polyline, event.clientX, event.clientY)\r\n        }\r\n      }\r\n      if (!CpsCommonVar.useVectorLine && CpsCommonVar.redrawCpsControl && CpsCommonVar.selControlId) {\r\n        let elDrag = $(CpsCommonConst.canvasId).find('div[id=\\'' + CpsCommonVar.selControlId + '\\']')\r\n        if (elDrag.length > 0) {\r\n          CpsControlsAttr.changeCpsControlAttr(elDrag, CpsCommonVar.cpsControlPoint)\r\n          CpsMainPanel.resizeDrawSvg(elDrag)  //CPS组件移动中拓展\r\n        }\r\n      }\r\n    })\r\n\r\n    /** 重新绑定矢量线绘制结束事件(鼠标按键被松开。)，保存矢量线或者去除矢量线选中状态\r\n     * 变量selVectorLineId来代表此要绘制的矢量线，保存矢量线要根据矢量坐标集的规则判定是否保存此矢量线的数据\r\n     * 若不是绘制矢量线的状态，则要去除矢量线的选中状态，隐藏矢量线两端的拉伸圆点\r\n     * */\r\n    $(CpsCommonConst.canvasId).unbind('mouseup').bind('mouseup', function (event) {\r\n      if ((CpsCommonVar.useVectorLine || CpsCommonVar.redrawVectorLine) && CpsCommonVar.selVectorLineId) {\r\n        let polyline = $(CpsCommonConst.drawSVGId).find('polyline[id=\\'' + CpsCommonVar.selVectorLineId + '\\']')\r\n        if (polyline.length > 0) {\r\n          CpsCommonFunc.showElementPoints(polyline, 'drawCircle')\r\n          CpsPolylineAttr.savePolyline(polyline)\r\n        }\r\n        CpsCommonVar.selVectorLineId = null\r\n        CpsCommonVar.redrawVectorLine = false\r\n        CpsCommonVar.vectorLineIndex = 1\r\n        $(CpsCommonConst.drawSVGId).find('rect[name=\\'controlRect\\']').css({'display': 'none'})\r\n        CpsCommonVar.positionRectPoints = null\r\n        CpsMainPanel.setSizeDrawSvg()  //CPS组件移动后敛缩\r\n      } else {\r\n        CpsCommonVar.selVectorLineId = null\r\n        $(CpsCommonConst.drawSVGId).find('circle[name=\\'drawCircle\\']').css({'display': 'none'})\r\n        CpsCommonVar.polylineAttrPanel.getForm().reset()\r\n      }\r\n      if (!CpsCommonVar.useVectorLine && CpsCommonVar.redrawCpsControl && CpsCommonVar.selControlId) {\r\n        CpsCommonVar.redrawCpsControl = false\r\n        CpsCommonVar.cpsControlPoint = null\r\n        let elDrag = $(CpsCommonConst.canvasId).find('div[id=\\'' + CpsCommonVar.selControlId + '\\']')\r\n        CpsCommonFunc.showElementPoints(elDrag, 'zoomCircle')\r\n        let width = Math.round(elDrag.css('width').replace('px', ''))\r\n        CpsControlsAttr.setControlAttr(CpsCommonVar.selControlId, 'ControlWidth', width)\r\n        let height = Math.round(elDrag.css('height').replace('px', ''))\r\n        CpsControlsAttr.setControlAttr(CpsCommonVar.selControlId, 'ControlHeight', height)\r\n        // 更新CPS产线模型中的矢量线配置明细数据下所有与此组件相关联的矢量线的矢量坐标\r\n        CpsPolylineAttr.updatePolylinePointsByControlId(CpsCommonVar.selControlId)\r\n        CpsMainPanel.setSizeDrawSvg()  //CPS组件移动后敛缩\r\n      } else {\r\n        CpsCommonVar.selControlId = null\r\n        $(CpsCommonConst.drawSVGId).find('circle[name=\\'zoomCircle\\']').css({'display': 'none'})\r\n      }\r\n    })\r\n  }\r\n}\r\nexport {CpsPolylineAttr}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/cps/CpsPolylineAttr.js","/**********************************************************************\r\n * CopyRight 2017 杭州集控科技有限公司 版权所有\r\n * 功能描述：通用事件模块的主窗口\r\n * 创建标识：Huangwz 2017/05/12\r\n *\r\n * 修改标识：Huangwz 2017/05/12\r\n *\r\n ************************************************************************/\r\nimport {CpsCommonFunc, CpsCommonVar, CpsCommonConst} from './CpsCommon'\r\nimport {CpsMainPanel} from './CpsMainPanel'\r\nimport {CpsSystemControls} from './CpsSystemControls'\r\nimport {CpsProgramControls} from './CpsProgramControls'\r\nimport {CpsPolylineAttr} from './CpsPolylineAttr'\r\nimport {CpsControlsAttr} from './CpsControlsAttr'\r\nclass CpsEventPanel {\r\n  // 系统事件panel\r\n  static sysEventPanel = true\r\n  // 要复制的CPS功能组件\r\n  static showAttrFormPanel = true\r\n  // 定时查看产线模型的工作站点中的派工单执行情况\r\n  static taskNoTipInterval = null\r\n  // 要开启的产线模型的工作站点中的派工单执行情况\r\n  static isShowTaskNoTip = true\r\n  // 要复制的CPS功能组件\r\n  static copyCpsControl = null\r\n  // 要复制的SVG矢量线\r\n  static copySvgPolyline = null\r\n  // 要复制的SVG矢量线\r\n  static isPasteCpsControl = true\r\n\r\n  /** 初始化CPS建模，使CPS建模处于新增状态并恢复默认设置\r\n   * */\r\n  static reInitCpsConfigureView() {\r\n    CpsCommonVar.controlLineModels = {\r\n      'ProduceControlLineId': '',\r\n      'ProduceControlLineName': '',\r\n      'ControlConfigId': '',\r\n      'FactoryModuleType': 0,\r\n      'State': 0,\r\n      'ControlDetail': [],\r\n      'VectorLineDetail': []\r\n    }\r\n    CpsCommonVar.masterVcl = null\r\n    CpsCommonVar.selControlId = null\r\n    CpsCommonVar.selVectorLineId = null\r\n    CpsCommonVar.vectorLineIndex = 1\r\n    CpsEventPanel.isShowTaskNoTip = true\r\n    CpsEventPanel.sysEventPanel.items.getAt(5).setText('开启动态展示')\r\n    $('#pointerTool').click()\r\n    if ($('#descriptionBox').attr('data-checked')) {\r\n      $('#descriptionBox').click()\r\n    }\r\n    CpsMainPanel.selFactoryModuleType(undefined, null)\r\n  }\r\n\r\n  /** 根据生产线关联主数据ID和工作站点关联主数据ID获得此产线下的此工作站点DOM\r\n   * produceLineRelId：生产线关联主数据ID\r\n   * workStationId：工作站点关联主数据ID\r\n   * */\r\n  static getProduceLineOfWorkStation(produceLineRelId, workStationId) {\r\n    let workstations = $(CpsCommonConst.canvasId).find('div[data-progid=\\'com.Workstation\\'][data-relid=\\'' + workStationId + '\\']')\r\n    if (workstations && workstations.length > 0) {\r\n      for (let i = 0; i < workstations.length; i++) {\r\n        let controlId = $(workstations[i]).attr('id')\r\n        let workProcessId = $(CpsCommonConst.drawSVGId).find('polyline[data-startid=\\'' + controlId + '\\'][data-endid^=\\'' + CpsCommonConst.comWorkProcess + '\\']').attr('data-endid')\r\n        let workSectionId = $(CpsCommonConst.drawSVGId).find('polyline[data-startid=\\'' + workProcessId + '\\'][data-endid^=\\'' + CpsCommonConst.comWorkshopSection + '\\']').attr('data-endid')\r\n        let produceLineId = $(CpsCommonConst.drawSVGId).find('polyline[data-startid=\\'' + workSectionId + '\\'][data-endid^=\\'' + CpsCommonConst.comProduceLine + '\\']').attr('data-endid')\r\n        let relId = $(CpsCommonConst.canvasId).find('div[id=\\'' + produceLineId + '\\']').attr('data-relid')\r\n        if (produceLineRelId === relId) {\r\n          return $(workstations[i])\r\n        }\r\n      }\r\n    }\r\n    return null\r\n  }\r\n\r\n  /** 创建SVG画板下的svg块，作为一个整体显示模型\r\n   * controlId：工作站点的元素的属性ID值\r\n   * left：工作站点的元素的属性坐标X值\r\n   * top：工作站点的元素的属性坐标Y值\r\n   * */\r\n  static createSvg(controlDom, showBottomOrLeftTrg, isTopOrRight) {\r\n    let svgNode = document.createElementNS('http://www.w3.org/2000/svg', 'svg')\r\n    if (svgNode) {\r\n      let controlId = controlDom.attr('id') + '-tip'\r\n      let left = Math.round(controlDom.css('left').replace('px', ''))\r\n      let top = Math.round(controlDom.css('top').replace('px', ''))\r\n      let width = Math.round(controlDom.css('width').replace('px', ''))\r\n      svgNode.setAttribute('id', controlId)\r\n      svgNode.setAttribute('name', 'wsTip')\r\n      if (showBottomOrLeftTrg) {\r\n        let x = left - 30\r\n        let y = isTopOrRight ? top - 55 : top - 120\r\n        svgNode.setAttribute('x', x)\r\n        svgNode.setAttribute('y', y)\r\n      } else {\r\n        let x = left + width - 5\r\n        let y = top\r\n        svgNode.setAttribute('x', x)\r\n        svgNode.setAttribute('y', y)\r\n      }\r\n      svgNode.setAttribute('preserveAspectRatio', 'xMidYMin meet')\r\n      svgNode.setAttribute('style', 'fill: none;fill-opacity: 1;')\r\n    }\r\n    return svgNode\r\n  }\r\n\r\n  /** 创建一条SVG的多边曲线\r\n   * points：曲线的坐标集合\r\n   * startControlId：开始组件ID\r\n   * startPointIndex：开始矢量线连接类型\r\n   * endControlId：结束组件ID\r\n   * endPointIndex：结束矢量线连接类型\r\n   * */\r\n  static createSvgPolyline(points, startControlId, startPointIndex, endControlId, endPointIndex) {\r\n    // 定义一个变量polyline来表示在SVG上创建的一条多边曲线\r\n    let polyline = document.createElementNS('http://www.w3.org/2000/svg', 'polyline')\r\n    if (polyline) {\r\n      // 定义一个变量lineId用于表示矢量线的矢量ID，具有唯一标识\r\n      let lineId = 'drawLine_' + parseInt(Math.random() * 10000)\r\n      while ($(CpsCommonConst.drawSVGId).find('line[id=\\'' + lineId + '\\']').length > 0) {\r\n        lineId = 'drawLine_' + parseInt(Math.random() * 10000)\r\n      }\r\n      polyline.setAttribute('name', 'drawLine')\r\n      polyline.setAttribute('id', lineId)\r\n      polyline.setAttribute('marker-end', 'url(#markerArrow)')\r\n      polyline.setAttribute('style', 'fill:none;stroke:red;stroke-width:2;cursor:move')\r\n      polyline.setAttribute('data-startid', startControlId)\r\n      polyline.setAttribute('data-starttype', startPointIndex)\r\n      polyline.setAttribute('data-endid', endControlId)\r\n      polyline.setAttribute('data-endtype', endPointIndex)\r\n      polyline.setAttribute('points', points)\r\n    }\r\n    return polyline\r\n  }\r\n\r\n  /** 创建SVG画板下的rect，构建一个椭圆角的矩形块，用于展示区域范围\r\n   * */\r\n  static createSvgRect(showBottomOrLeftTrg, isTopOrRight) {\r\n    let rectNode = document.createElementNS('http://www.w3.org/2000/svg', 'rect')\r\n    if (rectNode) {\r\n      let px = showBottomOrLeftTrg ? 1 : (isTopOrRight ? 15 : 150)\r\n      rectNode.setAttribute('x', px)\r\n      rectNode.setAttribute('y', '0')\r\n      rectNode.setAttribute('rx', '6')\r\n      rectNode.setAttribute('ry', '6')\r\n      rectNode.setAttribute('width', '130')\r\n      rectNode.setAttribute('height', '50')\r\n      rectNode.setAttribute('style', 'fill:#f7f8db;stroke:rgba(136, 136, 136, 0.5);stroke-width:3;')\r\n    }\r\n    return rectNode\r\n  }\r\n\r\n  /** 创建SVG画板下的polygon，构建一个三角形指向块，用于指向工作站点\r\n   * */\r\n  static createSvgPolygon(showBottomOrLeftTrg, isTopOrRight) {\r\n    let polygonNode = document.createElementNS('http://www.w3.org/2000/svg', 'polygon')\r\n    if (polygonNode) {\r\n      if (showBottomOrLeftTrg) {\r\n        let points = isTopOrRight ? '45,45 53,65 61,45' : '60,45 68,130 76,45'\r\n        polygonNode.setAttribute('points', points)\r\n      } else {\r\n        let points = isTopOrRight ? '18,15 0,23 18,31' : '153,20 0,28 153,36'\r\n        polygonNode.setAttribute('points', points)\r\n      }\r\n      polygonNode.setAttribute('style', 'fill: #f7f8db;')\r\n    }\r\n    return polygonNode\r\n  }\r\n\r\n  /** 创建SVG画板下的text块，用于文字内容描述\r\n   * ty：文本在整体模块中的Y坐标位置\r\n   * text：文本描述\r\n   * textValue：文本值\r\n   * */\r\n  static createSvgText(ty, text, textValue, showBottomOrLeftTrg, isTopOrRight) {\r\n    let textNode = document.createElementNS('http://www.w3.org/2000/svg', 'text')\r\n    if (textNode) {\r\n      let px = showBottomOrLeftTrg ? 5 : (isTopOrRight ? 20 : 155)\r\n      textNode.setAttribute('x', px)\r\n      textNode.setAttribute('y', ty)\r\n      textNode.setAttribute('style', 'font-size: 10px;fill: black;')\r\n      let textNodeString = document.createTextNode(text + ':');\r\n      textNode.appendChild(textNodeString);\r\n      let tSpanNode = CpsEventPanel.createSvgTSpan(ty, textValue, showBottomOrLeftTrg, isTopOrRight)\r\n      textNode.appendChild(tSpanNode);\r\n    }\r\n    return textNode\r\n  }\r\n\r\n  /** 创建SVG画板下的tspan块，用于文字描述的值\r\n   * tpy：文本值在整体模块中的Y坐标位置\r\n   * text：文本值\r\n   * */\r\n  static createSvgTSpan(tpy, text, showBottomOrLeftTrg, isTopOrRight) {\r\n    let tSpanNode = document.createElementNS('http://www.w3.org/2000/svg', 'tspan')\r\n    if (tSpanNode) {\r\n      let px = showBottomOrLeftTrg ? 50 : (isTopOrRight ? 65 : 200)\r\n      tSpanNode.setAttribute('x', px)\r\n      tSpanNode.setAttribute('y', tpy)\r\n      tSpanNode.setAttribute('style', 'font-size: 10px;fill: black;font-weight: bold;')\r\n      let tSpanNodeString = document.createTextNode(text);\r\n      tSpanNode.appendChild(tSpanNodeString);\r\n    }\r\n    return tSpanNode\r\n  }\r\n\r\n  /** 创建工作站点悬浮框，显示出此站点的派工单的执行情况\r\n   * produceLineId：生产线关联主数据ID\r\n   * wsModel：当前生产线下的工作站点上的派工单完成情况数据模型\r\n   * */\r\n  static createWorkStationSvgTip(produceLineId, wsModel, isTopOrRight, showBottomOrLeftTrg) {\r\n    let controlDom = CpsEventPanel.getProduceLineOfWorkStation(produceLineId, wsModel.WorkStationId)\r\n    if (controlDom) {\r\n      let state = wsModel.State === 0 ? '空闲' : '被占用'\r\n      let svgNode = CpsEventPanel.createSvg(controlDom, showBottomOrLeftTrg, isTopOrRight)\r\n      let rectNode = CpsEventPanel.createSvgRect(showBottomOrLeftTrg, isTopOrRight)\r\n      svgNode.appendChild(rectNode);\r\n      let polygonNode = CpsEventPanel.createSvgPolygon(showBottomOrLeftTrg, isTopOrRight)\r\n      svgNode.appendChild(polygonNode);\r\n      let textNode1 = CpsEventPanel.createSvgText('15', '站点状态', state, showBottomOrLeftTrg, isTopOrRight)\r\n      svgNode.appendChild(textNode1);\r\n      let textNode2 = CpsEventPanel.createSvgText('30', '派工单号', wsModel.TaskNo, showBottomOrLeftTrg, isTopOrRight)\r\n      svgNode.appendChild(textNode2);\r\n      let textNode3 = CpsEventPanel.createSvgText('45', '已完成数', wsModel.FinishCount, showBottomOrLeftTrg, isTopOrRight)\r\n      svgNode.appendChild(textNode3);\r\n      $(CpsCommonConst.drawSVGId).append(svgNode)\r\n    }\r\n  }\r\n\r\n  /** 设置画板上生产线下的所有工作站点的悬浮框\r\n   * produceModuleInfo：画板上所有生产线下的工作站点上的派工单完成情况\r\n   * */\r\n  static setProduceLineOfWorkStationTips(produceModuleInfo) {\r\n    for (let i = 0; i < produceModuleInfo.length; i++) {\r\n      let produceModule = produceModuleInfo[i]\r\n      let produceLineId = produceModule.ProduceLineId\r\n      let produceLine = $(CpsCommonConst.canvasId).find('div[data-progid=\\'com.ProduceLine\\'][data-relid=\\'' + produceLineId + '\\']')\r\n      let width = Math.round(produceLine.css('width').replace('px', ''))\r\n      let height = Math.round(produceLine.css('height').replace('px', ''))\r\n      let showBottomOrLeftTrg = width > height - 30 ? true : false\r\n      for (let j = 0; j < produceModule.WorkstationDetail.length; j++) {\r\n        let model = produceModule.WorkstationDetail[j]\r\n        let isTopOrRight = j % 2 === 0 ? true : false\r\n        CpsEventPanel.createWorkStationSvgTip(produceLineId, model, isTopOrRight, showBottomOrLeftTrg)\r\n      }\r\n    }\r\n  }\r\n\r\n  /** 以悬浮框的形式显示生产线下的所有工作站点上的派工单完成情况\r\n   * */\r\n  static showProduceLineOfWorkStationInfo() {\r\n    Ext.Ajax.request({\r\n      url: '/CpsModule/GetProduceLineOfStationInfo',\r\n      jsonData: {info: CpsCommonVar.controlLineModels},\r\n      method: 'POST',\r\n      async: false,\r\n      timeout: 90000000,\r\n      success: function (response) {\r\n        //  方法GetProduceLineOfStationInfo执行正常，将json字符串转换json对象\r\n        let result = Ext.decode(response.responseText)\r\n        // 后端校验失败, 显示出错误信息\r\n        if (result.Messages.length > 0) {\r\n          let errMsg = []\r\n          for (let i = 0; i < result.Messages.length; i++) {\r\n            errMsg.push({kind: result.Messages[i].MessageKind, msg: result.Messages[i].Message})\r\n          }\r\n          Ax.utils.LibMsg.show(errMsg)\r\n        } else {\r\n          if (result.Result.length > 0) {\r\n            CpsEventPanel.destroyWorkStationTips()\r\n            CpsEventPanel.setProduceLineOfWorkStationTips(result.Result)\r\n            CpsEventPanel.isShowTaskNoTip = false\r\n            CpsEventPanel.sysEventPanel.items.getAt(5).setText('关闭动态展示')\r\n          } else {\r\n            Ext.Msg.alert('提示', '当前产线的站点未进行任何指令操作！')\r\n          }\r\n        }\r\n      },\r\n      failure: function (response) {\r\n        Ext.Msg.alert('提示', '当前产线的站点动态数据展示失败')\r\n      }\r\n    })\r\n  }\r\n\r\n  /** 销毁当前所有的显示工作站点上的派工单完成情况的悬浮框\r\n   * */\r\n  static destroyWorkStationTips() {\r\n    $(CpsCommonConst.drawSVGId).find('svg[name=\\'wsTip\\']').remove()\r\n    CpsCommonFunc.removeControlSelStyle()\r\n    CpsEventPanel.isShowTaskNoTip = true\r\n    CpsEventPanel.sysEventPanel.items.getAt(5).setText('开启动态展示')\r\n  }\r\n\r\n  /** 创建通用事件模块 位于平台上方，高度50，宽度不定\r\n   * 【初始化：重置平台的状态为原始新增状态】\r\n   * 【保存：先校验产线模型配置数据，再提示输入CPS建模名称，最后进入后端保存数据】\r\n   * 【预览：将当前产线模型的组件配置明细和矢量线配置明细数据在新弹窗中显示出来】\r\n   * 【纠察：校验产线模型配置数据，即组件配置明细数据和矢量线配置明细数据】\r\n   * */\r\n  static createEventPanel() {\r\n    CpsEventPanel.sysEventPanel = Ext.create('Ext.panel.Panel', {\r\n      id: 'cpsEvent-panel',\r\n      bodyPadding: 5,\r\n      layout: {\r\n        type: 'table',\r\n        columns: 6\r\n      },\r\n      defaults: {\r\n        margin: '0 5 0 5'\r\n      },\r\n      items: [\r\n        {\r\n          xtype: 'button',\r\n          text: '初始化',\r\n          scale: 'medium',\r\n          colspan: 1,\r\n          handler: function () {\r\n            Ext.Msg.confirm('系统提示', '这将会清空画板，确认继续吗？', function (btn) {\r\n              if (btn === 'yes') {\r\n                CpsEventPanel.reInitCpsConfigureView()\r\n              }\r\n            })\r\n          }\r\n        },\r\n        {\r\n          xtype: 'button',\r\n          text: '保存',\r\n          scale: 'medium',\r\n          colspan: 1,\r\n          handler: function () {\r\n            let checkErrorStr = CpsCommonFunc.checkProduceControlLineModels()\r\n            if (checkErrorStr.length < 1) {\r\n              Ext.Msg.prompt('请输入CPS建模名称', '名称', function (btn, text) {\r\n                if (btn === 'ok') {\r\n                  if (!text) {\r\n                    Ext.Msg.alert('提示', 'CPS建模名称不能为空!')\r\n                  } else {\r\n                    CpsCommonVar.controlLineModels.ProduceControlLineName = text\r\n                    $('#cpsLoading').css('display', 'block')\r\n                    CpsCommonFunc.saveProduceControlLineModels()\r\n                    $('#cpsLoading').css('display', 'none')\r\n                  }\r\n                }\r\n              }, this, false, CpsCommonVar.controlLineModels.ProduceControlLineName)\r\n            } else {\r\n              Ax.utils.LibMsg.show(checkErrorStr)\r\n            }\r\n          }\r\n        },\r\n        {\r\n          xtype: 'button',\r\n          text: '预览',\r\n          scale: 'medium',\r\n          colspan: 1,\r\n          handler: function () {\r\n            CpsMainPanel.showProduceControlLineModels()\r\n          }\r\n        },\r\n        {\r\n          xtype: 'button',\r\n          text: '纠察',\r\n          scale: 'medium',\r\n          colspan: 1,\r\n          handler: function () {\r\n            let checkErrorStr = CpsCommonFunc.checkProduceControlLineModels()\r\n            if (checkErrorStr.length < 1) {\r\n              Ext.Msg.alert('提示', '已为您纠察完毕。')\r\n            } else {\r\n              Ax.utils.LibMsg.show(checkErrorStr)\r\n            }\r\n          }\r\n        },\r\n        {\r\n          xtype: 'button',\r\n          text: '隐藏属性模块',\r\n          scale: 'medium',\r\n          colspan: 1,\r\n          handler: function () {\r\n            if (CpsEventPanel.showAttrFormPanel) {\r\n              CpsEventPanel.showAttrFormPanel = false\r\n              this.up('panel').items.getAt(4).setText('显示属性模块')\r\n            } else {\r\n              CpsEventPanel.showAttrFormPanel = true\r\n              this.up('panel').items.getAt(4).setText('隐藏属性模块')\r\n            }\r\n            CpsCommonVar.attrFormPanels.setVisible(CpsEventPanel.showAttrFormPanel)\r\n          }\r\n        },\r\n        {\r\n          xtype: 'button',\r\n          text: '开启动态展示',\r\n          scale: 'medium',\r\n          colspan: 1,\r\n          handler: function () {\r\n            if (CpsEventPanel.isShowTaskNoTip) {\r\n              let checkErrorStr = CpsCommonFunc.checkProduceControlLineModels()\r\n              if (checkErrorStr.length < 1) {\r\n                CpsEventPanel.taskNoTipInterval = window.setInterval(CpsEventPanel.showProduceLineOfWorkStationInfo,3000)\r\n              } else {\r\n                Ax.utils.LibMsg.show(checkErrorStr)\r\n              }\r\n            } else {\r\n              CpsEventPanel.destroyWorkStationTips()\r\n              window.clearInterval(CpsEventPanel.taskNoTipInterval)\r\n            }\r\n          }\r\n        }\r\n      ]\r\n    })\r\n    return CpsEventPanel.sysEventPanel\r\n  }\r\n\r\n  /** 通用事件，适用于整体模块【模块容器鼠标右键事件，模块容器鼠标左键事件，组件模块标题点击，delete键键盘事件，组件拉伸事件，矢量线重绘事件】\r\n   * 【模块容器鼠标右键事件：在浏览器中禁止在一定区域内使用鼠标右键的浏览器的功能】\r\n   * 【模块容器鼠标左键事件：隐藏组件缩放圆点，去除选中状态，隐藏快捷菜单】\r\n   * 【组件模块标题点击事件：用于控制CPS动态组件模块以及系统组件模块是否显示，默认显示】\r\n   * 【delete键键盘事件：通过变量selVectorLineId删除矢量线，默认null，通过变量selControlId删除功能组件，默认null】\r\n   * 【组件拉伸事件：用于按下组件的四周的拉伸圆点，重新改变组件的宽高位置】\r\n   * 【矢量线重绘事件：用于按下矢量线的两端的拉伸圆点，重新绘制矢量线】\r\n   * */\r\n  static initCommonEvent() {\r\n    /** 重新绑定模块容器的鼠标右键事件，用于阻止浏览器的鼠标右键事件\r\n     * 禁止浏览器鼠标右键打开快捷菜单事件，允许本模块的右键打开快捷菜单事件\r\n     * */\r\n    $(CpsCommonVar.renderTo).unbind('contextmenu').bind('contextmenu', function (event) {\r\n      event.originalEvent.preventDefault()\r\n      return false\r\n    })\r\n\r\n    /** 重新绑定模块容器的鼠标点击事件，用于去除组件选中状态（右键快捷菜单）\r\n     * 当组件右键菜单存在时（通过变量munePanel来判定），则隐藏其菜单\r\n     * */\r\n    $(CpsCommonVar.renderTo).unbind('mouseup').bind('mouseup', function (event) {\r\n      if (!CpsCommonVar.useVectorLine && (event.button === 1 || event.button === 0)) {\r\n        if (CpsCommonVar.munePanel) {\r\n          CpsCommonVar.munePanel.hide()\r\n        }\r\n      }\r\n    })\r\n\r\n    /** 重新绑定组件模块标题点击事件，设置组件模块的显隐事件\r\n     * 控制CPS动态组件模块的内部组件的显隐，通过其显示属性display来判定\r\n     * 控制系统组件模块的内部组件的显隐，通过其显示属性display来判定\r\n     * */\r\n    $(CpsCommonConst.controlsId).find('div[name=\\'cpsControlTitle\\']').unbind('click').bind('click', function (event) {\r\n      let display = $(this).parent().find('div[name=\\'cpsControls\\']').css('display')\r\n      if (display === 'block') {\r\n        $(this).find('img[name=\\'cpsImage\\']').removeClass('cps-controls-openimg')\r\n        $(this).parent().find('div[name=\\'cpsControls\\']').css('display', 'none')\r\n      } else {\r\n        $(this).find('img[name=\\'cpsImage\\']').addClass('cps-controls-openimg')\r\n        $(this).parent().find('div[name=\\'cpsControls\\']').css('display', 'block')\r\n      }\r\n    })\r\n\r\n    /** 重新绑定画板模块的delete键键盘事件，用于删除选中的矢量线,组件\r\n     * 矢量线的删除：根据选中的矢量线（矢量ID变量selVectorLineId）找出CPS产线模型中的矢量线配置明细中的矢量线并删除，将矢量ID置为空，隐藏其拖拽圆点\r\n     * 组件的删除：根据选中的组件（组件D变量selControlId）找出CPS产线模型中的组件配置明细中的组件并删除，将组件ID置为空，隐藏其缩放圆点\r\n     * */\r\n    $(CpsCommonConst.canvasId).unbind('keydown').bind('keydown', function (event) {\r\n      if (!CpsCommonVar.useVectorLine) {\r\n        if ((event.key === 'Delete' || event.keyCode === 46 || event.which === 46) ||\r\n          (event.ctrlKey && (event.key === 'd' || event.keyCode === 68 || event.which === 68))) {\r\n          if (CpsCommonVar.selVectorLineId) {\r\n            CpsPolylineAttr.deletePolylineByLineId(CpsCommonVar.selVectorLineId)\r\n            CpsCommonVar.selVectorLineId = null\r\n          }\r\n          if (CpsCommonVar.selControlId) {\r\n            CpsControlsAttr.deleteControlByControlId(CpsCommonVar.selControlId)\r\n            CpsCommonVar.selControlId = null\r\n          }\r\n        }\r\n        if (event.ctrlKey) {\r\n          if (event.key === 'c' || event.keyCode === 67 || event.which === 67) {\r\n            if (CpsCommonVar.isSelCpsControl) {\r\n              CpsEventPanel.copyCpsControl = CpsCommonVar.selCpsControl\r\n              CpsEventPanel.isPasteCpsControl = true\r\n            } else {\r\n              CpsEventPanel.copySvgPolyline = CpsCommonVar.selSvgPolyline\r\n              CpsEventPanel.isPasteCpsControl = false\r\n            }\r\n          }\r\n          if (event.key === 'v' || event.keyCode === 86 || event.which === 86) {\r\n            if (CpsEventPanel.copyCpsControl && CpsEventPanel.isPasteCpsControl) {\r\n              CpsProgramControls.copyCpsControl(CpsEventPanel.copyCpsControl)\r\n            }\r\n            if (CpsEventPanel.copySvgPolyline && !CpsEventPanel.isPasteCpsControl) {\r\n              CpsPolylineAttr.copySvgPolyline(CpsEventPanel.copySvgPolyline)\r\n            }\r\n          }\r\n          if (CpsCommonVar.selCpsControl && (event.key === '+' || event.keyCode === 107 || event.which === 107)) {\r\n            CpsControlsAttr.zoomCpsControl(CpsCommonVar.selCpsControl, true)\r\n          }\r\n          if (CpsCommonVar.selCpsControl && (event.key === '-' || event.keyCode === 109 || event.which === 109)) {\r\n            CpsControlsAttr.zoomCpsControl(CpsCommonVar.selCpsControl, false)\r\n          }\r\n          if (CpsCommonVar.selCpsControl && (event.key === 'ArrowUp' || event.keyCode === 38 || event.which === 38)) {\r\n            $(CpsCommonConst.drawSVGId).find('circle[name=\\'zoomCircle\\']').css({'display': 'none'})\r\n            let top = Math.round(CpsCommonVar.selCpsControl.css('top').replace('px', ''))\r\n            top = top > 1 ? top - 1 : 1\r\n            CpsControlsAttr.moveCpsControl(CpsCommonVar.selCpsControl, null, top)\r\n          }\r\n          if (CpsCommonVar.selCpsControl && (event.key === 'ArrowDown' || event.keyCode === 40 || event.which === 40)) {\r\n            $(CpsCommonConst.drawSVGId).find('circle[name=\\'zoomCircle\\']').css({'display': 'none'})\r\n            let down = Math.round(CpsCommonVar.selCpsControl.css('top').replace('px', '')) + 1\r\n            CpsControlsAttr.moveCpsControl(CpsCommonVar.selCpsControl, null, down)\r\n          }\r\n          if (CpsCommonVar.selCpsControl && (event.key === 'ArrowLeft' || event.keyCode === 37 || event.which === 37)) {\r\n            $(CpsCommonConst.drawSVGId).find('circle[name=\\'zoomCircle\\']').css({'display': 'none'})\r\n            let left = Math.round(CpsCommonVar.selCpsControl.css('left').replace('px', ''))\r\n            left = left > 1 ? left - 1 : 1\r\n            CpsControlsAttr.moveCpsControl(CpsCommonVar.selCpsControl, left, null)\r\n          }\r\n          if (CpsCommonVar.selCpsControl && (event.key === 'ArrowRight' || event.keyCode === 39 || event.which === 39)) {\r\n            $(CpsCommonConst.drawSVGId).find('circle[name=\\'zoomCircle\\']').css({'display': 'none'})\r\n            let right = Math.round(CpsCommonVar.selCpsControl.css('left').replace('px', '')) + 1\r\n            CpsControlsAttr.moveCpsControl(CpsCommonVar.selCpsControl, right, null)\r\n          }\r\n        }\r\n      }\r\n      event.originalEvent.preventDefault()\r\n    })\r\n\r\n    // 重新绑定组件的缩放圆点单击事件(鼠标按钮被按下。)，允许对组件进行拉伸\r\n    $(CpsCommonConst.drawSVGId).find('circle[name=\\'zoomCircle\\']').unbind('mousedown').bind('mousedown', function (event) {\r\n      if (!CpsCommonVar.useVectorLine && !CpsCommonVar.redrawCpsControl) {\r\n        let controlId = $(this).attr('data-controlid')\r\n        let pointIndex = parseInt($(this).attr('data-index'))\r\n        let elDrag = $(CpsCommonConst.canvasId).find('div[id=\\'' + controlId + '\\']')\r\n        let width = Math.round(elDrag.css('width').replace('px', ''))\r\n        let height = Math.round(elDrag.css('height').replace('px', ''))\r\n        let left = Math.round(elDrag.css('left').replace('px', ''))\r\n        let top = Math.round(elDrag.css('top').replace('px', ''))\r\n        $(CpsCommonConst.drawSVGId).find('circle[name=\\'zoomCircle\\']').css({'display': 'none'})\r\n        CpsCommonVar.selControlId = controlId\r\n        CpsCommonVar.cpsControlPoint = {\r\n          'point': event.clientX + ',' + event.clientY,\r\n          'width': width,\r\n          'height': height,\r\n          'left': left,\r\n          'top': top,\r\n          'index': pointIndex\r\n        }\r\n        CpsCommonVar.redrawCpsControl = true\r\n        CpsProgramControls.dragControl = null\r\n      }\r\n    })\r\n\r\n    /** 重新绑定矢量线两端的圆点单击事件(鼠标按钮被按下。)，允许对矢量线进行拉伸\r\n     * 变量vectorLinePoint指的是当前矢量线两端的拉伸圆点的圆点标识，用于代表起点或尾点的位置移动，重新绘制矢量线时将此圆点隐藏\r\n     * 变量redrawVectorLine代表可以重新绘制矢量线\r\n     * */\r\n    $(CpsCommonConst.drawSVGId).find('circle[name=\\'drawCircle\\']').unbind('mousedown').bind('mousedown', function (event) {\r\n      // if (!CpsCommonVar.useVectorLine) {\r\n      let lineId = $(this).attr('data-lineid')\r\n      let pointIndex = parseInt($(this).attr('data-index'))\r\n      $(CpsCommonConst.drawSVGId).find('circle[id=\\'drawCircle' + pointIndex + '\\']').css({'display': 'none'})\r\n      CpsCommonVar.selVectorLineId = lineId\r\n      CpsCommonVar.vectorLineIndex = pointIndex\r\n      CpsCommonVar.redrawVectorLine = true\r\n      // }\r\n    })\r\n  }\r\n\r\n  /** 加载CPS工厂建模的全部事件【系统模块通用事件，通用事件，功能组件事件，矢量线事件】\r\n   * 【系统模块通用事件：指针工具、矢量线、描述框的功能使用情况】\r\n   * 【通用事件：浏览器鼠标右键，组件模块标题点击，delete键键盘事件】\r\n   * 【功能组件事件：组件拖拽事件，组件拖放事件，组件其他事件】\r\n   * 【矢量线事件：矢量线其他事件，矢量线绘制事件】\r\n   * */\r\n  static loadCpsConfigureEvent() {\r\n    CpsSystemControls.initSystemControlEvent()      // 系统模块通用事件【指针工具、矢量线、描述框】\r\n    CpsEventPanel.initCommonEvent()                 // 通用事件【模块容器鼠标左右键事件，组件模块标题点击，delete键键盘事件，组件拉伸事件，矢量线重绘事件】\r\n    CpsProgramControls.initProgramControlEvent()    // CPS功能组件通用事件【CPS组件拖拽事件，SVG组件拖放事件，SVG组件共有事件】\r\n    CpsPolylineAttr.initPolylineEvent()             // 矢量线事件【矢量线其他事件，矢量线绘制事件】\r\n  }\r\n}\r\nexport {CpsEventPanel}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/cps/CpsEventPanel.js","/**********************************************************************\r\n * CopyRight 2017 杭州集控科技有限公司 版权所有\r\n * 功能描述：CPS系统组件模块的主窗口\r\n * 创建标识：Huangwz 2017/04/28\r\n *\r\n * 修改标识：Huangwz 2017/04/28\r\n *\r\n ************************************************************************/\r\nimport {CpsCommonVar, CpsCommonConst} from './CpsCommon'\r\nclass CpsSystemControls {\r\n  /** 根据相应的组件数据列表加载出相应的组件配置Vue\r\n   * list：组件数据列表\r\n   * isDraggable：是否用于拖拽功能,true表示CPS动态组件，false表示系统组件\r\n   * 根据数据列表中的显示模式DisplayType（1*1,2*2,3*3）以表格方式显示出来\r\n   * */\r\n  static loadControlConfigVue(list, isDraggable) {\r\n    let configVue = ''\r\n    if (list && list.ConfigDetail.length > 0) {\r\n      // 根据显示的模式计算出组件的宽度\r\n      let width = list.DisplayType === 0 ? 180 : (list.DisplayType === 1 ? 90 : 60)\r\n      // 根据显示的模式计算出组件的宽度\r\n      let height = list.DisplayType === 0 ? 120 : (list.DisplayType === 1 ? 60 : 40)\r\n      // 根据显示的模式计算出以几列显示\r\n      let cos = list.DisplayType + 1\r\n      // 当前列索引为0，默认第一列，当其值等于显示允许的列数时，重新默认第一列\r\n      let j = 0\r\n      configVue = '<table cellspacing=\"5\" border=\"0\"><tbody>'\r\n      for (let i = 0; i < list.ConfigDetail.length; i++) {\r\n        let model = list.ConfigDetail[i]\r\n        //  从当前第一列开始创建表格行开始标签\r\n        if (j === 0) {\r\n          configVue = configVue + '<tr>'\r\n        }\r\n        configVue = configVue + '<td>'\r\n        // 根据变量isDraggable判断当前组件是否可以拖拽，然后设置组件的name值\r\n        if (isDraggable) {\r\n          configVue = configVue + '<div class=\"cps-controls-td\" name=\"cpsIcon\" style=\"width:' + width + 'px;height:' + height + 'px;\"  draggable=\"true\" id=\"' + model.ProgId.replace('.', '') + '\"  data-relid=\"\" data-progid=\"' + model.ProgId + '\">'\r\n        } else {\r\n          configVue = configVue + '<div class=\"cps-controls-td\" name=\"sysIcon\" style=\"width:' + width + 'px;height:' + height + 'px;\" id=\"' + model.ProgId.replace('.', '') + '\"  data-checked=\"\" data-progid=\"' + model.ProgId + '\">'\r\n        }\r\n        configVue = configVue + '<div class=\"cps-controls-region\">'\r\n        configVue = configVue + '<img src=\"' + model.RelIcon + '\" style=\"width: ' + (height - 30) + 'px;height:' + (height - 30) + 'px;\"/>'\r\n        configVue = configVue + '<div class=\"cps-controls-span\">' + model.ProgName + '</div>'\r\n        configVue = configVue + '</div>'\r\n        configVue = configVue + '</div>'\r\n        configVue = configVue + '</td>'\r\n        j++\r\n        // 从当前最后一列开始创建表格行开结束标签，并将当前列索引置为0\r\n        if (j === cos) {\r\n          configVue = configVue + '</tr>'\r\n          j = 0\r\n        }\r\n      }\r\n      // 当数据列表数据加载完毕后，当前列索引不为0，说明最后一行只有j列数据，剩余的列将会被填充\r\n      if (j !== 0) {\r\n        j = cos - j\r\n        configVue = configVue + '<td colspan=\"' + j + '\"></td>'\r\n        configVue = configVue + '</tr>'\r\n      }\r\n      configVue = configVue + '</tbody></table>'\r\n    }\r\n    if (isDraggable) {\r\n      $(CpsCommonConst.cpsControlsId).empty().append(configVue)\r\n    } else {\r\n      $(CpsCommonConst.sysControlsId).empty().append(configVue)\r\n    }\r\n  }\r\n\r\n  /** 根据系统组件数据列表加载组件配置Vue\r\n   * 包含 指针工具、矢量线、描述框、组合框\r\n   * */\r\n  static loadSystemControlConfigVue() {\r\n    let list = {\r\n      'ControlConfigId': '1',\r\n      'ControlConfigName': '',\r\n      'FactoryModuleType':0,\r\n      'DisplayType': 1,\r\n      'ConfigDetail': [\r\n        {\r\n          'ControlConfigId': '1',\r\n          'RowId': 1,\r\n          'RowNo': 1,\r\n          'ProgId': 'pointerTool',\r\n          'ProgName': '指针工具',\r\n          'RelIcon': '/Scripts/img/cps/指针工具.png',\r\n          'ControlType': 1\r\n        },\r\n        {\r\n          'ControlConfigId': '1',\r\n          'RowId': 2,\r\n          'RowNo': 2,\r\n          'ProgId': 'vectorLine',\r\n          'ProgName': '矢量线',\r\n          'RelIcon': '/Scripts/img/cps/矢量线.png',\r\n          'ControlType': 1\r\n        },\r\n        {\r\n          'ControlConfigId': '1',\r\n          'RowId': 3,\r\n          'RowNo': 3,\r\n          'ProgId': 'descriptionBox',\r\n          'ProgName': '描述框',\r\n          'RelIcon': '/Scripts/img/cps/描述框.png',\r\n          'ControlType': 1\r\n        },\r\n        {\r\n          'ControlConfigId': '1',\r\n          'RowId': 4,\r\n          'RowNo': 4,\r\n          'ProgId': 'comboBox',\r\n          'ProgName': '组合框',\r\n          'RelIcon': '/Scripts/img/cps/组合框.png',\r\n          'ControlType': 1\r\n        }\r\n      ]\r\n    }\r\n    CpsSystemControls.loadControlConfigVue(list, false)\r\n    $('#pointerTool').find('div.cps-controls-region').css({\r\n      'background-color': '#f7f8db',\r\n      'border': '1px solid #d2c06c '\r\n    })\r\n  }\r\n\r\n  /** 系统组件的初始化通用事件【描述框，指针工具，矢量线】\r\n   * 【描述框的点击事件，通过变量CpsCommonVar.useToolTip控制组件的描述框是否显示，默认不显示】\r\n   * 【指针工具点击事件,通过变量CpsCommonVar.useVectorLine控制在画板中是用于拖拽组件、选中组件/矢量线、双击组件等操作还是用于绘制矢量线，默认不绘制矢量线】\r\n   * 【矢量线点击事件,通过变量CpsCommonVar.useVectorLine控制在画板中是用于拖拽组件、选中组件/矢量线、双击组件等操作还是用于绘制矢量线，默认不绘制矢量线】\r\n   * */\r\n  static initSystemControlEvent() {\r\n    /** 重新绑定描述框点击事件，用于显示或隐藏组件的组件描述内容。默认为不显示\r\n     * 若已选中，则描述框设置成禁用状态，禁止组件显示提示描述框\r\n     * 若未选中，则描述框设置成使用状态，允许组件显示提示描述框\r\n     * */\r\n    $('#descriptionBox').unbind('click').bind('click', function (event) {\r\n      let checked = $(this).attr('data-checked')\r\n      if (checked) {\r\n        $(this).attr('data-checked', '')\r\n        $('#descriptionBox').find('div.cps-controls-region').css({\r\n          'background-color': '#ffffff',\r\n          'border': '0'\r\n        })\r\n        CpsCommonVar.useToolTip = false\r\n      } else {\r\n        $(this).attr('data-checked', 'true')\r\n        $('#descriptionBox').find('div.cps-controls-region').css({\r\n          'background-color': '#f7f8db',\r\n          'border': '1px solid #d2c06c'\r\n        })\r\n        CpsCommonVar.useToolTip = true\r\n      }\r\n    })\r\n\r\n    /** 重新绑定指针工具点击事件，用于拖拽组件、选中组件/矢量线、双击\r\n     * 将指针工具设置成选中使用状态\r\n     * 将矢量线设置成选中禁用状态\r\n     * 将画板上鼠标状态改为默认的箭头状态\r\n     * 隐藏组件的位置方点\r\n     * 禁止绘制矢量线\r\n     * */\r\n    $('#pointerTool').unbind('click').bind('click', function (event) {\r\n      $('#pointerTool').find('div.cps-controls-region').css({\r\n        'background-color': '#f7f8db',\r\n        'border': '1px solid #d2c06c '\r\n      })\r\n      $('#vectorLine').find('div.cps-controls-region').css({\r\n        'background-color': '#ffffff',\r\n        'border': '0'\r\n      })\r\n      $(CpsCommonConst.drawSVGId).css({'cursor': 'default'})\r\n      $(CpsCommonConst.drawSVGId).find('rect[name=\\'controlRect\\']').css({'display': 'none'})\r\n      $(CpsCommonConst.drawSVGId).find('circle[name=\\'drawCircle\\']').css({'display': 'none'})\r\n      CpsCommonVar.useVectorLine = false\r\n    })\r\n\r\n    /** 重新绑定矢量线点击事件，用于绘制矢量线\r\n     * 将指针工具设置成选中禁用状态\r\n     * 将矢量线设置成选中使用状态\r\n     * 将画板上鼠标状态改为默认的十字线状态\r\n     * 隐藏组件的拉伸圆点\r\n     * 隐藏矢量线的拉伸圆点\r\n     * 允许绘制矢量线\r\n     * */\r\n    $('#vectorLine').unbind('click').bind('click', function (event) {\r\n      $('#pointerTool').find('div.cps-controls-region').css({\r\n        'background-color': '#ffffff',\r\n        'border': '0'\r\n      })\r\n      $('#vectorLine').find('div.cps-controls-region').css({\r\n        'background-color': '#f7f8db',\r\n        'border': '1px solid #d2c06c '\r\n      })\r\n      $(CpsCommonConst.drawSVGId).css({'cursor': 'crosshair'})\r\n      $(CpsCommonConst.drawSVGId).find('circle[name=\\'zoomCircle\\']').css({'display': 'none'})\r\n      CpsCommonVar.useVectorLine = true\r\n    })\r\n  }\r\n}\r\nexport {CpsSystemControls}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/cps/CpsSystemControls.js","exports.f = {}.propertyIsEnumerable;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_core-js@2.5.0@core-js/library/modules/_object-pie.js\n// module id = 606\n// module chunks = 1","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_core-js@2.5.0@core-js/library/modules/_wks-define.js\n// module id = 607\n// module chunks = 1","exports.f = require('./_wks');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_core-js@2.5.0@core-js/library/modules/_wks-ext.js\n// module id = 608\n// module chunks = 1","/**********************************************************************\r\n * CopyRight 2017 杭州集控科技有限公司 版权所有\r\n * 功能描述：CPS功能组件模块的主窗口\r\n * 创建标识：Huangwz 2017/04/28\r\n *\r\n * 修改标识：Huangwz 2017/04/28\r\n *\r\n ************************************************************************/\r\nimport {CpsCommonFunc, CpsCommonConst, CpsCommonVar} from './CpsCommon'\r\nimport {CpsMainPanel} from './CpsMainPanel'\r\nimport {CpsControlsAttr} from './CpsControlsAttr'\r\nimport {CpsEventPanel} from './CpsEventPanel'\r\nclass CpsProgramControls {\r\n  // 当前拖拽功能组件相对于拖拽点偏X移位\r\n  static controlOffsetX = 0\r\n  // 当前拖拽功能组件相对于拖拽点偏Y移位\r\n  static controlOffsetY = 0\r\n  // 当前拖拽功能组件相对于画板元素偏X移位\r\n  static canvasOffsetX = 0\r\n  // 当前拖拽功能组件相对于画板元素偏Y移位\r\n  static canvasOffsetY = 0\r\n  // 画板中是否已存在此拖拽组件元素，false表示不存在\r\n  static existControl = false\r\n  // 当前所拖拽的功能组件元素\r\n  static dragControl = null\r\n  // 当前右键选中的功能组件元素\r\n  static menuControl = null\r\n  // 所选中的功能组件的ID，用于功能选择主数据\r\n  static menuControlId = null\r\n  // 所选中的功能组件的关联数据ID，用于功能选择主数据\r\n  static menuControlRelId = null\r\n\r\n  /** 通过后端方法getBillListing获得此功能组件的数据列表，并将列表数据返回\r\n   * filterChecked： 已选择的数据块【草稿，未生效，生效，未审核，审核，作废，结案】\r\n   * filterCbo：查询下拉框model\r\n   * dateCbo：日期下拉框model\r\n   * record：列表查询数据model\r\n   * pageSize：当前页的数据量\r\n   * callback：回调函数，将成功获取列表数据（isSuccess），功能数据列表（listData）, 当前页功能数据列表（listLoadData）,功能数据总页数（pageCount）返回过去\r\n   * */\r\n  static getBillDataList(filterChecked, filterCbo, dateCbo, record, pageSize, callback) {\r\n    // 当前页功能数据列表\r\n    let listLoadData = []\r\n    // 功能数据总页数\r\n    let pageCount = 0\r\n    let filter = filterChecked()\r\n    let fieldName = filterCbo.getValue()\r\n    if (fieldName === 'all') {\r\n      fieldName = ''\r\n    }\r\n    Ext.Ajax.request({\r\n      url: '/billSvc/getBillListing',\r\n      method: 'POST',\r\n      jsonData: {\r\n        listingQuery: {\r\n          Handle: UserHandle,\r\n          ProgId: record.PROGID,\r\n          TimeFilter: dateCbo.getValue(),\r\n          Filter: filter,\r\n          EntryParam: record.ENTRYPARAM\r\n        }\r\n      },\r\n      async: false,\r\n      timeout: 90000000,\r\n      success: function (response) {\r\n        let ret = Ext.decode(response.responseText)\r\n        // 功能数据列表\r\n        let listData = Ext.decode(ret.GetBillListingResult)\r\n        // listData.Columns[0]\r\n        let filterField = Ext.decode(listData.FilterField)\r\n        if (filterField.length > 0) {\r\n          filterCbo.store.loadData(filterField, true)\r\n        }\r\n        // 功能数据数量\r\n        let listingLength = listData.Data.length\r\n        if (listingLength >= pageSize) {\r\n          for (let i = 0; i < pageSize; i++) {\r\n            listLoadData.push(listData.Data[i])\r\n          }\r\n        } else {\r\n          listLoadData = listData.Data\r\n        }\r\n        pageCount = Math.ceil(listingLength / pageSize)\r\n        callback(true, listData, listLoadData, pageCount)\r\n      },\r\n      failure: function (response) {\r\n        Ext.Msg.alert('提示', '获取此功能数据列表失败')\r\n        callback(false, [], [], 0)\r\n      }\r\n    })\r\n  }\r\n\r\n  /** 以弹框的方式显示出此功能组件的数据列表，以供用户选择功能组件的关联主数据ID\r\n   * displayText：弹框的显示标题\r\n   * progId：功能组件的功能标识，具有唯一性\r\n   * callback：回调函数，将关联主数据ID（relId）,关联主数据名称（relName）返回回去\r\n   * */\r\n  static showProgramDataListView(displayText, progId, callback) {\r\n    $('#cpsLoading').css('display', 'block')\r\n    if (progId) {\r\n      if (CpsCommonFunc.canUseFunc(progId)) {\r\n        let win = null\r\n\r\n        let extId = 'Ext_' + CpsCommonFunc.randomString()\r\n        let record = {\r\n          'parentId': extId,\r\n          'MENUITEM': displayText,\r\n          'PROGID': progId,\r\n          'PROGNAME': displayText,\r\n          'BILLTYPE': 0,\r\n          'ENTRYPARAM': '',\r\n          'ISVISUAL': false,\r\n          'CONDITION': '',\r\n          'id': extId,\r\n          'leaf': true,\r\n          'children': null\r\n        }\r\n        let tabId = progId.replace('.', '') + 'panel'\r\n\r\n        let filterCbo = CpsCommonFunc.getFilterCob()\r\n        let compareCbo = CpsCommonFunc.getCompareCbo()\r\n        let compareTxt = CpsCommonFunc.getCompareTxt()\r\n        let dateCbo = CpsCommonFunc.getDateCbo()\r\n\r\n        // 数据过滤模块（草稿,未生效,生效,失效,有效,未审核,已审核），返回[panel, buildChecked]\r\n        let filterFun = Ax.utils.LibQuickSelectBuilder.createSelectBar(record.BILLTYPE)\r\n        // 过滤模块组成的Panel\r\n        let filterPanel = filterFun[0]\r\n        let pageSize = 200\r\n        // 当前页页数\r\n        let pageCount = 1\r\n        let listingData = []\r\n        let listingLoadData = []\r\n        let allPageCount = 0\r\n        let toolBarAction = []\r\n\r\n        // 获取过滤之后的数据列表\r\n        CpsProgramControls.getBillDataList(filterFun[1], filterCbo, dateCbo, record, pageSize, function (isSuccess, listData, listLoadData, pageCount) {\r\n          if (isSuccess) {\r\n            listingData = listData\r\n            listingLoadData = listLoadData\r\n            allPageCount = pageCount\r\n            // 功能数据model\r\n            let listingStore = Ext.create('Ext.data.Store', {\r\n              fields: Ext.decode(listingData.Fields),\r\n              proxy: {\r\n                type: 'memory',\r\n                reader: {\r\n                  type: 'json'\r\n                }\r\n              },\r\n              data: listingLoadData\r\n            })\r\n            let height = $(CpsCommonVar.renderTo).height()\r\n            // 将功能数据加载到grid中\r\n            let gridPanel = Ext.create('Ext.grid.Panel', {\r\n              height: height - 90,\r\n              pageCount: 1,\r\n              pageSize: pageSize,\r\n              flex: 1,\r\n              store: listingStore,\r\n              autoScroll: true,\r\n              Pks: listingData.Pk,\r\n              selType: 'checkboxmodel',\r\n              multiSelect: false,\r\n              columns: Ext.decode(listingData.Columns),\r\n              plugins: 'gridfilters',\r\n              listeners: {\r\n                itemclick: function (self, record, item, index, e, eOpts) {\r\n                  if (document.body.clientWidth < 1210) {\r\n                    toolBarAction[2].execute()\r\n                  }\r\n                },\r\n                itemdblclick: function (self, record, item, index, e, eOpts) {\r\n                  if (document.body.clientWidth >= 1210) {\r\n                    toolBarAction[2].execute()\r\n                  }\r\n                }\r\n              }\r\n            })\r\n            // 表格数据渲染\r\n            gridPanel.columns[0].renderer = function (value, metadata, record, rowIndex) {\r\n              return (gridPanel.pageCount - 1) * gridPanel.pageSize + rowIndex + 1\r\n            }\r\n\r\n            // 工具栏功能加载\r\n            toolBarAction = Ax.utils.LibToolBarBuilder.createBillListingAction(record.PROGID, record.BILLTYPE, displayText, 0, gridPanel, filterCbo, compareCbo,\r\n              compareTxt, dateCbo, filterFun[1], undefined, record.ENTRYPARAM, pageCount, pageSize, allPageCount, listingData)\r\n            // 选择确认\r\n            let selConfirm = Ext.create(Ext.Action, {\r\n              text: '选择确认',\r\n              iconCls: 'fa fa-check ',\r\n              handler: function () {\r\n                let firstRecord = gridPanel.getView().getSelectionModel().getSelection()\r\n                if (firstRecord.length === 1) {\r\n                  let pk = gridPanel.Pks[0]\r\n                  let relId = firstRecord[0].get(pk)\r\n                  let name = pk.substr(0, pk.length - 2) + 'NAME'\r\n                  let relName = firstRecord[0].get(name)\r\n                  if (win) {\r\n                    win.close()\r\n                  }\r\n                  callback(relId, relName)\r\n                } else {\r\n                  Ext.Msg.alert('提示', '只能选择一行数据')\r\n                }\r\n              }\r\n            })\r\n            toolBarAction.push(selConfirm)\r\n            // 加载功能panel\r\n            let tab = Ext.create('Ext.panel.Panel', {\r\n              id: tabId,\r\n              layout: {type: 'vbox', align: 'stretch'},\r\n              border: false,\r\n              tbar: Ax.utils.LibToolBarBuilder.createToolBar(toolBarAction),\r\n              toolBarAction: toolBarAction,\r\n              items: [\r\n                gridPanel,\r\n                filterPanel\r\n              ]\r\n            })\r\n\r\n            let maxWidth = document.body.clientWidth * 0.8\r\n            let maxHeight = document.body.clientHeight * 0.9 - 20\r\n            // 创建window窗口\r\n            win = Ext.create('Ext.window.Window', {\r\n              title: displayText,\r\n              titleAlign: 'center',\r\n              constrain: true,\r\n              closable: true,\r\n              draggable: true,\r\n              resizable: false,\r\n              width: maxWidth,\r\n              height: maxHeight,\r\n              border: false,\r\n              layout: 'fit',\r\n              items: tab,\r\n              isWindow: true,\r\n              listeners: {\r\n                beforeshow: function (self, eOpts) {\r\n                  gridPanel.getView().getSelectionModel().clearSelections()\r\n                  gridPanel.getView().refresh()\r\n                  if (CpsProgramControls.menuControlRelId) {\r\n                    let pk = gridPanel.Pks[0]\r\n                    let orderStore = gridPanel.getView().getStore()\r\n                    let rowCount = orderStore.getCount()\r\n\r\n                    for (let i = 0; i < rowCount; i++) {\r\n                      if (orderStore.getAt(i).get(pk) === CpsProgramControls.menuControlRelId) {\r\n                        // 选中默认行\r\n                        gridPanel.getView().getSelectionModel().selectRange(i, i, true)\r\n                        return\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            })\r\n\r\n            win.show()\r\n          }\r\n        })\r\n      } else {\r\n        Ext.Msg.alert('提示', '没有当前功能的使用权限。')\r\n      }\r\n    }\r\n    $('#cpsLoading').css('display', 'none')\r\n  }\r\n\r\n  /** 为标准工艺路线功能页面附加模型数据\r\n   * techRouteProgId：标准工艺路线功能标识\r\n   * techRouteControlId：标准工艺路线的组件ID\r\n   * techRouteControlName：标准工艺路线的功能名称\r\n   * techRouteId：标准工艺路线的关联主数据ID\r\n   * */\r\n  static AdditionalTechRouteData(techRouteProgId, techRouteControlId, techRouteControlName, techRouteId) {\r\n    Ext.Ajax.request({\r\n      url: '/CpsModule/GetCurrentTechRouteInfo',\r\n      jsonData: { techRouteId: techRouteId, techRouteControlId: techRouteControlId, info: CpsCommonVar.controlLineModels },\r\n      method: 'POST',\r\n      async: false,\r\n      timeout: 90000000,\r\n      success: function (response) {\r\n        let result = undefined\r\n        if(response.responseText)\r\n          result = Ext.decode(response.responseText)\r\n        let billAction = techRouteId ? BillActionEnum.Edit : BillActionEnum.AddNew      //Edit\r\n        let curPks = techRouteId ? [techRouteId] : undefined\r\n        CpsProgramControls.showProgramDataView(techRouteProgId, billAction, curPks, null, result, function (relId, relName) {\r\n          CpsMainPanel.buildControlLayout(techRouteControlId, techRouteControlName, relId, relName, false)\r\n        })\r\n      },\r\n      failure: function (response) {\r\n        if (techRouteId) {\r\n          Ext.Msg.alert('提示', '修改当前标准工艺路线[' + techRouteId + ']数据出现异常')\r\n        } else {\r\n          Ext.Msg.alert('提示', '新增当前标准工艺路线[' + techRouteId + ']数据出现异常')\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  /** 弹出主数据功能框（新增，修改，显示）\r\n   * progId：功能组件的功能标识，具有唯一性\r\n   * billAction：表单类型，有浏览（Browse），新增（AddNew），修改（Modif），编辑（Edit）这几种类型\r\n   * curPks：表单主键数组集合\r\n   * entryParam：表单入口参数\r\n   * callback：回调函数，将关联主数据ID（relId）,关联主数据名称（relName）返回回去\r\n   * */\r\n  static showProgramDataView(progId, billAction, curPks, entryParam, techRouteModel, callback) {\r\n    $('#cpsLoading').css('display', 'block')\r\n    let vcl = Ax.utils.LibVclSystemUtils.getVcl(progId, BillTypeEnum.Master)\r\n    let view = Ax.utils.LibVclSystemUtils.getView(progId, BillTypeEnum.Master, vcl)\r\n    vcl.entryParam = entryParam\r\n    vcl.getTpl()\r\n    vcl.billType = BillTypeEnum.Master\r\n    let id = Ext.id()\r\n    DesktopApp.ActiveWindow = id\r\n    vcl.winId = id\r\n\r\n    let items = view[vcl.funcView.get('default').name](billAction, curPks, true)\r\n    if (!items) {\r\n      return\r\n    }\r\n\r\n    let progName = vcl.tpl.DisplayText\r\n\r\n    let masterRow = vcl.dataSet.getTable(0).data.items[0]\r\n    let title = Ax.utils.LibVclSystemUtils.getCurrentStateText(masterRow.get('CURRENTSTATE'))\r\n    let curPk = ''\r\n    if (curPks !== undefined) {\r\n      curPk = curPks[0]\r\n    }\r\n    if (vcl.tpl.ShowAuditState) {\r\n      let auditTxt = Ax.utils.LibVclSystemUtils.getAuditStateText(masterRow.get('AUDITSTATE'), masterRow.get('FLOWLEVEL'))\r\n      title = curPk + progName + '【' + title + '】' + '【' + auditTxt + '】'\r\n    } else {\r\n      title = curPk + progName + '【' + title + '】'\r\n    }\r\n    if (vcl.billType === BillTypeEnum.Master) {\r\n      if (!masterRow.get('ISVALIDITY')) {\r\n        title += '【已失效】'\r\n      }\r\n    }\r\n\r\n    let win = Ext.create('Ext.window.Window', {\r\n      id: id,\r\n      title: title,\r\n      progName: progName,\r\n      autoScroll: true,\r\n      width: document.body.clientWidth * 0.8,\r\n      height: document.body.clientHeight * 0.9,\r\n      constrainHeader: true,\r\n      minimizable: true,\r\n      maximizable: true,\r\n      items: items,\r\n      vcl: vcl,\r\n      listeners: {\r\n        close: function (self, eOpts) {\r\n          this.vcl.vclHandler(self, {libEventType: LibEventTypeEnum.FormClosed})\r\n          // \"生效\"状态且非“编辑”状态\r\n          if (self.vcl.dataSet.getTable(0).data.items[0].get('CURRENTSTATE') === 2 && !self.vcl.isEdit) {\r\n            let pk = self.vcl.dataSet.getTable(0).data.items[0].store.Pks[0]\r\n            let relId = self.vcl.dataSet.getTable(0).data.items[0].get(pk)\r\n            let name = pk.substr(0, pk.length - 2) + 'NAME'\r\n            let relName = self.vcl.dataSet.getTable(0).data.items[0].get(name)\r\n            callback(relId, relName)\r\n          }\r\n        },\r\n        beforeclose: function (self, eOpts) {\r\n          this.vcl.vclHandler(self, {libEventType: LibEventTypeEnum.FormClosing})\r\n          // 非\"生效\"数据，关闭之后提示警告信息\r\n          if (self.vcl.dataSet.getTable(0).data.items[0].get('CURRENTSTATE') !== 2) {\r\n            if (billAction === BillActionEnum.AddNew) {\r\n              Ext.Msg.alert('提示', '单据未生效，此时新增的数据无效')\r\n            }\r\n            if (billAction === BillActionEnum.Modif) {\r\n              Ext.Msg.alert('提示', '单据未生效，此时修改的数据无效')\r\n            }\r\n          }\r\n        },\r\n        beforeshow: function (self, eOpts) {\r\n          if (progId === 'com.TechRoute' && techRouteModel) {\r\n            CpsMainPanel.FillTechRouteGridData(self.vcl, techRouteModel)\r\n          }\r\n        }\r\n      }\r\n    })\r\n    vcl.win = win\r\n    win.show()\r\n    $('#cpsLoading').css('display', 'none')\r\n  }\r\n\r\n  /** 粘贴已经复制的CPS功能组件到画板中并绑定相关事件\r\n   * cpsControl：已复制的CPS功能组件元素\r\n   * */\r\n  static copyCpsControl(cpsControl) {\r\n    let name = cpsControl.find('div.cps-controls-span').text().split('[')[0]\r\n    let progId = cpsControl.attr('data-progid').replace('.', '')\r\n    let left = Math.round(cpsControl.css('left').replace('px', '')) + 10\r\n    let top = Math.round(cpsControl.css('top').replace('px', '')) + 10\r\n\r\n    let controlId = progId + '_' + parseInt(Math.random() * 1000)\r\n    while ($(CpsCommonConst.canvasId).find('div[id=\\'' + controlId + '\\']').length > 0) {\r\n      controlId = progId + '_' + parseInt(Math.random() * 1000)\r\n    }\r\n    let elDrag = cpsControl.clone().attr({'id': controlId, 'data-relid': ''}).css({\r\n      'left': left + 'px',\r\n      'top': top + 'px'\r\n    })\r\n    elDrag.find('div.cps-controls-span').text(name)\r\n    elDrag.find('div.cps-controls-region').css({\r\n      'background-color': '#eceff4',\r\n      'border': '1px solid #bbcfde '\r\n    })\r\n    $(CpsCommonConst.canvasId).append(elDrag)\r\n    CpsControlsAttr.updateControlByControlId(false, controlId)\r\n    CpsProgramControls.initSvgControlEvent()\r\n    CpsEventPanel.copyCpsControl = elDrag\r\n  }\r\n\r\n  /** 创建鼠标右键快捷菜单【选择，复制，删除】\r\n   * 【选择：弹出此功能组件的数据列表，选择一条数据，点击“选择确认”按钮，将数据【主表ID和NAME值】返回并给组件的关联主数据ID和组件别名赋值】\r\n   * 【复制：将此功能组件进行复制，修改它的ID值和位置（left+10，top+10）并将其复制的组件附加到画板中】\r\n   * 【删除：将此功能组件从画板中删除并删除其相关联的矢量线，清理产线模型中的组件配置明细中的相关组件数据和矢量线配置明细数据相关矢量线数据】\r\n   * */\r\n  static createControlMenu() {\r\n    CpsCommonVar.munePanel = Ext.create('Ext.menu.Menu', {\r\n      width: 100,\r\n      margin: '0 0 10 0',\r\n      floating: true, // 通常你想设置这个为真 (默认的)\r\n      shadow: 'drop',\r\n      items: [\r\n        {\r\n          text: '选择',\r\n          iconCls: 'fa fa-eye',\r\n          handler: function () {\r\n            this.up('menu').hide()\r\n            CpsProgramControls.menuControlId = CpsProgramControls.menuControl.attr('id')\r\n            CpsProgramControls.menuControlRelId = CpsProgramControls.menuControl.attr('data-relid')\r\n            let displayText = CpsProgramControls.menuControl.find('div.cps-controls-span').text()\r\n            let progId = CpsProgramControls.menuControl.attr('data-progid')\r\n\r\n            if (progId === 'com.TechRoute' && CpsCommonVar.controlLineModels.FactoryModuleType === 2) {\r\n              toastr.info('选择标准工艺路线主数据ID之前，要为其组件右方或下方的组件布局留出足够的空白区域以便加载其数据模型覆盖当前数据模型！', '系统提示')\r\n              CpsProgramControls.showProgramDataListView(displayText, progId, function (relId, relName) {\r\n                Ext.Msg.confirm(\"系统提示\", \"是否进行标准工艺路线的数据模型复制操作？\", function (btn) {\r\n                  let isCopy = btn === \"yes\" ? true : false\r\n                  CpsMainPanel.buildControlLayout(CpsProgramControls.menuControlId, displayText, relId, relName, isCopy)\r\n                })\r\n              })\r\n            } else {\r\n              CpsProgramControls.showProgramDataListView(displayText, progId, function (relId, relName) {\r\n                CpsControlsAttr.setControlRelIdName(CpsProgramControls.menuControlId, displayText, relId, relName)\r\n              })\r\n            }\r\n          }\r\n        },\r\n        {\r\n          text: '复制',\r\n          iconCls: 'fa fa-plus',\r\n          handler: function () {\r\n            this.up('menu').hide()\r\n            CpsProgramControls.copyCpsControl(CpsProgramControls.menuControl)\r\n          }\r\n        },\r\n        {\r\n          text: '删除',\r\n          iconCls: 'fa fa-trash',\r\n          handler: function () {\r\n            this.up('menu').hide()\r\n            let controlId = CpsProgramControls.menuControl.attr('id')\r\n            CpsControlsAttr.deleteControlByControlId(controlId)\r\n          }\r\n        }\r\n      ],\r\n      renderTo: CpsCommonVar.renderTo  // 通常由它的包含容器呈现\r\n    })\r\n    return CpsCommonVar.munePanel\r\n  }\r\n\r\n  /** 创建功能组件的描述框，用于将组件描述的内容以提示框的形式显示出来\r\n   * controlId：功能组件的组件ID，功能组件的唯一标识\r\n   * isShow：是否显示描述框，true表示显示，false表示隐藏\r\n   * */\r\n  static createControlToolTip(controlId, isShow) {\r\n    // 使用变量descToolTip来表示组件描述框，若未创建则先创建一个\r\n    if (!CpsCommonVar.descToolTip) {\r\n      CpsCommonVar.descToolTip = Ext.create('Ext.tip.ToolTip', {\r\n        html: '跟随鼠标移动',\r\n        trackMouse: true,            //  跟随鼠标移动\r\n        dismissDelay: 8000,         // 15秒后自动隐藏\r\n        border: '1 1 1 1',\r\n        anchorOffset: 10,           // 指定箭头的位置\r\n        cls: 'cps-x-tip-top-default',\r\n        anchor: 'top',           // 指定箭头的指向 top,left,right\r\n        maxWidth: 250,\r\n        Width: 250\r\n      })\r\n    }\r\n    if (isShow) {\r\n      let svgOffset = $(CpsCommonConst.canvasId).offset()\r\n      let left = 0\r\n      let top = 0\r\n      let html = '<b>未知数据</b><br>'\r\n      for (let i = 0; i < CpsCommonVar.controlLineModels.ControlDetail.length; i++) {\r\n        let model = CpsCommonVar.controlLineModels.ControlDetail[i]\r\n        if (model.ControlId === controlId) {\r\n          left = model.XCoordinate + model.ControlWidth / 2 + svgOffset.left - $(CpsCommonConst.canvasId).scrollLeft() - 5\r\n          top = model.YCoordinate + model.ControlHeight + svgOffset.top - $(CpsCommonConst.canvasId).scrollTop()\r\n          html = '<b>' + model.ControlDescription + '</b><br>'\r\n          break\r\n        }\r\n      }\r\n      CpsCommonVar.descToolTip.update(html)\r\n      CpsCommonVar.descToolTip.showAt(left, top)\r\n    } else {\r\n      CpsCommonVar.descToolTip.setVisible(false)\r\n    }\r\n  }\r\n\r\n  /** 当CPS功能组件拖拽入画板中时，根据不同的功能标识显示成不同的样子【宽高】\r\n   * elDrag：当前要拖拽的CPS功能组件元素\r\n   * */\r\n  static getPersonalControl(elDrag) {\r\n    let progId = elDrag.attr('data-progid')\r\n    if(CpsCommonVar.controlLineModels.FactoryModuleType === 1){\r\n      switch (progId) {\r\n        case 'com.ProduceLine':\r\n          elDrag.css({'width': '600px', 'height': '60px'})\r\n          elDrag.find('img').css({'width': '30px', 'height': '30px'})\r\n          break\r\n        case 'com.WorkshopSection':\r\n          elDrag.css({'width': '280px', 'height': '55px'})\r\n          elDrag.find('img').css({'width': '25px', 'height': '25px'})\r\n          break\r\n        case 'com.WorkProcess':\r\n          elDrag.css({'width': '150px', 'height': '50px'})\r\n          elDrag.find('img').css({'width': '20px', 'height': '20px'})\r\n          break\r\n        case 'com.Workstation':\r\n          elDrag.css({'width': '80px', 'height': '50px'})\r\n          elDrag.find('img').css({'width': '20px', 'height': '20px'})\r\n          break\r\n      }\r\n    }\r\n    if(CpsCommonVar.controlLineModels.FactoryModuleType === 2){\r\n      switch (progId) {\r\n        case 'com.TechRoute':\r\n          elDrag.css({'width': '70px', 'height': '600px'})\r\n          elDrag.find('img').css({'width': '40px', 'height': '40px'})\r\n          break\r\n        case 'com.TechRouteType':\r\n          elDrag.css({'width': '50px', 'height': '280px'})\r\n          elDrag.find('img').css({'width': '20px', 'height': '20px'})\r\n          break\r\n        case 'com.WorkshopSection':\r\n          elDrag.css({'width': '60px', 'height': '300px'})\r\n          elDrag.find('img').css({'width': '30px', 'height': '30px'})\r\n          break\r\n        case 'com.WorkProcess':\r\n          elDrag.css({'width': '160px', 'height': '60px'})\r\n          elDrag.find('img').css({'width': '30px', 'height': '30px'})\r\n          break\r\n        case 'com.WorkstationConfig':\r\n        case 'com.Material':\r\n        case 'com.MaterialType':\r\n          elDrag.css({'width': '160px', 'height': '50px'})\r\n          elDrag.find('img').css({'width': '20px', 'height': '20px'})\r\n          break\r\n      }\r\n    }\r\n    return elDrag\r\n  }\r\n\r\n  /** SVG组件共有事件【SVG组件拖拽事件，SVG组件其他事件】\r\n   * 【SVG组件拖拽事件：SVG组件开始拖拽，SVG组件结束拖拽。对产线模型中的组件配置明细中的组件数据进行增删改】\r\n   * 【SVG组件其他事件：SVG组件鼠标右键事件，SVG组件鼠标左键事件，SVG组件双击事件, SVG组件鼠标进入事件，SVG组件鼠标移开事件】\r\n   * */\r\n  static initSvgControlEvent() {\r\n    CpsProgramControls.setControlDragEvent()\r\n    CpsProgramControls.setSvgControlOtherEvent()\r\n  }\r\n\r\n  /** CPS功能组件的初始化事件【组件拖拽事件，组件拖放事件，组件其他事件】\r\n   * 【组件拖拽事件：组件开始拖拽，组件结束拖拽。对产线模型中的组件配置明细中的组件数据进行增删改】\r\n   * 【SVG组件共有事件：SVG组件拖拽事件，SVG组件其他事件。】\r\n   * */\r\n  static initProgramControlEvent() {\r\n    CpsProgramControls.initSvgControlEvent()\r\n    CpsProgramControls.setControlMoveEvent()\r\n  }\r\n\r\n  /** CPS功能组件拖拽事件【组件开始拖拽，组件结束拖拽】\r\n   * 【组件开始拖拽：通过变量existControl定义内部或外部元素拖拽，变量dragControl判定拖拽元素，并计算拖拽元素的偏移位】\r\n   * 【组件结束拖拽：根据拖拽元素的位置判定是否需要删除组件，根据变量existControl确认新增或修改组件配置明细中的组件数据】\r\n   * */\r\n  static setControlDragEvent() {\r\n    /** 重新绑定拖拽元素的开始事件，用于被拖拽的元素表示可以拖动\r\n     * 拖拽的元素有两种：一是CPS动态组件中的组件元素，二是画板中的组件元素\r\n     * */\r\n    $(CpsCommonConst.mainPanelId).find('div[name=\\'cpsIcon\\']').unbind('dragstart').bind('dragstart', function (event) {\r\n      if (!CpsCommonVar.useVectorLine && !CpsCommonVar.redrawCpsControl) {\r\n        // 定义一个变量controlId用于表示当前拖拽组件的ID\r\n        let controlId = $(this).attr('id')\r\n        // 在画板中是否存在组件ID为controlId的组件，若存在则是画板中的组件元素拖拽，否则是CPS动态组件中的组件元素拖拽\r\n        let cpsControl = $(CpsCommonConst.canvasId).find('div[id=\\'' + controlId + '\\']')\r\n        // 画板中的组件元素进行拖拽，重新计算拖拽元素相对于画板的偏移位并隐藏缩放圆点\r\n        if (cpsControl.length > 0) {\r\n          CpsProgramControls.existControl = true\r\n          CpsProgramControls.canvasOffsetX = $(CpsCommonConst.canvasId).offset().left - $(CpsCommonConst.canvasId).scrollLeft()\r\n          CpsProgramControls.canvasOffsetY = $(CpsCommonConst.canvasId).offset().top - $(CpsCommonConst.canvasId).scrollTop()\r\n          $(CpsCommonConst.drawSVGId).find('circle[name=\\'zoomCircle\\']').css({'display': 'none'})\r\n          CpsCommonVar.selControlId = null\r\n          $(CpsCommonConst.drawSVGId).find('circle[name=\\'drawCircle\\']').css({'display': 'none'})\r\n          CpsCommonVar.selVectorLineId = null\r\n          CpsCommonVar.polylineAttrPanel.getForm().reset()\r\n        } else {\r\n          // CPS动态组件中的组件元素进行拖拽，重新计算拖拽元素相对于画板的偏移位\r\n          CpsProgramControls.existControl = false\r\n          CpsProgramControls.canvasOffsetX = $(CpsCommonConst.canvasId).offset().left - $(this).offset().left - $(CpsCommonConst.canvasId).scrollLeft()\r\n          CpsProgramControls.canvasOffsetY = $(CpsCommonConst.canvasId).offset().top - $(this).offset().top - $(CpsCommonConst.canvasId).scrollTop()\r\n          // 构建组件ID值【通过下划线‘_’连接功能标识和三位随机数而组成】，使之在画板中具有唯一性\r\n          let id = controlId + '_' + parseInt(Math.random() * 1000)\r\n          while ($(CpsCommonConst.canvasId).find('div[id=\\'' + id + '\\']').length > 0) {\r\n            id = controlId + '_' + parseInt(Math.random() * 1000)\r\n          }\r\n          // 并将此组件元素复制并修改其组件ID属性值赋值给变量existControl\r\n          cpsControl = $(this).clone()\r\n          cpsControl = cpsControl.attr('id', id)\r\n          cpsControl = CpsProgramControls.getPersonalControl(cpsControl)\r\n        }\r\n        // 重新计算当前拖拽元素的相对于拖拽点的偏移位\r\n        CpsProgramControls.controlOffsetX = parseInt(event.clientX - cpsControl.offset().left)\r\n        CpsProgramControls.controlOffsetY = parseInt(event.clientY - cpsControl.offset().top)\r\n        cpsControl.css({'position': 'absolute', 'margin': '0'})\r\n        CpsProgramControls.dragControl = cpsControl\r\n      }\r\n    })\r\n\r\n    /** 重新绑定拖拽结束事件，用于被拖曳的元素表示结束拖动\r\n     * 拖拽结束有两种情况：一是拖拽元素从画板中移除【内部元素移除和外部元素移除】，二是拖拽元素在画板中修正【内部元素修改和外部元素新增】\r\n     * */\r\n    $(CpsCommonConst.mainPanelId).find('div[name=\\'cpsIcon\\']').unbind('dragend').bind('dragend', function (event) {\r\n      if (!CpsCommonVar.useVectorLine && !CpsCommonVar.redrawCpsControl) {\r\n        let left = Math.round(CpsProgramControls.dragControl.css('left').replace('px', ''))\r\n        let top = Math.round(CpsProgramControls.dragControl.css('top').replace('px', ''))\r\n        let controlId = CpsProgramControls.dragControl.attr('id')\r\n        if (left < 0 || top < 0) {\r\n          CpsControlsAttr.deleteControlByControlId(controlId)\r\n        } else {\r\n          CpsControlsAttr.updateControlByControlId(CpsProgramControls.existControl, controlId)\r\n          if (!CpsProgramControls.existControl) {\r\n            CpsProgramControls.initSvgControlEvent()\r\n          }\r\n        }\r\n      }\r\n\r\n      CpsProgramControls.existControl = false\r\n      CpsProgramControls.dragControl = null\r\n      event.originalEvent.preventDefault()\r\n    })\r\n  }\r\n\r\n  /** CPS功能组件拖放事件【进入目标元素，在目标元素中移动】\r\n   * 【组件进入目标元素：未选中的拖拽元素的属性在组件属性模块中显示】\r\n   * 【组件在目标元素中移动：更新拖拽元素在画板中的位置以及在组件属性模块中的XY坐标值】\r\n   * */\r\n  static setControlMoveEvent() {\r\n    /** 重新绑定拖拽元素进入目标元素事件，用于被拖曳的元素进入目标元素时显示出此组件的属性\r\n     * 进入画板的拖拽元素：一是选中元素的拖拽，此不进行任何操作；二是未选中元素的拖拽，这将在组件属性模块中显示此组件的属性\r\n     * */\r\n    $(CpsCommonConst.canvasId).unbind('dragenter').bind('dragenter', function (event) {\r\n      if (!CpsCommonVar.useVectorLine && CpsProgramControls.dragControl && !CpsCommonVar.redrawCpsControl) {\r\n        let controlId = CpsProgramControls.dragControl.attr('id')\r\n        if (CpsCommonVar.controlsAttrPanel.getForm().findField('ControlId').getValue() !== controlId) {\r\n          CpsControlsAttr.setControlAttrFormValues(CpsProgramControls.dragControl)\r\n        }\r\n        if (!CpsProgramControls.existControl && $(CpsCommonConst.drawSVGId).find('svg[id=\\'' + controlId + '\\']').length <= 0) {\r\n          let left = event.clientX - CpsProgramControls.controlOffsetX - CpsProgramControls.canvasOffsetX\r\n          let top = event.clientY - CpsProgramControls.controlOffsetY - CpsProgramControls.canvasOffsetY\r\n          CpsProgramControls.dragControl.css('left', left)\r\n          CpsProgramControls.dragControl.css('top', top)\r\n          $(CpsCommonConst.canvasId).append(CpsProgramControls.dragControl)\r\n        }\r\n      }\r\n\r\n      event.originalEvent.preventDefault()\r\n    })\r\n\r\n    /** 重新绑定拖拽元素在目标元素中移动事件，用于被拖拽的元素在目标元素上移动时，修改拖拽元素的坐标和组件属性模块中的坐标值\r\n     * 拖拽元素移动：计算出鼠标相对于组件的偏移位、画板的偏移位的位置作为组件的移动的坐标，为其元素的left或top赋值和组件属性模块中的XY坐标赋值\r\n     * */\r\n    $(CpsCommonConst.canvasId).unbind('dragover').bind('dragover', function (event) {\r\n      if (!CpsCommonVar.useVectorLine && CpsProgramControls.dragControl && !CpsCommonVar.redrawCpsControl) {\r\n        let left = event.clientX - CpsProgramControls.controlOffsetX - CpsProgramControls.canvasOffsetX\r\n        let top = event.clientY - CpsProgramControls.controlOffsetY - CpsProgramControls.canvasOffsetY\r\n        CpsProgramControls.dragControl.css('left', left)\r\n        CpsProgramControls.dragControl.css('top', top)\r\n        CpsCommonVar.controlsAttrPanel.getForm().findField('XCoordinate').setValue(left)\r\n        CpsCommonVar.controlsAttrPanel.getForm().findField('YCoordinate').setValue(top)\r\n        CpsMainPanel.resizeDrawSvg(CpsProgramControls.dragControl)    //CPS组件移动中拓展\r\n      }\r\n\r\n      event.originalEvent.preventDefault()\r\n    })\r\n  }\r\n\r\n  /** CPS功能组件其他事件【组件鼠标右键事件，组件鼠标左键事件，组件双击事件, 组件鼠标进入事件，组件鼠标移开事件】\r\n   * 【组件鼠标右键事件：用于显示快捷菜单】\r\n   * 【组件鼠标左键事件：用于显示组件属性form】\r\n   * 【组件双击事件：用于显示功能组件功能数据列表界面】\r\n   * 【组件鼠标进入事件：显示其位置方点，当使用描述框功能时，显示其功能描述提示框】\r\n   * 【组件鼠标移开事件：隐藏其位置方点，当禁用描述框功能时，隐藏其功能描述提示框】\r\n   * */\r\n  static setSvgControlOtherEvent() {\r\n    /** 重新绑定功能组件鼠标右键事件（event.button为2是鼠标右键），用于显示快捷菜单\r\n     * 使用变量munePanel来表示快捷菜单，将其显示位置放在当前鼠标位置，并使用变量menuControl来代表当前功能组件\r\n     * */\r\n    $(CpsCommonConst.canvasId).find('div[name=\\'cpsIcon\\']').unbind('mouseup').bind('mouseup', function (event) {\r\n      if (!CpsCommonVar.useVectorLine) {\r\n        if (event.button === 2) {\r\n          if (!CpsCommonVar.munePanel) {\r\n            CpsProgramControls.createControlMenu()\r\n          }\r\n          CpsProgramControls.menuControl = $(this)\r\n          CpsCommonVar.munePanel.showAt(event.clientX, event.clientY, false)\r\n          event.preventDefault()\r\n        }\r\n      }\r\n    })\r\n\r\n    /** 重新绑定功能组件鼠标左键事件（event.button为1或0是鼠标左键），用于显示组件属性form\r\n     * 在组件属性模块中显示此组件的属性以及显示此组件的缩放原点，设置选中状态，并使用变量selControlId来代表选中功能组件的组件ID\r\n     * */\r\n    $(CpsCommonConst.canvasId).find('div[name=\\'cpsIcon\\']').unbind('click').bind('click', function (event) {\r\n      if (!CpsCommonVar.useVectorLine) {\r\n        CpsCommonVar.selCpsControl = $(this)\r\n        CpsCommonVar.isSelCpsControl = true\r\n        CpsControlsAttr.setControlAttrFormValues(CpsCommonVar.selCpsControl)\r\n        CpsCommonFunc.showElementPoints(CpsCommonVar.selCpsControl, 'zoomCircle')\r\n        CpsCommonVar.selControlId = CpsCommonVar.selCpsControl.attr('id')\r\n      }\r\n    })\r\n\r\n    /** 重新绑定功能组件双击事件，用于显示组件的功能数据列表视图\r\n     * 通过变量relId确认显示功能组件的浏览还是新增数据列表视图，关闭弹窗后将有效的功能主数据ID和名称重新给组件的关联主数据ID和组件别名赋值\r\n     * */\r\n    $(CpsCommonConst.canvasId).find('div[name=\\'cpsIcon\\']').unbind('dblclick').bind('dblclick', function (event) {\r\n      if (!CpsCommonVar.useVectorLine) {\r\n        let controlId = $(this).attr('id')\r\n        let progId = $(this).attr('data-progid')\r\n        let relId = $(this).attr('data-relid')\r\n        let controlName = $(this).find('div.cps-controls-span').text()\r\n        if (progId === 'com.TechRoute' && CpsCommonVar.controlLineModels.FactoryModuleType === 2) {\r\n          toastr.info('新增或修改标准工艺路线之前，要为其组件右方或下方的组件布局留出足够的空白区域以便加载其数据模型覆盖当前数据模型！', '系统提示')\r\n          CpsProgramControls.AdditionalTechRouteData(progId, controlId, controlName, relId)\r\n        } else {\r\n          let billAction = relId ? BillActionEnum.Browse : BillActionEnum.AddNew\r\n          let curPks = relId ? [relId] : undefined\r\n          CpsProgramControls.showProgramDataView(progId, billAction, curPks, null, null, function (relId, relName) {\r\n            CpsControlsAttr.setControlRelIdName(controlId, controlName, relId, relName)\r\n          })\r\n        }\r\n      }\r\n    })\r\n\r\n    /** 重新绑定功能组件鼠标进入事件，用于显示功能组件上的位置连接点，组件描述提示框\r\n     * 通过变量useVectorLine确认是否显示功能组件上的位置连接点，通过变量useVectorLine和useToolTip确认是否显示组件描述提示框\r\n     * */\r\n    $(CpsCommonConst.canvasId).find('div[name=\\'cpsIcon\\']').unbind('mouseenter').bind('mouseenter', function (event) {\r\n      if (CpsCommonVar.useVectorLine || CpsCommonVar.redrawVectorLine) {\r\n        CpsCommonFunc.showElementPoints($(this), 'controlRect')\r\n      }\r\n      if (!CpsCommonVar.useVectorLine && CpsCommonVar.useToolTip) {\r\n        let controlId = $(this).attr('id')\r\n        CpsProgramControls.createControlToolTip(controlId, true)\r\n      }\r\n    })\r\n\r\n    /** 重新绑定功能组件鼠标移开事件，用于隐藏功能组件上的位置连接点，组件描述提示框\r\n     * 通过变量useVectorLine确认是否隐藏功能组件上的位置连接点，通过变量useVectorLine和useToolTip确认是否隐藏组件描述提示框\r\n     * */\r\n    $(CpsCommonConst.canvasId).find('div[name=\\'cpsIcon\\']').unbind('mouseleave').bind('mouseleave', function (event) {\r\n      if (CpsCommonVar.useVectorLine || CpsCommonVar.redrawVectorLine) {\r\n        $(CpsCommonConst.drawSVGId).find('rect[name=\\'controlRect\\']').css({'display': 'none'})\r\n        CpsCommonVar.positionRectPoints = null\r\n      }\r\n      if (!CpsCommonVar.useVectorLine && CpsCommonVar.useToolTip) {\r\n        CpsProgramControls.createControlToolTip(null, false)\r\n      }\r\n    })\r\n  }\r\n}\r\nexport {CpsProgramControls}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/cps/CpsProgramControls.js","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_core-js@2.5.0@core-js/library/modules/_object-gopn.js\n// module id = 610\n// module chunks = 1","exports.f = Object.getOwnPropertySymbols;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_core-js@2.5.0@core-js/library/modules/_object-gops.js\n// module id = 611\n// module chunks = 1","<template>\r\n  <div class=\"content-section\">\r\n    <section v-show=\"isExt\" v-for=\"container in contrainers\" :ref=\"container\"></section>\r\n    <router-view v-show=\"!isExt\"></router-view>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import * as types from '../../store/mutation-types'\r\n  import {ContentLayout} from '../../assets/js/ext/container-tab-panel'\r\n  import {Workbench} from '../../assets/js/ext/workbench'\r\n  import {MenuConfig} from '../../assets/js/ext/menu-config'\r\n  import {CpsConfigure} from '../../assets/js/ext/cps-configure'\r\n  import {Document} from '../../assets/js/ext/document'\r\n  import {NavHeaderItemUtility, EnumNavHeader} from '../items/nav-header-items'\r\n  import ExtContent from '../../assets/js/ext/contentExt'\r\n  import SignalR from '../../assets/js/signalR/signalR.js'\r\n  import Toastr from '../../assets/js/toastr/toastr.js'\r\n  import storage from 'src/module/storage'\r\n  export default {\r\n    data () {\r\n      return {\r\n        subscribe: null,\r\n        isExt: true\r\n      }\r\n    },\r\n    computed: {\r\n      /* 容器列表 */\r\n      contrainers () {\r\n        return NavHeaderItemUtility.getContrainers()\r\n      },\r\n      /* 顶部菜单选择项 */\r\n      headerItem () {\r\n        return this.$store.state.mainHeader.selectedItem\r\n      }\r\n    },\r\n    beforeMount () {\r\n      this.subscribeChanged()\r\n    },\r\n    mounted () {\r\n      this.init()\r\n    },\r\n    beforeDestroy () {\r\n      this.subscribe()\r\n    },\r\n    methods: {\r\n      init () {\r\n        Toastr.toastrInit()\r\n        SignalR.connectionInit()\r\n        Ax.utils.LibVclSystemUtils.loadVueStore(this.$store, types)\r\n        Document.onInit(this.headerItemChanged) // 文档管理类初始化，将顶部菜单的切换函数传进对象中\r\n        CpsConfigure.onInit(this.headerItemChanged) // CPS界面初始化\r\n        this.setDefaultHeaderItem()\r\n      },\r\n      setDefaultHeaderItem () {\r\n        let headerItem = storage.getHeaderItem()\r\n        if (!headerItem) {\r\n          headerItem = NavHeaderItemUtility.getDefaultHeaderItem()\r\n        }\r\n        this.$nextTick(() => {\r\n          storage.setHeaderItem(headerItem)\r\n          this.$store.dispatch(types.MAIN_HEADER_SELECTED_ITEM, {selectedItem: headerItem})\r\n        })\r\n      },\r\n      /* 订阅store变化事件 */\r\n      subscribeChanged () {\r\n        this.subscribe = this.$store.subscribe((mutation, state) => {\r\n          if (mutation.type === types.MAIN_HEADER_SELECTED_ITEM) {\r\n            this.isExt = true\r\n            this.$router.push('/layout/content/')\r\n            this.headerItemChanged(mutation.payload.selectedItem)\r\n          }\r\n          if (mutation.type === types.MAIN_SIDEBAR_SELECTED_ITEM) {\r\n            if (mutation.payload.selectedItem.item.PROGID === 'PUBLISH') {\r\n              this.isExt = false\r\n              this.$router.push('/layout/content/publish/pull')\r\n            } else {\r\n              this.isExt = true\r\n              this.$router.push('/layout/content/')\r\n              this.sideItemChanged(mutation.payload.selectedItem.item)\r\n            }\r\n          }\r\n        })\r\n      },\r\n      /* 订阅侧边栏菜单点击事件 */\r\n      sideItemChanged (item) {\r\n        const extCmp = this.getExtComponent(this.headerItem.contrainer)\r\n        if (!extCmp) {\r\n          return\r\n        }\r\n        this.reRender(extCmp)\r\n        extCmp.itemClick(item)\r\n      },\r\n      /* 顶部菜单切换事件 */\r\n      headerItemChanged (item) {\r\n        this.isExt = true\r\n        this.$router.push('/layout/content/')\r\n        this.setMainSidebarEnabled(true)\r\n        const contrainer = item.contrainer\r\n        this.setContrainer(contrainer)\r\n        let extCmp = this.getExtComponent(contrainer)\r\n        if (!extCmp) {\r\n          this.initContrainer(contrainer)\r\n          extCmp = this.getExtComponent(contrainer)\r\n        }\r\n        this.setSidebarEnabledByContrainer(contrainer)\r\n        this.reRender(extCmp)\r\n      },\r\n      /* 初始化容器 */\r\n      initContrainer (contrainer) {\r\n        const domContrainer = this.$refs[contrainer][0]\r\n        switch (contrainer) {\r\n          case EnumNavHeader.workbench:\r\n            this.putExtComponent(Workbench.getControl(domContrainer), contrainer)\r\n            break\r\n          case EnumNavHeader.menuConfig:\r\n            this.putExtComponent(MenuConfig.onSetMenu(domContrainer), contrainer)\r\n            break\r\n          case EnumNavHeader.document:\r\n            this.putExtComponent(Document.onSetMenu(domContrainer), contrainer)\r\n            break\r\n          case EnumNavHeader.cpsModel:\r\n            this.putExtComponent(CpsConfigure.onSetMenu(domContrainer), contrainer)\r\n            break\r\n          default :\r\n            this.putExtComponent(ContentLayout.getControl(domContrainer), contrainer)\r\n            break\r\n        }\r\n      },\r\n      /* 根据容器设置侧边栏搜索控件与菜单控件是否启用 */\r\n      setSidebarEnabledByContrainer (contrainer) {\r\n        switch (contrainer) {\r\n          case EnumNavHeader.menuConfig:\r\n            this.setMainSidebarEnabled(false)\r\n            break\r\n          case EnumNavHeader.document:\r\n            this.setMainSidebarEnabled(false)\r\n            break\r\n          case EnumNavHeader.cpsModel:\r\n            this.setMainSidebarEnabled(false)\r\n            break\r\n        }\r\n      },\r\n      /* 根据顶部菜单选项切换容器，设置高度显示/隐藏 */\r\n      setContrainer (key) {\r\n        for (let contrainer of this.contrainers) {\r\n          const domList = this.$refs[contrainer]\r\n          if (key === contrainer) {\r\n            domList[0].className = 'contrainer-show'\r\n          } else {\r\n            domList[0].className = 'contrainer-hide'\r\n          }\r\n        }\r\n      },\r\n      /* 重新渲染ext组件 */\r\n      reRender (ext) {\r\n        this.$nextTick(() => {\r\n          try {\r\n            ExtContent.contrainer = ext\r\n            ext.updateLayout()\r\n          } catch (error) {\r\n            console.error(error)\r\n          }\r\n        })\r\n      },\r\n      /* 设置侧边栏搜索控件与菜单控件是否启用 */\r\n      setMainSidebarEnabled (isEnabled) {\r\n        this.$store.dispatch(types.MAIN_SIDEBAR_SEARCH_ENABLED, {isEnabled})\r\n        this.$store.dispatch(types.MAIN_SIDEBAR_MENU_ENABLED, {isEnabled})\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n  .contrainer-hide {\r\n    height: 0;\r\n    width: 0;\r\n  }\r\n\r\n  .contrainer-show {\r\n    height: 100%;\r\n    width: 100%;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// layout.vue?096f3d64","/**********************************************************************\r\n * CopyRight 2016 杭州集控科技有限公司 版权所有\r\n * 功能描述：CPS建模主窗口\r\n * 创建标识：Huangwz 2017/03/18\r\n *\r\n * 修改标识：Huangwz 2017/03/18\r\n *\r\n ************************************************************************/\r\nimport {CpsCommonVar} from './CpsCommon'\r\nimport {CpsMainPanel} from './CpsMainPanel'\r\nimport {CpsSystemControls} from './CpsSystemControls'\r\nimport {CpsControlsAttr} from './CpsControlsAttr'\r\nimport {CpsPolylineAttr} from './CpsPolylineAttr'\r\nimport {CpsEventPanel} from './CpsEventPanel'\r\nExt.define('CPSConfigureManage.CpsConfigureMain', {\r\n  init: function () {\r\n    this.launcher = {\r\n      text: 'CPS建模',\r\n      iconCls: 'menuIco'\r\n    }\r\n  },\r\n\r\n  /** 创建属性模块组  宽度固定250，最小高度750，小于可视区域范围出现滚动条\r\n   * CPS组件属性模块  宽度固定250，高度不限定\r\n   * 矢量线属性模块  宽度固定250，高度固定170\r\n   * */\r\n  createAttrPanel: function () {\r\n    let maxHeight = parseInt($('.content-section').css('height').replace('px', '')) - 50\r\n    // 加载组件属性模块\r\n    let controlAttrPanel = CpsControlsAttr.createControlAttrPanel()\r\n    // 加载矢量线属性模块\r\n    let polylineAttrPanel = CpsPolylineAttr.createPolylineAttrPanel()\r\n    CpsCommonVar.attrFormPanels = Ext.create('Ext.panel.Panel', {\r\n      border: false,\r\n      width: 250,\r\n      height: '100%',\r\n      maxHeight: maxHeight,\r\n      autoScroll: true,\r\n      flex: 0,\r\n      layout: 'vbox',\r\n      items: [controlAttrPanel, polylineAttrPanel]\r\n    })\r\n    return CpsCommonVar.attrFormPanels\r\n  },\r\n\r\n  /** 创建并显示CPS工厂建模管理主窗口\r\n   * 初始加载 系统事件模块、画板以及组件模块、组件属性模块以及矢量线属性模块 这五大模块\r\n   * 默认加载画板模块数据、组件模块数据\r\n   * */\r\n  createCpsFactoryModule: function (renderTo, produceControlLineId, masterVcl) {\r\n    // 加载事件模块\r\n    let eventPanel = CpsEventPanel.createEventPanel()\r\n    // 加载画板以及组件模块\r\n    let mainPanel = CpsMainPanel.createMainPanel()\r\n    // 加载CPS组件属性模块和矢量线属性模块\r\n    let attrPanel = this.createAttrPanel()\r\n\r\n    // 创建整体panel，用于显示CPS产线模型操作面板\r\n    let panel = Ext.create('Ext.panel.Panel', {\r\n      id: 'CpsConfigureWinId',\r\n      header: false,\r\n      draggable: false,\r\n      resizable: false,\r\n      width: '100%',\r\n      height: '100%',\r\n      iconCls: 'gears',\r\n      animCollapse: false,\r\n      border: false,\r\n      layout: 'vbox',\r\n      items: [\r\n        {\r\n          xtype: 'panel',\r\n          border: true,\r\n          width: '100%',\r\n          height: 50,\r\n          flex: 0,\r\n          layout: 'fit',\r\n          items: [eventPanel]\r\n        },\r\n        {\r\n          xtype: 'panel',\r\n          border: false,\r\n          width: '100%',\r\n          flex: 1,\r\n          layout: 'hbox',\r\n          autoScroll: true,\r\n          items: [mainPanel, attrPanel]\r\n        }\r\n      ],\r\n      renderTo: renderTo,\r\n      style: {\r\n        'border-radius': '0px !important;',\r\n        'background-color': '#4a9dcf !important;',\r\n        'border-color': '#4a9dcf !important;'\r\n      }\r\n    })\r\n    CpsCommonVar.renderTo = renderTo\r\n    // 加载系统组件模块数据Vue\r\n    CpsSystemControls.loadSystemControlConfigVue()\r\n    if(!masterVcl){\r\n      // 加载画板模块数据Vue和相关的组件模块Vue\r\n      CpsMainPanel.selFactoryModuleType(produceControlLineId, masterVcl)\r\n    }\r\n    return panel\r\n  }\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/cps/CpsConfigureMain.js","/**********************************************************************\r\n * CopyRight 2016 杭州集控科技有限公司 版权所有\r\n * 功能描述：CPS建模模块的主窗口\r\n * 创建标识：Huangwz 2017/03/10\r\n *\r\n * 修改标识：Huangwz 2017/03/10\r\n *\r\n ************************************************************************/\r\nimport storage from '../../../module/storage'\r\nimport {EnumNavHeader, NavHeaderItems} from '../../../components/items/nav-header-items'\r\nimport {CpsCommonFunc, CpsCommonVar} from '../cps/CpsCommon'\r\nimport {CpsMainPanel} from '../cps/CpsMainPanel'\r\nimport {CpsProgramControls} from '../cps/CpsProgramControls'\r\nimport '../cps/CpsConfigureMain'\r\nclass CpsConfigure {\r\n  // 在系统初始时需要做的工作\r\n  static onInit(gotoMenu) {\r\n    // CPS建模对象不存在时，默认初始加载,创建CPS建模管理模块对象\r\n    if (!CpsConfigure.Instance) {\r\n      CpsConfigure.Instance = Ext.create('CPSConfigureManage.CpsConfigureMain', {})\r\n    }\r\n    // 为CPS建模的跳转菜单赋值\r\n    CpsConfigure.gotoMenu = gotoMenu\r\n    // 查找得到顶部菜单中的CPS建模管理Item\r\n    let filterList = undefined\r\n    for (let i = 0; i < NavHeaderItems.length; i++) {\r\n      if (NavHeaderItems[i] && NavHeaderItems[i].text === 'CPS建模') {\r\n        filterList = NavHeaderItems[i]\r\n        break\r\n      }\r\n    }\r\n    /** 若CPS建模对象存在，则将对象赋值给当前建模项\r\n     * 否则，默认初始化赋值\r\n     */\r\n    if (filterList) {\r\n      CpsConfigure.CpsConfigureItem = filterList\r\n    } else {\r\n      CpsConfigure.CpsConfigureItem = {\r\n        key: EnumNavHeader.cpsModel,\r\n        text: 'CPS建模',\r\n        contrainer: 'cpsModel'\r\n      }\r\n    }\r\n\r\n    CPSConfigureManage.CpsConfigureMain.jumpTo = CpsConfigure.jumpTo      // 定义回调函数，跳转到文档管理页面\r\n    CPSConfigureManage.CpsConfigureMain.loadCanvas = CpsConfigure.loadCanvas  // 定义回调函数，加载画板模块数据\r\n  }\r\n\r\n  /** 跳转到CPS工厂建模管理界面并显示出来\r\n   * 保存之前的页面项，以方便离开本页面返回并跳转到此页面\r\n   * 将CPS工厂建模管理界面保存到storage中的主菜单共享数据中\r\n   * 切换到此CPS工厂建模管理界面\r\n   * 加载CPS工厂建模管理界面的画板模块数据\r\n   * */\r\n  static jumpTo(cpsConfigureId, factoryModuleType, vcl) {\r\n    CpsConfigure.LastItem = storage.getHeaderItem()\r\n    let selectedItem = CpsConfigure.CpsConfigureItem\r\n    storage.setHeaderItem(selectedItem)\r\n    CpsConfigure.gotoMenu(selectedItem)\r\n    CpsMainPanel.factoryModuleTypeWin.close()\r\n    CpsMainPanel.loadCpsConfigureView(cpsConfigureId, factoryModuleType, vcl)\r\n  }\r\n\r\n  /** 根据产线模型ID加载画板模块数据，包括组件配置和矢量线配置明细数据Vue\r\n   * produceControlLineId：CPS产线模型代码，为CPS产线模型的唯一标识\r\n   * */\r\n  static loadCanvas(produceControlLineId) {\r\n    CpsCommonFunc.getProduceControlLineList(produceControlLineId, function (list) {\r\n      CpsCommonVar.controlLineModels = list\r\n      CpsMainPanel.showProduceControlLineModels()\r\n    })\r\n  }\r\n\r\n  /** 初始化CPS工厂建模管理界面\r\n   * 初始化整体界面并加载相关数据\r\n   * */\r\n  static onSetMenu(el) {\r\n    if (!CpsConfigure.Instance) {\r\n      CpsConfigure.Instance = Ext.create('CPSConfigureManage.CpsConfigureMain', {})\r\n    }\r\n    let panel = CpsConfigure.Instance.createCpsFactoryModule(el, undefined, undefined)\r\n    return panel\r\n  }\r\n}\r\nexport {CpsConfigure}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/ext/cps-configure.js","import storage from '../../../module/storage'\r\nimport * as types from '../../../store/mutation-types'\r\nimport {NavHeaderItems} from '../../../components/items/nav-header-items'\r\nclass Document {\r\n  /*\r\n  在系统初始时需要做的工作\r\n   */\r\n  static onInit(gotoMenu) {\r\n    try {\r\n        if(Document.Instance==null){\r\n        Ext.Loader.setPath('DocumentManage', '/Scripts/ax/dm'); //定义文档管理模块类的引用路径\r\n        Document.Instance = Ext.create('DocumentManage.DocumentMain', {});\r\n      }\r\n      Document.gotoMenu=gotoMenu\r\n      // 查找得到顶部菜单中的文档管理Item\r\n      let filterList = NavHeaderItems.filter(item => {\r\n        if (item && item.text === '文档管理') return true\r\n        return false\r\n      })\r\n      if(filterList&&filterList.length>0)\r\n        Document.DocumentItem=filterList[0]\r\n      else{\r\n        Document.DocumentItem= {\r\n          key: EnumNavHeader.document,\r\n          text: '文档管理',\r\n          contrainer: 'document'\r\n        }\r\n      }\r\n\r\n      DocumentManage.DocumentMain.JumpTo=Document.JumpTo; // 定义回调函数，跳转到文档管理页面\r\n      DocumentManage.DocumentMain.JumpBack=Document.JumpBack; // 定义回调函数，从文档管理页面跳回原先页面\r\n    }\r\n    catch (err)\r\n    {\r\n      console.log(err)\r\n    }\r\n  };\r\n  /*\r\n  显示文档管理界面并跳转到跳转到指定文档\r\n   */\r\n  static JumpTo(dirId, dirType, docId){\r\n    // 通过设置storage中的主菜单共享数据，切换主页面\r\n    Document.LastItem= storage.getHeaderItem()  // 保存之前的页面Item\r\n    var selectedItem=  Document.DocumentItem\r\n    storage.setHeaderItem(selectedItem)\r\n    //Document.store.dispatch(types.MAIN_HEADER_SELECTED_ITEM, {selectedItem}) // 跳转当前页面到文档管理页面\r\n    Document.gotoMenu(selectedItem)\r\n\r\n    var delay = new Ext.util.DelayedTask(function () {\r\n      if( !Document.Instance.dirDocViewTab){\r\n        //尚未展示出来过\r\n        Document.Instance.autoExpandFirstNode();\r\n      }\r\n      Document.Instance.dirDocViewTab.jumpTo(dirId, dirType, docId);\r\n    });\r\n    delay.delay(1000);//延迟一定时间再定位到文档\r\n  };\r\n  /*\r\n  从文档管理页面返回之前的页面\r\n   */\r\n  static JumpBack(){\r\n    if(Document.LastItem&&Document.LastItem!=Document.DocumentItem){\r\n      // 如果有之前的页面，则调回原先的页面\r\n      var item=Document.LastItem\r\n      storage.setHeaderItem(item)\r\n      Document.gotoMenu(item) // 跳转回之前的页面\r\n    }\r\n  };\r\n  /*\r\n  在主界面上第一次点击相应的主菜单时需要执行的方法\r\n   */\r\n  static onSetMenu (el) {\r\n    const id = 'DocumentMainPanel_FixId';\r\n    DesktopApp.ActiveWindow = id;\r\n    if(Document.Instance==null){\r\n      Ext.Loader.setPath('DocumentManage', '/Scripts/ax/dm'); // 定义文档管理模块类的引用路径\r\n      Document.Instance = Ext.create('DocumentManage.DocumentMain', {});\r\n    }\r\n    var panel=Document.Instance.createMainPanel(el,id);\r\n    Document.Instance.autoExpandFirstNode(); // 自动显示第一个节点下的子目录信息\r\n    return panel;\r\n    }\r\n  };\r\nexport {Document}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/ext/document.js","/**\r\n * Created by Administrator on 2017/3/6.\r\n */\r\n/* 功能清单ext组件 */\r\nclass MenuConfig {\r\n  static onSetMenu (el) {\r\n    const id = Ext.id();\r\n    DesktopApp.ActiveWindow = id;\r\n    const rootData = Ax.utils.LibVclSystemUtils.loadMenuData(true);\r\n    const modelName = 'LibMenuSettingModel';\r\n    let modelType = Ext.data.Model.schema.getEntity(modelName);\r\n    if (modelType === null) {\r\n      modelType = Ext.define(\"LibMenuSettingModel\", {\r\n        extend: \"Ext.data.Model\",\r\n        fields: [\r\n          {name: 'MENUITEM', type: 'string'},\r\n          {name: 'PROGID', type: 'string'},\r\n          {name: 'PROGNAME', type: 'string'},\r\n          {name: 'BILLTYPE', type: 'int'},\r\n          {name: 'ENTRYPARAM', type: 'string'},\r\n          {name: 'ISVISUAL', type: 'boolean'},\r\n          {name: 'CONDITION', type: 'string'},\r\n          {name: 'ENABLETREELISTING', type: 'boolean'},\r\n          {name: 'TREECOLUMNNAME', type: 'string'}\r\n        ]\r\n      });\r\n    }\r\n    const store = Ext.create('Ext.data.TreeStore', {\r\n      model: 'LibMenuSettingModel',\r\n      proxy: {\r\n        type: 'memory',\r\n        reader: {\r\n          type: 'json'\r\n        }\r\n      },\r\n      root: rootData || {\r\n        expanded: true,\r\n        children: [\r\n          {\r\n            MENUITEM: '业务功能',\r\n            PROGID: '',\r\n            PROGNAME: '',\r\n            BILLTYPE: 1,\r\n            ENTRYPARAM: '',\r\n            CONDITION: '',\r\n            ISVISUAL: false,\r\n            leaf: false,\r\n            ENABLETREELISTING: false,\r\n            TREECOLUMNNAME: ''\r\n          },\r\n          {\r\n            MENUITEM: '报表管理',\r\n            PROGID: '',\r\n            PROGNAME: '',\r\n            BILLTYPE: 1,\r\n            ENTRYPARAM: '',\r\n            CONDITION: '',\r\n            ISVISUAL: false,\r\n            leaf: false,\r\n            ENABLETREELISTING:false,\r\n            TREECOLUMNNAME:''\r\n          },\r\n          {\r\n            MENUITEM: 'KPI管理',\r\n            PROGID: '',\r\n            PROGNAME: '',\r\n            BILLTYPE: 1,\r\n            ENTRYPARAM: '',\r\n            CONDITION: '',\r\n            ISVISUAL: false,\r\n            leaf: false,\r\n            ENABLETREELISTING:false,\r\n            TREECOLUMNNAME:''\r\n          },\r\n          {\r\n            MENUITEM: '看板管理',\r\n            PROGID: '',\r\n            PROGNAME: '',\r\n            BILLTYPE: 1,\r\n            ENTRYPARAM: '',\r\n            CONDITION: '',\r\n            ISVISUAL: false,\r\n            leaf: false,\r\n            ENABLETREELISTING:false,\r\n            TREECOLUMNNAME:''\r\n          },\r\n          {\r\n            MENUITEM: '文档管理',\r\n            PROGID: '',\r\n            PROGNAME: '',\r\n            BILLTYPE: 1,\r\n            ENTRYPARAM: '',\r\n            CONDITION: '',\r\n            ISVISUAL: false,\r\n            leaf: false,\r\n            ENABLETREELISTING:false,\r\n            TREECOLUMNNAME:''\r\n          }\r\n        ]\r\n      }\r\n    });\r\n\r\n    const fixNodes = ['业务功能', '报表管理', 'KPI管理', '看板管理', '文档管理'];\r\n    const treePanel = Ext.create('Ext.tree.Panel', {\r\n      width: 300,\r\n      flex: 0,\r\n      store: store,\r\n      displayField: 'MENUITEM',\r\n      rootVisible: false,\r\n      plugins: [\r\n        Ext.create('Ext.grid.plugin.CellEditing', {\r\n          clicksToEdit: 1\r\n        })\r\n      ],\r\n      dockedItems: [{\r\n        xtype: 'toolbar',\r\n        items: [{\r\n          text: '保存',\r\n          handler: function () {\r\n            const root = store.getRootNode();\r\n            const save = function () {\r\n              Ext.Ajax.request({\r\n                url: 'fileTranSvc/saveMenuSetting',\r\n                jsonData: {\r\n                  handle: UserHandle, menuData: Ext.encode(root.serialize())\r\n                },\r\n                method: 'POST',\r\n                success: function (response) {\r\n                  Ext.Msg.alert(\"提示\", \"保存成功！\");\r\n                },\r\n                failure: function () {\r\n                  Ext.Msg.alert(\"错误\", \"保存失败！\");\r\n                }\r\n              });\r\n            }();\r\n          }\r\n        }, {\r\n          text: '取消',\r\n          handler: function () {\r\n            const rootData = Ax.utils.LibVclSystemUtils.loadMenuData(true);\r\n            rootData.expanded = true\r\n            store.setRoot(rootData)\r\n            const record = Ext.create('LibMenuSettingModel', {\r\n              MENUITEM: '',\r\n              PROGID: '',\r\n              PROGNAME: '',\r\n              BILLTYPE: 1,\r\n              ENTRYPARAM: '',\r\n              CONDITION: '',\r\n              ISVISUAL: false,\r\n              ENABLETREELISTING: false,\r\n              TREECOLUMNNAME: ''\r\n            });\r\n            formPanel.loadRecord(record);\r\n          }\r\n        }]\r\n      }],\r\n      viewConfig: {\r\n        plugins: {\r\n          ptype: 'treeviewdragdrop',\r\n          dragText: '{0} 选中节点',\r\n          allowContainerDrop: true,\r\n          allowParentInsert: true,\r\n          containerScroll: true,\r\n          sortOnDrop: true\r\n        }\r\n      },\r\n      listeners: {\r\n        'itemcontextmenu': function (view, record, item, index, e, eOpts) {\r\n          e.preventDefault();\r\n          const menu = new Ext.menu.Menu({\r\n            items: [{\r\n              text: \"新增节点\",\r\n              iconCls: 'gridAdd',\r\n              handler: function () {\r\n                if (!Ext.Array.contains(fixNodes, record.get('MENUITEM')))\r\n                  addNode(record, false);\r\n              }\r\n            }, {\r\n              text: \"新增子节点\",\r\n              iconCls: 'gridAdd',\r\n              handler: function () {\r\n                addNode(record, true);\r\n              }\r\n            }, {\r\n              text: \"删除节点\",\r\n              iconCls: 'gridDelete',\r\n              handler: function () {\r\n                if (!Ext.Array.contains(fixNodes, record.get('MENUITEM')))\r\n                  record.remove();\r\n              }\r\n            }]\r\n          }).showAt(e.getXY());\r\n        },\r\n        'itemclick': function (view, record, item, index, e, eOpts) {\r\n          const selectedNode = treePanel.getSelectionModel().getLastSelected();\r\n          formPanel.loadRecord(selectedNode);\r\n          const progId = selectedNode.get('PROGID');\r\n          if (progId && progId != '') {\r\n            const field = formPanel.down('libSearchfield');\r\n            const fieldStore = field.getStore();\r\n            fieldStore.add({Id: progId, Name: selectedNode.get('PROGNAME')});\r\n            field.select(progId);\r\n            field.fieldType = typeof (progId);\r\n          }\r\n        }\r\n      }\r\n    });\r\n    treePanel.expand();\r\n    const addNode = function (currNode, nextLevel) {\r\n      const newNode = Ext.create('LibMenuSettingModel', {\r\n        MENUITEM: '',\r\n        PROGID: '',\r\n        PROGNAME: '',\r\n        BILLTYPE: 1,\r\n        ENTRYPARAM: '',\r\n        CONDITION: '',\r\n        ISVISUAL: false,\r\n        expanded: true,\r\n        id: Ax.utils.LibVclSystemUtils.newGuid()\r\n      });\r\n      if (nextLevel) {\r\n        currNode.appendChild(newNode);\r\n      }\r\n      else {\r\n        currNode.parentNode.appendChild(newNode);\r\n      }\r\n      return newNode;\r\n    };\r\n    const clearParam = function (name) {\r\n      const dataRow = formPanel.getRecord();\r\n      if (dataRow) {\r\n        dataRow.set(name, '');\r\n        const selectedNode = treePanel.getSelectionModel().getLastSelected();\r\n        if (selectedNode) {\r\n          selectedNode.beginEdit();\r\n          try {\r\n            selectedNode.set(name, '');\r\n          } finally {\r\n            selectedNode.endEdit();\r\n          }\r\n        }\r\n        const ctrl = Ext.getCmp(name + '0_' + id);\r\n        ctrl.setValue('');\r\n      }\r\n    }\r\n    const formPanel = Ext.create('Ext.form.Panel', {\r\n      flex: 1,\r\n      tbar: [{\r\n        xtype: 'button',\r\n        text: '设置入口参数',\r\n        handler: function () {\r\n          var dataRow = formPanel.getRecord();\r\n          if (dataRow) {\r\n            let param = dataRow.get('ENTRYPARAM');\r\n            const progId = dataRow.get('PROGID');\r\n            if (progId) {\r\n              if (param.length > 0)\r\n                param = Ext.decode(param).ParamStore;\r\n              else\r\n                param = undefined;\r\n              Ax.utils.LibEntryParam.createForm(proxyVcl, progId, param);\r\n            }\r\n            else\r\n              alert('请先选择功能。');\r\n          }\r\n        }\r\n      }, {\r\n        xtype: 'button',\r\n        text: '清除入口参数',\r\n        handler: function () {\r\n          clearParam('ENTRYPARAM');\r\n        }\r\n      }, {\r\n        xtype: 'button',\r\n        text: '设置条件',\r\n        handler: function () {\r\n          const dataRow = formPanel.getRecord();\r\n          if (dataRow) {\r\n            let execCondition = dataRow.get('CONDITION');\r\n            const execProgId = dataRow.get('PROGID');\r\n            if (execProgId) {\r\n              if (execCondition.length > 0)\r\n                execCondition = Ext.decode(execCondition).QueryFields;\r\n              else\r\n                execCondition = undefined;\r\n              Ax.utils.LibQueryForm.createForm(proxyVcl, execProgId, execCondition);\r\n            }\r\n            else\r\n              alert('请先选择功能。');\r\n          }\r\n        }\r\n      }, {\r\n        xtype: 'button',\r\n        text: '清除条件',\r\n        handler: function () {\r\n          clearParam('CONDITION');\r\n        }\r\n      }],\r\n      border: false,\r\n      items: [{\r\n        xtype: 'container',\r\n        layout: {type: 'table', columns: 1},\r\n        style: {marginTop: '6px', marginBottom: '6px'},\r\n        defaults: {labelAlign: 'right'},\r\n        defaultType: 'libTextField',\r\n        items: [{\r\n          xtype: 'libTextField',\r\n          height: 24,\r\n          width: 600,\r\n          colspan: 1,\r\n          fieldLabel: '清单名称',\r\n          name: 'MENUITEM',\r\n          tableIndex: 0\r\n        }, {\r\n          xtype: 'libSearchfield',\r\n          height: 24,\r\n          width: 600,\r\n          colspan: 2,\r\n          fieldLabel: '功能',\r\n          relSource: {'axp.FuncList': ''},\r\n          relName: 'PROGNAME',\r\n          relPk: '',\r\n          selParams: [],\r\n          name: 'PROGID',\r\n          tableIndex: 0,\r\n          selectFields: 'A.PROGNAME,A.BILLTYPE',\r\n          condition: 'A.CANMENU=1'\r\n        }, {\r\n          xtype: 'libTextField',\r\n          height: 24,\r\n          width: 600,\r\n          colspan: 1,\r\n          readOnly: true,\r\n          fieldLabel: '(功能名称)',\r\n          name: 'PROGNAME',\r\n          tableIndex: 0\r\n        }, {\r\n          xtype: 'libComboboxField',\r\n          height: 24,\r\n          width: 600,\r\n          colspan: 1,\r\n          readOnly: true,\r\n          fieldLabel: '(功能类型)',\r\n          queryMode: 'local',\r\n          editable: false,\r\n          displayField: 'value',\r\n          valueField: 'key',\r\n          store: Ext.create('Ext.data.Store', {\r\n            fields: ['key', 'value'],\r\n            data: [{'key': 0, 'value': '主数据'},\r\n              {'key': 1, 'value': '单据'},\r\n              {'key': 2, 'value': '数据维护功能'},\r\n              {'key': 3, 'value': '自定义功能'},\r\n              {'key': 4, 'value': '报表'},\r\n              {'key': 5, 'value': '日报表'}]\r\n          }), name: 'BILLTYPE', tableIndex: 0\r\n        }, {\r\n          xtype: 'libTextAreaField',\r\n          height: 100,\r\n          width: 600,\r\n          colspan: 1,\r\n          readOnly: true,\r\n          fieldLabel: '(入口参数)',\r\n          name: 'ENTRYPARAM',\r\n          tableIndex: 0\r\n        }, {\r\n          xtype: 'libCheckboxField',\r\n          fieldLabel: '是否看板',\r\n          name: 'ISVISUAL',\r\n          tableIndex: 0\r\n        }, {\r\n          xtype: 'libTextAreaField',\r\n          height: 200,\r\n          width: 600,\r\n          colspan: 1,\r\n          readOnly: true,\r\n          fieldLabel: '(条件)',\r\n          name: 'CONDITION',\r\n          tableIndex: 0\r\n        }]\r\n      }]\r\n    });\r\n    const record = Ext.create('LibMenuSettingModel', {\r\n      MENUITEM: '',\r\n      PROGID: '',\r\n      PROGNAME: '',\r\n      BILLTYPE: 1,\r\n      ENTRYPARAM: '',\r\n      CONDITION: '',\r\n      ISVISUAL: false\r\n    });\r\n    formPanel.loadRecord(record);\r\n\r\n    const splitter = Ext.create('Ext.resizer.Splitter', {\r\n      border: 5,\r\n      style: {\r\n        borderColor: '#eae4e4',\r\n        borderStyle: 'solid'\r\n      }\r\n    });\r\n\r\n    const proxyVcl = {\r\n      proxy: true,\r\n      vclHandler: function (sender, e) {\r\n        switch (e.libEventType) {\r\n          case LibEventTypeEnum.Validating:\r\n            if (Ext.Array.contains(fixNodes, e.dataInfo.dataRow.get('MENUITEM')))\r\n              e.dataInfo.cancel = true;\r\n            break;\r\n          case LibEventTypeEnum.Validated:\r\n            if (e.dataInfo.fieldName == 'PROGID') {\r\n              const progName = e.dataInfo.dataRow.get('PROGNAME');\r\n              let ctrl = Ext.getCmp('PROGNAME0_' + id);\r\n              ctrl.setValue(progName);\r\n              ctrl = Ext.getCmp('MENUITEM0_' + id);\r\n              ctrl.setValue(progName);\r\n              ctrl = Ext.getCmp('ISVISUAL0_' + id);\r\n              ctrl.setValue(false);\r\n              ctrl = Ext.getCmp('CONDITION0_' + id);\r\n              ctrl.setValue('');\r\n              ctrl = Ext.getCmp('ENTRYPARAM0_' + id);\r\n              ctrl.setValue('');\r\n              const selectedNode = treePanel.getSelectionModel().getLastSelected();\r\n              if (selectedNode) {\r\n                selectedNode.beginEdit();\r\n                try {\r\n                  selectedNode.set('MENUITEM', progName);\r\n                  selectedNode.set('PROGID', e.dataInfo.value);\r\n                  selectedNode.set('PROGNAME', progName);\r\n                  selectedNode.set('BILLTYPE', e.dataInfo.dataRow.get('BILLTYPE'));\r\n                  selectedNode.set('ISVISUAL', false);\r\n                  selectedNode.set('CONDITION', '');\r\n                  selectedNode.set('ENTRYPARAM', '');\r\n                  selectedNode.set('leaf', e.dataInfo.value != '');\r\n                } finally {\r\n                  selectedNode.endEdit();\r\n                }\r\n              }\r\n            } else if (e.dataInfo.fieldName == 'MENUITEM' || e.dataInfo.fieldName == 'ISVISUAL') {\r\n              const selectedNode = treePanel.getSelectionModel().getLastSelected();\r\n              if (selectedNode) {\r\n                selectedNode.beginEdit();\r\n                try {\r\n                  selectedNode.set(e.dataInfo.fieldName, e.dataInfo.value);\r\n                } finally {\r\n                  selectedNode.endEdit();\r\n                }\r\n              }\r\n            }\r\n            if (sender.xtype == 'libSearchfield') {\r\n              var dataInfo = e.dataInfo;\r\n              var tableIndex = dataInfo ? dataInfo.tableIndex : 0;\r\n              var fieldName = dataInfo ? dataInfo.fieldName : '';\r\n              //赋值relative name\r\n              var index = sender.store.find('Id', dataInfo.value);\r\n              if (index != -1)\r\n                dataInfo.dataRow.set(sender.relName, sender.store.data.items[index].get('Name'));\r\n              else\r\n                dataInfo.dataRow.set(sender.relName, '');\r\n\r\n              var realRelSource;\r\n              if (sender.realRelSource) {\r\n                realRelSource = sender.realRelSource;\r\n              }\r\n              else {\r\n                var obj = {};\r\n                realRelSource = Ax.utils.LibSysUtils.getRelSource(sender, dataInfo, sender.xcontainer.vcl, obj);\r\n                if (obj.hasRealRelSource) {\r\n                  sender.realRelSource = realRelSource;\r\n                }\r\n              }\r\n              if (sender.win.vcl.proxy === true) {\r\n                if (sender.selectFields) {\r\n                  var fn = function (realRelSource) {\r\n                    var condition = typeof this.condition == \"function\" ? this.condition() : this.condition ? 'and ' + this.condition : '';\r\n                    var returnValue;\r\n                    Ext.Ajax.request({\r\n                      url: '/billSvc/checkFieldValue',\r\n                      jsonData: {\r\n                        handle: UserHandle,\r\n                        fields: sender.selectFields,\r\n                        relSource: realRelSource,\r\n                        curPk: dataInfo.value,\r\n                        condition: condition,\r\n                        tableIndex: sender.tableIndex\r\n                      },\r\n                      method: 'POST',\r\n                      async: false,\r\n                      timeout: 90000000,\r\n                      success: function (response) {\r\n                        var result = Ext.decode(response.responseText);\r\n                        if (result.CheckFieldValueResult !== \"{}\") {\r\n                          returnValue = Ext.decode(result.CheckFieldValueResult);\r\n                        } else {\r\n                          returnValue = null\r\n                        }\r\n                      }\r\n                    });\r\n                    if (returnValue) {\r\n                      for (p in returnValue) {\r\n                        if (!returnValue.hasOwnProperty(p))\r\n                          continue;\r\n                        var value = returnValue[p];\r\n                        if (value !== undefined && value !== null) {\r\n                          if (dataInfo.dataRow && dataInfo.dataRow.getField(p) != null) {\r\n                            dataInfo.dataRow.set(p, value);\r\n                            var ctrl = Ext.getCmp(p + e.dataInfo.tableIndex + '_' + sender.win.getId());\r\n                            if (ctrl) {\r\n                              if (ctrl.xtype == 'libSearchfield') {\r\n                                ctrl.store.add({Id: returnValue[ctrl.name], Name: returnValue[ctrl.relName]});\r\n                                ctrl.select(returnValue[ctrl.name]);\r\n                              }\r\n                              else\r\n                                ctrl.setValue(value);\r\n                            }\r\n                          }\r\n                        }\r\n                      }\r\n                    } else {\r\n                      dataInfo.dataRow.set(sender.relName, '');\r\n                      dataInfo.dataRow.set('PROGID', '');\r\n                    }\r\n                  }\r\n                  fn.call(sender, realRelSource);\r\n                }\r\n              } else {\r\n                sender.win.vcl.doCheckField(dataInfo.tableIndex, dataInfo.fieldName, realRelSource, sender.relPk, dataInfo.value, dataInfo.dataRow, dataInfo.curGrid);\r\n              }\r\n              if (dataInfo.curForm)\r\n                dataInfo.curForm.loadRecord(dataInfo.dataRow);\r\n            }\r\n            break;\r\n        }\r\n      },\r\n      formCallBackHandler: function (tag, param) {\r\n        if (tag == 'SYSTEM_QUERY') {\r\n          const value = Ext.encode({QueryFields: param.condition});\r\n          setCondition('CONDITION', value);\r\n        } else if (tag == 'ENTRY_PARAM') {\r\n          const value = Ext.encode(param.condition);\r\n          setCondition('ENTRYPARAM', value);\r\n        }\r\n      }\r\n    };\r\n\r\n    const setCondition = function (name, value) {\r\n      const dataRow = formPanel.getRecord();\r\n      if (dataRow) {\r\n        dataRow.set(name, value);\r\n        const selectedNode = treePanel.getSelectionModel().getLastSelected();\r\n        if (selectedNode) {\r\n          selectedNode.beginEdit();\r\n          try {\r\n            selectedNode.set(name, value);\r\n          } finally {\r\n            selectedNode.endEdit();\r\n          }\r\n        }\r\n        const ctrl = Ext.getCmp(name + '0_' + id);\r\n        ctrl.setValue(value);\r\n      }\r\n    }\r\n\r\n    const panel = Ext.create('Ext.panel.Panel', {\r\n      containerpanel: true,\r\n      id: id,\r\n      isVcl: true,\r\n      title: '菜单设置',\r\n      autoScroll: true,\r\n      width: '100%',\r\n      height: '100%',\r\n      layout: {type: 'hbox', align: 'stretch'},\r\n      minimizable: false,\r\n      maximizable: false,\r\n      modal: true,\r\n      vcl: proxyVcl,\r\n      items: [treePanel, splitter, formPanel],\r\n      renderTo: el\r\n    });\r\n    return panel\r\n  }\r\n}\r\nexport {MenuConfig}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/ext/menu-config.js","/*!\r\n * Ext JS Library 4.0\r\n * Copyright(c) 2006-2011 Sencha Inc.\r\n * licensing@sencha.com\r\n * http://www.sencha.com/license\r\n */\r\nimport {ConsoleItemKey} from '../../../components/items/console-items'\r\nclass MessageControl {\r\n  static id = ConsoleItemKey.MESSAGES\r\n\r\n  static getControl () {\r\n    const panel = Ext.create('Container.MessageControl', {\r\n      height: '100%',\r\n      width: '100%'\r\n    });\r\n    return panel\r\n  }\r\n}\r\nexport {MessageControl}\r\nExt.define('Container.MessageControl', {\r\n  extend: 'Ext.panel.Panel',\r\n  header: true,\r\n  title: '我的消息',\r\n  animCollapse: false,\r\n  constrainHeader: true,\r\n  closable: true,\r\n  layout: {type: 'vbox', align: 'stretch'},\r\n  requires: [\r\n    'Ext.data.ArrayStore',\r\n    'Ext.util.Format',\r\n    'Ext.grid.Panel',\r\n    'Ext.grid.RowNumberer'\r\n  ],\r\n\r\n  init: function () {\r\n    this.launcher = {\r\n      text: '我的消息',\r\n      iconCls: 'msgIco'\r\n    };\r\n  },\r\n  create: function () {\r\n    var modelName = \"MyMessage\";\r\n    var modelType = Ext.data.Model.schema.getEntity(modelName);\r\n    if (modelType === null) {\r\n      modelType = Ext.define(modelName, {\r\n        extend: 'Ext.data.Model',\r\n        fields: [\r\n          {name: 'NewsId', type: 'string'},\r\n          {name: 'Title', type: 'string'},\r\n          {name: 'MainContent', type: 'string'},\r\n          {name: 'InfoId', type: 'string'},\r\n          {name: 'PersonName', type: 'string'},\r\n          {name: 'CreateDate', type: 'int'},\r\n          {name: 'CreateTime', type: 'int'},\r\n          {name: 'IsRead', type: 'bool'},\r\n          {name: 'ProgId', type: 'string'},\r\n          {name: 'DisplayText', type: 'string'},\r\n          {name: 'BillType', type: 'int'},\r\n          {name: 'CurPks', type: 'string'},\r\n          {name: 'EntryParam', type: 'string'},\r\n          {name: 'SourceSiteId', type: 'string'},\r\n          {name: 'SourceSiteName', type: 'string'},\r\n          {name: 'SourceSiteFullName', type: 'string'},\r\n          {name: 'SourceSiteUrl', type: 'string'},\r\n        ]\r\n      });\r\n    }\r\n    var data = [];\r\n    Ext.Ajax.request({\r\n      url: 'billSvc/getMyNews',\r\n      method: 'POST',\r\n      jsonData: {\r\n        handle: UserHandle, startTime: 0, onlyUnRead: true\r\n      },\r\n      async: false,\r\n      timeout: 90000000,\r\n      success: function (response) {\r\n        var ret = Ext.decode(response.responseText);\r\n        data = ret.GetMyNewsResult;\r\n      }\r\n    });\r\n\r\n    var store = Ext.create('Ext.data.Store', {\r\n      model: modelType,\r\n      data: data,\r\n      sorters: [{property: 'CreateDate', direction: 'DESC'}, {property: 'CreateTime', direction: 'DESC'}]\r\n    });\r\n\r\n    var isShowReaded = Ext.create('Ext.form.field.Checkbox', {\r\n      boxLabel: '显示已读信息',\r\n      labelAlign: 'right'\r\n    });\r\n\r\n    var grid = Ext.create('Ext.grid.Panel', {\r\n      store: store,\r\n      collapsible: false,\r\n      selType: 'checkboxmodel',\r\n      multiSelect: true,\r\n      plugins: [{\r\n        ptype: 'rowexpander',\r\n        rowBodyTpl: new Ext.XTemplate('<p>{MainContent}</p>')\r\n      }],\r\n      dockedItems: [{\r\n        dock: 'top',\r\n        xtype: 'toolbar',\r\n        items: [{\r\n          text: '标记为已读',\r\n          handler: function () {\r\n            var newsList = [];\r\n            var records = grid.getSelectionModel().getSelection();\r\n            for (var i = 0; i < records.length; i++) {\r\n              if (!records[i].get('IsRead')) {\r\n                records[i].set('IsRead', true);\r\n                newsList.push(records[i].get('NewsId'));\r\n              }\r\n            }\r\n            if (newsList.length > 0) {\r\n              Ext.Ajax.request({\r\n                url: 'billSvc/setMyNewsReadState',\r\n                method: 'POST',\r\n                jsonData: {\r\n                  handle: UserHandle, newsList: newsList\r\n                },\r\n                async: false,\r\n                timeout: 90000000,\r\n                success: function (response) {\r\n                  var ret = Ext.decode(response.responseText);\r\n                  ret = ret.SetMyNewsReadStateResult;\r\n                  if (ret == null || ret == '')\r\n                    ret = '已标记成功。';\r\n                  Ext.Msg.alert('提示', ret);\r\n                }\r\n              });\r\n            }\r\n          }\r\n        }, isShowReaded, {\r\n          text: '刷新列表',\r\n          handler: function () {\r\n            Ext.Ajax.request({\r\n              url: 'billSvc/getMyNews',\r\n              method: 'POST',\r\n              jsonData: {\r\n                handle: UserHandle, startTime: 0, onlyUnRead: !isShowReaded.getValue()\r\n              },\r\n              async: false,\r\n              timeout: 90000000,\r\n              success: function (response) {\r\n                var ret = Ext.decode(response.responseText);\r\n                data = ret.GetMyNewsResult;\r\n                grid.getStore().loadData(data);\r\n              }\r\n            });\r\n          }\r\n        }]\r\n      }],\r\n      columns: [{\r\n        text: '主题',\r\n        flex: 1,\r\n        dataIndex: 'Title',\r\n        summaryType: 'count',\r\n        summaryRenderer: function (value, summaryData, dataIndex) {\r\n          return ((value === 0 || value > 1) ? '(' + value + ' 条)' : '(1 条)');\r\n        }\r\n      }, {\r\n        text: '信息',\r\n        xtype: 'actioncolumn',\r\n        width: 60,\r\n        items: [{\r\n          iconCls: 'icon-grid',\r\n          tooltip: '查看',\r\n          scope: this,\r\n          handler: function (grid, rowIndex, colIndex) {\r\n            var rec = grid.getStore().getAt(rowIndex);\r\n\r\n            function canUseFunc (progId) {\r\n              var canUse = false;\r\n              Ext.Ajax.request({\r\n                url: 'billSvc/canUseFunc',\r\n                method: 'POST',\r\n                jsonData: {\r\n                  handle: UserHandle, progId: progId\r\n                },\r\n                async: false,\r\n                timeout: 90000000,\r\n                success: function (response) {\r\n                  var ret = Ext.decode(response.responseText);\r\n                  canUse = ret.CanUseFuncResult;\r\n                }\r\n              });\r\n              return canUse;\r\n            };\r\n            function getCurToken () {\r\n              var token = '';\r\n              Ext.Ajax.request({\r\n                url: 'sysSvc/getToken',\r\n                method: 'POST',\r\n                jsonData: {\r\n                  userHandle: UserHandle\r\n                },\r\n                async: false,\r\n                timeout: 90000000,\r\n                success: function (response) {\r\n                  var ret = Ext.decode(response.responseText);\r\n                  token = ret.GetTokenResult;\r\n                }\r\n              });\r\n              return token;\r\n            };\r\n            if (canUseFunc(rec.get('ProgId'))) {\r\n              var infoId = rec.get('InfoId');\r\n              var billType = rec.get('BillType');\r\n              var sourceSiteId = rec.get('SourceSiteId');\r\n              var sourceSiteFullName = rec.get('SourceSiteFullName');\r\n              if (infoId != null && infoId != '') {\r\n                if (sourceSiteId != null && sourceSiteId != '') {\r\n                  // 跨站点登录并打开单据\r\n                  // 先获取当前Token\r\n                  var token = getCurToken();\r\n                  // 构建sso登录并打开单据的Url\r\n                  var curPks = Ext.decode(rec.get('CurPks'));\r\n                  var entryParam = null;\r\n                  if (curPks && curPks.length > 0) {\r\n                    entryParam = rec.get('EntryParam');\r\n                    if (entryParam != null && entryParam != '')\r\n                      entryParam = Ext.decode(entryParam);\r\n                  }\r\n                  var ssoOpenBill = {\r\n                    UserId: UserId,\r\n                    Token: token,\r\n                    BillType: billType,\r\n                    ProgId: rec.get('ProgId'),\r\n                    CurPks: curPks,\r\n                    EntryParam: entryParam,\r\n                    InfoId: infoId,\r\n                    DisplayText: rec.get('DisplayText')\r\n                  };\r\n                  var siteUrl = rec.get('SourceSiteUrl');\r\n                  var newPageUrl = siteUrl + '/#/ssobill?bill=' + encodeURIComponent(JSON.stringify(ssoOpenBill));\r\n                  window.open(newPageUrl, sourceSiteFullName);\r\n                } else {\r\n                  switch (billType) {\r\n                    case 0:\r\n                    case 1:\r\n                      var curPks = Ext.decode(rec.get('CurPks'));\r\n                      if (curPks && curPks.length > 0) {\r\n                        var entryParam = rec.get('EntryParam');\r\n                        if (entryParam != null && entryParam != '')\r\n                          entryParam = Ext.decode(entryParam);\r\n                        Ax.utils.BillManager.openBillByF4(rec.get('ProgId'), BillActionEnum.Browse, curPks, entryParam);\r\n                      }\r\n                      break;\r\n                    case 4:\r\n                      Ax.utils.BillManager.openRpt(rec.get('ProgId'), rec.get('DisplayText'), infoId);\r\n                      break;\r\n                    case 5:\r\n                      Ax.utils.BillManager.openRpt(rec.get('ProgId'), rec.get('DisplayText'), infoId);\r\n                      break;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n            else\r\n              alert('没有该信息的查看权限。');\r\n          }\r\n        }]\r\n      },\r\n        {\r\n          text: '发送人员',\r\n          width: 80,\r\n          dataIndex: 'PersonName'\r\n        },\r\n        {\r\n          text: '来源站点',\r\n          width: 100,\r\n          dataIndex: 'SourceSiteName'\r\n        },\r\n        {\r\n          text: '日期',\r\n          width: 120,\r\n          dataIndex: 'CreateDate',\r\n          xtype: 'libDatecolumn',\r\n          axT: 1\r\n        }, {\r\n          text: '时间',\r\n          width: 75,\r\n          dataIndex: 'CreateTime',\r\n          xtype: 'libDatecolumn',\r\n          axT: 3\r\n        }, {\r\n          text: '已读',\r\n          width: 75,\r\n          dataIndex: 'IsRead',\r\n          xtype: 'libCheckcolumn'\r\n        }]\r\n    });\r\n    this.height = '100%'\r\n    this.items.add(grid);\r\n  }\r\n});\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/ext/message-control.js","/*!\r\n * Ext JS Library 4.0\r\n * Copyright(c) 2006-2011 Sencha Inc.\r\n * licensing@sencha.com\r\n * http://www.sencha.com/license\r\n */\r\nimport {ConsoleItemKey} from '../../../components/items/console-items'\r\nclass OaHomeControl {\r\n  static id = ConsoleItemKey.OA_HOME\r\n\r\n  static getControl () {\r\n    const panel = Ext.create('Container.OaHomeControl', {\r\n      height: '100%',\r\n      width: '100%'\r\n    });\r\n    return panel\r\n  }\r\n}\r\nexport {OaHomeControl}\r\nExt.define('Container.OaHomeControl', {\r\n  extend: 'Ext.panel.Panel',\r\n  header: true,\r\n  title: '首页',\r\n  animCollapse: false,\r\n  constrainHeader: true,\r\n  closable: true,\r\n  layout: {type: 'hbox', align: 'stretch'},\r\n\r\n  init: function () {\r\n    // this.launcher = {\r\n    //   text: '我的消息',\r\n    //   iconCls: 'msgIco'\r\n    // };\r\n  },\r\n  create: function () {\r\n//获取公告信息数据\r\n    var noticeStore = Ext.create('Ext.data.Store', {\r\n      model: 'OAHome.OaNotice',\r\n      proxy: {\r\n        type: 'ajax',\r\n        url: '/Desk/GetNoticeList',\r\n        reader: new Ext.data.JsonReader({model: 'OAHome.OaNotice'})\r\n      },\r\n      autoLoad: true\r\n    });\r\n    //创建公告表格模块\r\n    var advicesPanel = Ext.create('Ext.grid.Panel', {\r\n      title: '公告',\r\n      width: '100%',\r\n      flex: 3,\r\n      border: true,\r\n      style: {\r\n        background: 'white'\r\n      },\r\n      hideHeaders: true,\r\n      forceFit: true,\r\n      store: noticeStore,\r\n      columns: [\r\n        {header: \"内容\", width: 50, dataIndex: \"Content\", sortable: true, hidden: true},\r\n        {header: \"标题\", dataIndex: \"Title\", flex: 1, sortable: true},\r\n        {header: \"创建时间\", width: 100, dataIndex: \"CreateTime\", sortable: true}\r\n      ],\r\n      listeners: {\r\n        itemdblclick: function (dataview, record, item, index, e) {\r\n          ShowMessagePanel(\"公告\", record.get('Title'), record.get('CreateTime'), record.get('Content')).show();\r\n        },\r\n      }\r\n    });\r\n    //获取公司动态信息数据\r\n    var newsStore = Ext.create('Ext.data.Store', {\r\n      model: 'OAHome.OaNotice',\r\n      proxy: {\r\n        type: 'ajax',\r\n        url: '/Desk/GetNewsList',\r\n        reader: new Ext.data.JsonReader({model: 'OAHome.OaNotice'})\r\n      },\r\n      autoLoad: true\r\n    });\r\n    //创建公司动态表格模块\r\n    var newsPanel = Ext.create('Ext.grid.Panel', {\r\n      title: '公司动态',\r\n      width: '100%',\r\n      flex: 3,\r\n      border: true,\r\n      style: {\r\n        background: 'white'\r\n      },\r\n      hideHeaders: true,\r\n      forceFit: true,\r\n      store: newsStore,\r\n      columns: [\r\n        {header: \"内容\", width: 50, dataIndex: \"Content\", sortable: true, hidden: true},\r\n        {header: \"标题\", dataIndex: \"Title\", flex: 1, sortable: true},\r\n        {header: \"创建时间\", width: 100, dataIndex: \"CreateTime\", sortable: true}\r\n      ],\r\n      listeners: {\r\n        itemdblclick: function (dataview, record, item, index, e) {\r\n          ShowMessagePanel(\"公司动态\", record.get('Title'), record.get('CreateTime'), record.get('Content')).show();\r\n        },\r\n      }\r\n    });\r\n    //获取友情链接信息数据\r\n    var linksStore = Ext.create('Ext.data.Store', {\r\n      model: 'OAHome.OaNotice',\r\n      proxy: {\r\n        type: 'ajax',\r\n        url: '/Desk/GetLinksList',\r\n        reader: new Ext.data.JsonReader({model: 'OAHome.OaNotice'})\r\n      },\r\n      autoLoad: true\r\n    });\r\n    //创建友情链接表格模块\r\n    var linksPanel = Ext.create('Ext.grid.Panel', {\r\n      title: '友情链接',\r\n      width: '100%',\r\n      flex: 2,\r\n      style: {\r\n        background: 'white'\r\n      },\r\n      hideHeaders: true,\r\n      forceFit: true,\r\n      store: linksStore,\r\n      columns: [\r\n        {text: '左边链接', xtype: 'templatecolumn', tpl: '<a href=\"{Content}\" target=\"_blank\">{Title}</a>', flex: 1},\r\n        {text: '右边链接', xtype: 'templatecolumn', tpl: '<a href=\"{Content2}\" target=\"_blank\">{Title2}</a>', flex: 1}\r\n      ]\r\n    });\r\n    //创建知识管理内容模块\r\n    var knowledgePanel = Ext.create('Ext.panel.Panel', {\r\n      title: '知识管理',\r\n      width: '100%',\r\n      flex: 1,\r\n      border: true,\r\n      style: {\r\n        background: 'white'\r\n      },\r\n      html: '<div style=\"width:100%;height:100%;\"></div>'\r\n    });\r\n    //获取知识管理信息数据\r\n    $.ajax({\r\n      dataType: \"json\",\r\n      url: \"/Desk/GetKnowledgeList\",\r\n      type: \"POST\",\r\n      async: true,\r\n      data: {},\r\n      contentType: \"application/x-www-form-urlencoded\",\r\n      success: function (list) {\r\n        var html = '&nbsp;';\r\n        if (list.length > 0) {\r\n          var model = list[0];\r\n          html = '<div style=\"width:100%;height:100%;margin-top:10px;\">' +\r\n            '<table style=\"width:100%;height:75px;\">' +\r\n            '<tbody><tr>' +\r\n            '<td style=\"text-align:center;word-wrap:break-word;word-break:break-all;font-size:25px;font-weight:bold;line-height:28px;\">' + model.Title + '</td>' +\r\n            '<td style=\"width:100px;text-align:center;color:grey;font-size:18px;\">' + model.CreateTime + '</td>' +\r\n            '</tr></tbody>' +\r\n            '</table>' +\r\n            '<textarea readonly=\"readonly\" class=\"x-form-text x-form-text-default x-form-textarea\" autocomplete=\"off\" style=\"padding:0px 10px;height:calc(100% - 95px);\">' + model.Content + '</textarea></div>';\r\n        }\r\n        knowledgePanel.update(html);\r\n      }\r\n    });\r\n    //创建图片区域内容模块\r\n    var picturePanel = Ext.create('Ext.panel.Panel', {\r\n      title: '图片区域',\r\n      width: '100%',\r\n      height: 300,\r\n      flex: 0,\r\n      border: true,\r\n      style: {\r\n        background: 'white'\r\n      },\r\n      html: '<div id=\"changeIamges\" style=\"width:100%;height:100%;display:block;position:absolute;\">&nbsp;</div>'\r\n    });\r\n    //获取图片区域信息数据\r\n    $.ajax({\r\n      dataType: \"json\",\r\n      url: \"/Desk/GetImageList\",\r\n      type: \"POST\",\r\n      async: true,\r\n      data: {},\r\n      contentType: \"application/x-www-form-urlencoded\",\r\n      success: function (list) {\r\n        var html = '';\r\n        if (list.length > 0) {\r\n          for (var i = 0; i < list.length; i++) {\r\n            if (i == 0) {\r\n              html = html + '<img name=\"smallPic\" style=\"max-width:100%;max-height:100%;display: block;margin:0 auto;\" src=\"' + list[i] + '\" />';\r\n            } else {\r\n              html = html + '<img name=\"smallPic\" style=\"max-width:100%;max-height:100%;display: none;margin:0 auto;\" src=\"' + list[i] + '\" />';\r\n            }\r\n          }\r\n          html == '' ? '&nbsp;' : html;\r\n          html = '<div id=\"changeIamges\" style=\"width:100%;height:100%;display:block;position:absolute;\">' + html + '</div>';\r\n          var index = 1;\r\n          setInterval(function () {\r\n            var i = index == 0 ? list.length - 1 : index - 1;\r\n            $(\"#changeIamges\").find(\"img\").eq(i).css(\"display\", \"none\");\r\n            $(\"#changeIamges\").find(\"img\").eq(index).css(\"display\", \"block\");\r\n            index++;\r\n            index = index == list.length ? 0 : index;\r\n          }, 2000);\r\n        }\r\n        picturePanel.update(html);\r\n      }\r\n    });\r\n    this.items.add(Ext.create('Ext.panel.Panel', {\r\n      flex: 2,\r\n      layout: 'vbox',\r\n      height: '100%',\r\n      items: [advicesPanel, newsPanel, linksPanel]\r\n    }))\r\n    this.items.add(Ext.create('Ext.panel.Panel', {\r\n      flex: 3,\r\n      layout: 'vbox',\r\n      height: '100%',\r\n      items: [picturePanel, knowledgePanel]\r\n    }))\r\n  }\r\n});\r\n\r\n//定义公告、公司动态、知识管理、友情链接数据模型（标题，创建时间，内容，标题2，内容2）\r\nExt.define('OAHome.OaNotice', {\r\n  extend: 'Ext.data.Model',\r\n  fields: [\r\n    {name: 'Title', type: 'string'},\r\n    {name: 'CreateTime', type: 'string'},\r\n    {name: 'Content', type: 'string'},\r\n    {name: 'Title2', type: 'string'},\r\n    {name: 'Content2', type: 'string'}\r\n  ]\r\n});\r\n\r\n//用于显示当前公告或公司动态的具体信息（模块标题，内容标题，创建时间，内容）\r\nfunction ShowMessagePanel (panelTitle, title, createTime, content) {\r\n  var messageWindow = Ext.create('Ext.window.Window', {\r\n    align: 'middle',\r\n    closable: true,    //为'true'时显示‘close’工具按钮并且允许用户关闭窗体, 为假时隐藏按钮并且不允许关闭窗体。\r\n    constrain: true,    //True： 限制窗口在窗口包含的元素里面，false：允许顶部超出它包含的元素.默认的，窗体将被渲染到document.body。渲染和禁用窗口在另一个指定的renderTo元素内部\r\n    width: '60%',         //此组件的宽度，以像素为单位。\r\n    height: '80%',      //此组件的高度，以像素为单位。\r\n    plain: true,      //为真时，用一个透明的背景渲染窗体主体以便于它将融入框架元素， 为假时添加一个相对轻的背景颜色以便视觉上突出身体（body）元素并且 相对于周围的框架将它显示的更清晰。\r\n    resizable: false, //指定为“真”允许用户调整每个边缘和窗口的角落，为假时禁用调整。\r\n    title: panelTitle,  //此标题头内容被用于在panel 标题头展现。当一个title属性在Ext.panel.Header 中被指定那么会自动创建和渲染出一个头除非header属性被设置为了false。\r\n    titleAlign: 'center',  //可以设置为\"left\"(左), \"right\"(右) 或者 \"center\"(居中)。 设置Panel标题文字在图标和工具栏之间可利用的位置。\r\n    layout: 'fit',   //了保证子组件的大小和位置,通常开发者需要进行布局管理， 必须 通过layout项进行配置。 子组件的大小和位置items是根据开发者的配置由布局管理器去创建和管理的。\r\n    items: [           //单个组件,或者是以数组形式定义的子组件集合 将会自动添加到容器中去 如果开发者没有配置layout属性， 默认是按顺序将子组件渲染到在容器中，不考虑子组件的大小和定位。\r\n      Ext.create('Ext.panel.Panel', {\r\n        border: true,\r\n        flex: 1,\r\n        style: {\r\n          background: 'white'\r\n        },\r\n        html: '<div style=\"width:100%;height:100%;margin-top:10px;\">' +\r\n        '<table border=\"0\" style=\"width:100%;height:75px;\">' +\r\n        '<tbody><tr>' +\r\n        '<td style=\"text-align:center;word-wrap:break-word;word-break:break-all;font-size:25px;font-weight:bold;line-height:28px;\">' + title + '</td>' +\r\n        '<td style=\"width:100px;text-align:center;color:grey;font-size:18px;\">' + createTime + '</td>' +\r\n        '</tr></tbody>' +\r\n        '</table>' +\r\n        '<textarea readonly=\"readonly\" class=\"x-form-text x-form-text-default x-form-textarea\" autocomplete=\"off\" style=\"padding: 0px 10px;height: calc(100% - 95px);\">' + content + '</textarea></div>'\r\n      })\r\n    ],\r\n  });\r\n  return messageWindow;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/ext/oa-home-control.js","/**\r\n * Created by Administrator on 2017/3/17.\r\n */\r\nimport {OaHomeControl} from './oa-home-control'\r\nimport {MessageControl} from './message-control'\r\nimport {ConsoleItemKey} from '../../../components/items/console-items'\r\nconst controlItems = [MessageControl, OaHomeControl]\r\nclass Workbench {\r\n  static getControl (el) {\r\n    const panel = Ext.create('Ext.tab.Panel', {\r\n      containerpanel: true,\r\n      renderTo: el,\r\n      height: '100%',\r\n      width: '100%',\r\n      itemClick: function (record) {\r\n        var me = this;\r\n        var tabId = record[\"PROGID\"];//是否要考虑入口参数\r\n        var displayText = record[\"MENUITEM\"];\r\n        if (tabId === ConsoleItemKey.SUPPLATFORM) {\r\n          const userId = Ext.util.Cookies.get('loginUserId')\r\n          const password = Ext.util.Cookies.get('loginPassword')\r\n          Ext.Ajax.request({\r\n            url: '/sysSvc/vendorLogin',\r\n            async: false,\r\n            method: 'POST',\r\n            jsonData: {userId: userId, password: password},\r\n            timeout: 60000,\r\n            success: (response) => {\r\n              var ret = Ext.decode(response.responseText)\r\n              var params = Ext.encode(ret.VendorLoginResult)\r\n              if (true) {\r\n                window.open(\"http://192.168.1.17:9996?params=\" + params)\r\n              }\r\n              console.log(params)\r\n            }\r\n          })\r\n        } else {\r\n          var tab = me.items.get(tabId);\r\n          if (tab) {\r\n            tab.show();\r\n          } else {\r\n            var tab = null\r\n            for (var item of controlItems) {\r\n              if (item.id === tabId) {\r\n                tab = item.getControl()\r\n              }\r\n            }\r\n            if (tab) {\r\n              tab.title = displayText;\r\n              tab.id = tabId;\r\n              tab.create();\r\n              var addTab = function () {\r\n                me.add(tab).show();\r\n              }();\r\n            }\r\n          }\r\n        }\r\n      }\r\n    });\r\n    return panel\r\n  }\r\n}\r\nexport {Workbench}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/ext/workbench.js","/**\r\n * Created by Administrator on 2017-05-02.\r\n */\r\nclass Toastr {\r\n  static  toastrInit()\r\n  {\r\n    //设置显示配置\r\n    var messageOpts = {\r\n      \"closeButton\": true,//是否显示关闭按钮\r\n      \"debug\": false,//是否使用debug模式\r\n      \"positionClass\": \"toast-bottom-right\",//弹出窗的位置\r\n      \"onclick\": null,\r\n      \"showDuration\": \"300\",//显示的动画时间\r\n      \"hideDuration\": \"1000\",//消失的动画时间\r\n      \"timeOut\": \"5000\",//展现时间\r\n      \"extendedTimeOut\": \"1000\",//加长展示时间\r\n      \"showEasing\": \"swing\",//显示时的动画缓冲方式\r\n      \"hideEasing\": \"linear\",//消失时的动画缓冲方式\r\n      \"showMethod\": \"fadeIn\",//显示时的动画方式\r\n      \"hideMethod\": \"fadeOut\" //消失时的动画方式\r\n    };\r\n    toastr.options = messageOpts;\r\n  }\r\n  //提示\r\n  //调用方法1\r\n  //toastr.info('提示','有单据待审核');\r\n\r\n  //调用方法2\r\n  //toastr.info('内容2', '标题2');\r\n\r\n  //调用方法3\r\n  //toastr['info']('内容3', '标题3');\r\n\r\n  //调用方法4\r\n  //toastr.info('内容4', '标题4',messageOpts);\r\n\r\n  //$('#showtoastsuccess').click(function () {\r\n  //    //成功\r\n  //    toastr.success('内容success', '标题success');\r\n  //    //错误\r\n  //    toastr.error('内容error', '标题error');\r\n  //    //警告\r\n  //    toastr.warning('内容warning', '标题warning');\r\n  //    //清除\r\n  //    toastr.clear();\r\n  //    //移除\r\n  //    toastr.remove();\r\n  //});\r\n}\r\nexport default Toastr\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/toastr/toastr.js","module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_babel-runtime@6.26.0@babel-runtime/core-js/symbol.js\n// module id = 638\n// module chunks = 1","module.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_babel-runtime@6.26.0@babel-runtime/core-js/symbol/iterator.js\n// module id = 639\n// module chunks = 1","\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_babel-runtime@6.26.0@babel-runtime/helpers/typeof.js\n// module id = 640\n// module chunks = 1","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_core-js@2.5.0@core-js/library/fn/symbol/index.js\n// module id = 641\n// module chunks = 1","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_core-js@2.5.0@core-js/library/fn/symbol/iterator.js\n// module id = 642\n// module chunks = 1","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_core-js@2.5.0@core-js/library/modules/_enum-keys.js\n// module id = 643\n// module chunks = 1","var getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nmodule.exports = function (object, el) {\n  var O = toIObject(object);\n  var keys = getKeys(O);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) if (O[key = keys[index++]] === el) return key;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_core-js@2.5.0@core-js/library/modules/_keyof.js\n// module id = 644\n// module chunks = 1","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_core-js@2.5.0@core-js/library/modules/_object-gopd.js\n// module id = 645\n// module chunks = 1","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_core-js@2.5.0@core-js/library/modules/_object-gopn-ext.js\n// module id = 646\n// module chunks = 1","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar keyOf = require('./_keyof');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function';\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(key) {\n    if (isSymbol(key)) return keyOf(SymbolRegistry, key);\n    throw TypeError(key + ' is not a symbol!');\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    if (it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    replacer = args[1];\n    if (typeof replacer == 'function') $replacer = replacer;\n    if ($replacer || !isArray(replacer)) replacer = function (key, value) {\n      if ($replacer) value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_core-js@2.5.0@core-js/library/modules/es6.symbol.js\n// module id = 647\n// module chunks = 1","require('./_wks-define')('asyncIterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_core-js@2.5.0@core-js/library/modules/es7.symbol.async-iterator.js\n// module id = 648\n// module chunks = 1","require('./_wks-define')('observable');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_core-js@2.5.0@core-js/library/modules/es7.symbol.observable.js\n// module id = 649\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/_css-loader@0.27.3@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.contrainer-hide[data-v-49f23532] {\\n  height: 0;\\n  width: 0;\\n}\\n.contrainer-show[data-v-49f23532] {\\n  height: 100%;\\n  width: 100%;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"D:/TEMP/Vue/ax-jikon-adminlte/src/components/content/layout.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,UAAU;EACV,SAAS;CACV;AACD;EACE,aAAa;EACb,YAAY;CACb\",\"file\":\"layout.vue\",\"sourcesContent\":[\"\\n.contrainer-hide[data-v-49f23532] {\\n  height: 0;\\n  width: 0;\\n}\\n.contrainer-show[data-v-49f23532] {\\n  height: 100%;\\n  width: 100%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.27.3@css-loader?sourceMap!./~/_vue-loader@11.1.4@vue-loader/lib/style-rewriter.js?{\"id\":\"data-v-49f23532\",\"scoped\":true,\"hasInlineConfig\":true}!./~/_vue-loader@11.1.4@vue-loader/lib/selector.js?type=styles&index=0!./src/components/content/layout.vue\n// module id = 659\n// module chunks = 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/_css-loader@0.27.3@css-loader/index.js?sourceMap!../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/style-rewriter.js?{\\\"id\\\":\\\"data-v-49f23532\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/selector.js?type=styles&index=0!./layout.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/_vue-style-loader@2.0.4@vue-style-loader/lib/addStylesClient.js\")(\"91216904\", content, true);\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/_css-loader@0.27.3@css-loader/index.js?sourceMap!../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/style-rewriter.js?{\\\"id\\\":\\\"data-v-49f23532\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/selector.js?type=styles&index=0!./layout.vue\", function() {\n     var newContent = require(\"!!../../../node_modules/_css-loader@0.27.3@css-loader/index.js?sourceMap!../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/style-rewriter.js?{\\\"id\\\":\\\"data-v-49f23532\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/selector.js?type=styles&index=0!./layout.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_extract-text-webpack-plugin@2.1.0@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/_vue-style-loader@2.0.4@vue-style-loader!./~/_css-loader@0.27.3@css-loader?sourceMap!./~/_vue-loader@11.1.4@vue-loader/lib/style-rewriter.js?{\"id\":\"data-v-49f23532\",\"scoped\":true,\"hasInlineConfig\":true}!./~/_vue-loader@11.1.4@vue-loader/lib/selector.js?type=styles&index=0!./src/components/content/layout.vue\n// module id = 678\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"content-section\"\n  }, [_vm._l((_vm.contrainers), function(container) {\n    return _c('section', {\n      directives: [{\n        name: \"show\",\n        rawName: \"v-show\",\n        value: (_vm.isExt),\n        expression: \"isExt\"\n      }],\n      ref: container,\n      refInFor: true\n    })\n  }), _vm._v(\" \"), _c('router-view', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.isExt),\n      expression: \"!isExt\"\n    }]\n  })], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@11.1.4@vue-loader/lib/template-compiler.js?{\"id\":\"data-v-49f23532\"}!./~/_vue-loader@11.1.4@vue-loader/lib/selector.js?type=template&index=0!./src/components/content/layout.vue\n// module id = 701\n// module chunks = 1"],"sourceRoot":""}